{"version":3,"sources":["webpack:///index.js","webpack:///./lib/index.js","webpack:///../~/css-loader/lib/css-base.js","webpack:///../~/style-loader/addStyles.js","webpack:///./components/Fhir/Grid/index.js","webpack:///./redux/query.js","webpack:///./components/Fhir/Date.js","webpack:///./components/Fhir/Period.js","webpack:///./redux/index.js","webpack:///./redux/selection.js","webpack:///./redux/settings.js","webpack:///./components/Fhir/InsightsDetailButton.js","webpack:///./components/Alert/index.js","webpack:///./components/DialogFooter/index.js","webpack:///./components/ErrorMessage/index.js","webpack:///./components/Loader/index.js","webpack:///./components/PatientImage/index.js","webpack:///./lib/constants.js","webpack:///./index.js","webpack:///./components/AgeSelector/index.js","webpack:///./components/App/index.js","webpack:///./components/Fhir/CarePlan.js","webpack:///./components/Fhir/ConditionList.js","webpack:///./components/Fhir/Encounter.js","webpack:///./components/Fhir/ImmunizationList.js","webpack:///./components/Fhir/Observation.js","webpack:///./components/Fhir/Person.js","webpack:///./components/Fhir/ResourceList.js","webpack:///./components/Fhir/Time.js","webpack:///./components/Fhir/ValueRange.js","webpack:///./components/Footer/index.js","webpack:///./components/Header/index.js","webpack:///./components/PatientDetail/index.js","webpack:///./components/PatientList/index.js","webpack:///./components/PatientListItem/index.js","webpack:///./components/SortWidget/index.js","webpack:///./components/TagSelector/index.js","webpack:///./config.default.js","webpack:///./lib/PatientSearch.js","webpack:///./redux/urlParams.js","webpack:///./components/AgeSelector/AgeSelector.less","webpack:///./components/App/App.less","webpack:///./components/DialogFooter/DialogFooter.less","webpack:///./components/Footer/Footer.less","webpack:///./components/Header/Header.less","webpack:///./components/Loader/Loader.less","webpack:///./components/PatientDetail/PatientDetail.less","webpack:///./components/PatientImage/PatientImage.less","webpack:///./components/PatientList/PatientList.less","webpack:///./components/SortWidget/SortWidget.less","webpack:///./components/TagSelector/TagSelector.less","webpack:///../~/events/events.js","webpack:///../~/for-in/index.js","webpack:///../~/history/cjs/history.min.js","webpack:///../~/history/createHashHistory.js","webpack:///../~/history/index.js","webpack:///../~/history/warnAboutDeprecatedCJSRequire.js","webpack:///../~/is-extendable/index.js","webpack:///../~/is-plain-object/index.js","webpack:///../~/isobject/index.js","webpack:///../~/json5/lib/json5.js","webpack:///../~/mixin-deep/index.js","webpack:///../~/reactjs-popup/dist/reactjs-popup.esm.js","webpack:///../~/style-loader/fixUrls.js","webpack:///./components/AgeSelector/AgeSelector.less?f752","webpack:///./components/App/App.less?e748","webpack:///./components/DialogFooter/DialogFooter.less?53fd","webpack:///./components/Footer/Footer.less?27e7","webpack:///./components/Header/Header.less?b3d6","webpack:///./components/Loader/Loader.less?f4e6","webpack:///./components/PatientDetail/PatientDetail.less?113a","webpack:///./components/PatientImage/PatientImage.less?24b4","webpack:///./components/PatientList/PatientList.less?311a","webpack:///./components/SortWidget/SortWidget.less?7c58","webpack:///./components/TagSelector/TagSelector.less?15d5"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","intVal","x","defaultValue","out","parseInt","isNaN","isFinite","boolVal","test","String","getErrorMessage","input","Error","responseJSON","Array","isArray","issue","length","map","o","diagnostics","join","message","error","responseText","statusText","out2","key","push","React","createElement","replace","getPath","split","reduce","undefined","compileQueryString","params","query","p","forEach","v","encodeURIComponent","parseQueryString","str","trim","pop","pair","tokens","decodeURIComponent","value","hasOwnProperty","setHashParam","name","location","hash","findMRNCoding","codings","find","coding","code","findMRNIdentifier","identifiers","identifier","getPatientMRN","patient","mrn","getPatientName","family","given","prefix","suffix","t","filter","Boolean","getPatientPhone","phone","telecom","c","system","getPatientEmail","getPatientHomeAddress","a","address","use","l","line","postalCode","city","country","text","getPatientAge","from","birthDate","to","deceasedDateTime","age","seconds","Math","round","minutes","hours","days","months","getPatientImageUri","base","data","url","type","indexOf","http","match","getCodeableConcept","concept","getCodeOrConcept","codeIsNLPInsight","getInnerExtentsion","meta","ext_outer","item_outer","ext_inner","getInsightEntryDetails","item","result","entry_arr","arr_ext_outer","arr_ext_inner","e","confidence","coveredText","offsetBegin","offsetEnd","getInsightDetails","lastUpdated","processType","processName","processVersion","basedOn","insightEntryDetails","insightSource","InsightSource","NONE","processTypeArr","toLowerCase","includes","DOCUMENT","SELF","getInsightSource","searchHighlight","caseSensitive","s","q","i","substr","renderSearchHighlight","html","search","dangerouslySetInnerHTML","__html","getBundleURL","bundle","rel","nextLink","link","relation","request","options","cfg","$","extend","headers","Accept","Promise","resolve","reject","ajax","then","xhr","getAllPages","entry","fullUrl","findIndex","nextUrl","Object","defineProperty","highlightToggleButtonText","_extends","assign","target","arguments","source","prototype","call","_typeof","Symbol","iterator","constructor","newObj","_moment2","_moment","_jquery2","_jquery","cssWithMappingToString","useSourceMap","content","cssMapping","btoa","sourceMapping","toComment","concat","sources","sourceRoot","sourceMap","unescape","JSON","stringify","list","toString","this","modules","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","part","insertStyleElement","styleElement","styleTarget","getElement","insertInto","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","document","attrs","attachTagAttrs","createLinkElement","linkElement","element","keys","setAttribute","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","updateLink","href","applyToTag","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","fixUrls","blob","oldSrc","isOldIE","fn","memo","apply","window","all","atob","selector","querySelector","DEBUG","newList","mayRemove","textStore","replacement","_defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","Grid","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react2","_react","_propTypes2","_propTypes","state","__rows","sortRows","rows","comparator","_React$Component","newProps","setState","sort","res","settings","server","resourceType","fhirViewer","enabled","param","cols","col","render","path","cellProps","className","onClick","open","__enableGrouping","renderResource","groupColIndex","groupBy","label","groupPath","groups","rec","groupValue","group","colSpan","title","checked","onChange","style","minWidth","headerProps","renderRows","Component","propTypes","PropTypes","arrayOf","object","isRequired","string","func","connect","goPrev","goNext","fetch","setLimit","setTags","delTag","addTag","setSort","setQueryType","setQueryString","setParam","setGender","setConditions","delCondition","addCondition","setAgeGroup","setMaxAge","setMinAge","setData","setError","setLoading","queryBuilder","_handleActions","_PatientSearch2","_PatientSearch","PatientSearch","INITIAL_STATE","getState","loading","createAction","dispatch","setOffset","_getpages","_getpagesoffset","handleActions","action","payload","removeCondition","removeTag","_objectWithoutProperties","Date","moment","format","rest","oneOfType","instanceOf","Period","period","start","end","isSame","_reduxThunk2","_reduxThunk","_selection2","_selection","_query2","_query","_settings2","_settings","_urlParams2","_urlParams","middleWares","thunk","createStore","combineReducers","selection","urlParams","applyMiddleware","setHashSelection","k","setSelectionCleared","setAll","toggle","PARAMS","SINGLE","initialSelection","selectionCleared","TOGGLE","newState","_","showSelectedOnly","merge","_configDefault2","_configDefault","_mixinDeep2","_mixinDeep","MERGE","loaded","renderSelectedOnly","_reactjsPopup2","_reactjsPopup","InsightsDetailButton","getPrototypeOf","resource","details","isDocument","prettyDate","toUTCString","sourceUrl","trigger","position","on","paddingRight","role","Number","ICONS","info","warning","danger","success","Alert","width","close","aria-hidden","data-dismiss","lineHeight","icon","marginRight","children","oneOf","bool","any","defaultProps","DialogFooter","IS_POPUP","opener","IS_FRAME","parent","SelectionUI","len","viewClass","resetClass","hasSelection","canShowSelected","disabled","onToggleSelectionVisibility","onResetSelection","_React$Component2","outputMode","createPatientTransaction","bOn","OWNER","selectionCount","postMessage","confirmClose","confirm","export","resetSelection","renderDialogButtons","bValue","_Alert2","_Alert","ErrorMessage","Loader","sum","charCodeAt","PatientImage","renderCanvas","hex","jdenticon","backgroundImage","backgroundColor","height","CODE_SYSTEMS","_reactDom2","_reactDom","_App2","_App","_redux2","_redux","_PatientDetail2","_PatientDetail","_PatientList2","_PatientList","_createHashHistory2","_createHashHistory","jQuery","history","ReactDOM","Provider","store","STORE","Router","Switch","Route","component","PatientList","exact","PatientDetail","getElementById","tooltip","AgeSelector","args","onChangeMinValue","onChangeMinUnits","onChangeMaxValue","onChangeMaxUnits","onGroupChange","_propsToState","min","minValue","minUnits","units","max","maxValue","maxUnits","onMinChange","valueAsNumber","parseFloat","canSet","onMaxChange","maxDuration","duration","valid","step","shape","number","alert","App","_json2","_json","_Loader2","_Loader","_ErrorMessage2","_ErrorMessage","runningRequests","hideDelay","handle","clearTimeout","show","setTimeout","hide","ajaxStart","ajaxComplete","handleUiBlocking","config","dataType","cache","json","JSON5","parse","ajaxSetup","timeout","errorXHR","console","warn","always","settingReceived","onMessage","patientsPerPage","addEventListener","removeEventListener","_Grid2","_Grid","_Period2","_Period","CarePlan","resources","b","dA","dB","activity","reason","_Date2","_Date","_InsightsDetailButton2","_InsightsDetailButton","ConditionList","doHighlight","toggleHighlight","prevState","recs","highlight","display","clinicalStatus","verificationStatus","onset","onsetDateTime","onMouseUp","getEncounterClass","encounter","class","getEncounterLabel","_class","Encounter","ImmunizationList","status","date","occurrenceDateTime","occurrenceString","_ValueRange2","_ValueRange","_Time2","_Time","Observations","includeLabel","renderObservation","returnResult","getObservationLabel","valueBoolean","valueString","range","valueRange","valueTime","valueDateTime","valuePeriod","Person","renderCell","record","allOf","entries","visit","propValue","isNLP","nlpCodePath","raw","existing","some","color","getSortValue","paths","DataLink","ResourceList","sampleResource","ellipsis","r","renderCategory","category","quantity","unit","daysSupply","medicationReference","reference","div","authoredOn","dateWritten","performedDateTime","recorded","performedPeriod","availableTime","availableStartTime","availableEndTime","whenHandedOver","issued","effectiveDateTime","assertedDate","determineSchema","Time","ValueRange","low","high","_DialogFooter2","_DialogFooter","Footer","msg","hasPrev","hasNext","_id","startRec","offset","endRec","total","preventDefault","_TagSelector2","_TagSelector","_AgeSelector2","_AgeSelector","_SortWidget2","_SortWidget","Header","delay","submitStrategy","fetchDelay","padding","margin","onSubmit","placeholder","queryString","ageGroup","gender","minAge","maxAge","tags","conditions","condition","description","tag","selected","sel","_advanced","queryType","conditionsCount","demographicsCount","tagsCount","tabs","hideTagSelector","_tab","flexDirection","renderAdvancedTabContents","renderDemographicsTabContents","renderConditionsTabContents","renderTagsTabContents","_PatientImage2","_PatientImage","_Observation2","_Observation","_ImmunizationList2","_ImmunizationList","_ConditionList2","_ConditionList","_Encounter2","_Encounter","_CarePlan2","_CarePlan","_Person2","_Person","_ResourceList2","_ResourceList","clone","selectedSubCat","isEmptyObject","fetchPatient","catch","cacheId","nextURL","limit","subCat","token","charAt","toUpperCase","idLower","deceasedBoolean","items","Link","renderPatient","renderResources","paddingTop","_PatientListItem2","_PatientListItem","_Footer2","_Footer","_Header2","_Header","renderContents","renderPatientItems","isSelected","onSelectionChange","PatientListItem","stopPropagation","renderGender","SortWidget","parseSort","compileSort","change","_toConsumableArray","arr","arr2","TagSelector","selectedIndex","stateFromProps","onFocus","onBlur","onKeyDown","onInput","nextProps","hasChanged","custom","codes","nextState","menu","menuHeight","clientHeight","menuScrollTop","scrollTop","paddingBottom","selectedTop","offsetTop","selectedHeight","offsetHeight","requestAnimationFrame","listed","filterTags","keyCode","maxIndex","unshift","onMouseDown","renderTagCode","menuItems","renderTag","emptyMenu","ref","__cache__","__scheduled__","has","hasParam","patientIDs","schedule","inst","encode","prop","substring","d","subtract","systemUrl","compileConditions","conditionKeys","getConditionKeys","handleConditionsResponse","response","patientID","subject","every","conditionKey","ids","compile","method","processData","accept","getPatientIDs","hasConditions","ProcessEmitWarning","EventEmitter","init","checkListener","listener","_getMaxListeners","that","_maxListeners","defaultMaxListeners","_addListener","prepend","m","events","_events","_eventsCount","newListener","emit","warned","w","emitter","count","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","n","copy","spliceOne","ret","once","errorListener","err","resolver","slice","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","handler","flags","wrapListener","arg","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","get","set","RangeError","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","originalListener","shift","off","removeAllListeners","rawListeners","eventNames","thisArg","_interopDefault","addLeadingSlash","stripLeadingSlash","hasBasename","stripBasename","stripTrailingSlash","parsePath","pathname","createPath","createLocation","decodeURI","URIError","resolvePathname","locationsAreEqual","valueEqual","createTransitionManager","setPrompt","confirmTransitionTo","appendListener","notifyListeners","getConfirmation","supportsHistory","navigator","userAgent","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","getHistoryState","createBrowserHistory","f","random","T","g","P","u","H","L","go","E","O","PopStateEvent","HashChangeEvent","canUseDOM","invariant","forceRefresh","h","getUserConfirmation","keyLength","basename","y","S","createHref","pushState","replaceState","goBack","goForward","block","listen","stripHash","getHashPath","pushHashPath","replaceHashPath","createHashHistory","lastIndexOf","HashChangeEvent$1","hashType","HashPathCoders","encodePath","decodePath","getAttribute","clamp","createMemoryHistory","initialEntries","initialIndex","canGo","hashbang","noslash","slash","printWarning","member","isPlainObject","val","isObjectObject","isObject","ctor","prot","at","lineNumber","columnNumber","ch","escapee","ws","renderChar","chr","SyntaxError","next","peek","sign","word","delim","uffff","fromCharCode","inlineComment","blockComment","comment","white","Infinity","NaN","array","reviver","walk","holder","replacer","space","isWordChar","isWordStart","isWord","isDate","checkForCircular","objStack","makeIndent","num","noNewLine","indent","escapeString","escapable","lastIndex","internalStringify","isTopLevel","buffer","obj_part","getReplacedValueOrUndefined","valueOf","indentStr","nonEmpty","toJSON","topLevelHolder","mixinDeep","objects","forIn","isValidKey","isExtendable","__webpack_exports__","useOnEscape","active","event","useRepositionOnResize","useOnClickOutside","contains","current","useTabbing","contentRef","_contentRef$current","els","querySelectorAll","focusableEls","firstFocusableEl","lastFocusableEl","shiftKey","activeElement","focus","useIsomorphicLayoutEffect","Style","popupContent","zIndex","modal","popupArrow","background","overlay","top","bottom","left","right","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","offsetX","offsetY","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","getTooltipBoundary","keepTooltipInside","boundingBox","innerWidth","innerHeight","getBoundingClientRect","calculatePosition","_ref2","bestCoords","wrapperBox","positions","contentBox","popupIdCounter","getRootPopup","PopupRoot","body","Popup","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","_useState","isOpen","setIsOpen","triggerRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","_focusedElBeforeOpen$","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","getElementsByTagName","overflow","firstEl","cords","scrollY","scrollX","_arrowStyle$top","_arrowStyle$left","setProperty","addWarperAction","popupContentStyle","childrenElementProps","pointerEvents","renderContent","viewBox","fill","ovStyle","tabIndex","Fragment","triggerProps","onAsArray","comp","cloneElement","createPortal","baseUrl","protocol","host","currentDir","fullMatch","origUrl","unquotedOrigUrl","$1","newUrl","locals"],"mappings":"AAAAA,cAAc,IACP,CACA,CACA,CAED,SAAUC,EAAQC,EAASC,GAEjC,YAmDA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GC9ChF,QAASG,GAAOC,GAAqB,GAAlBC,GAAkB,uDAAH,EACjCC,EAAMC,SAASH,EAAI,GAAI,GAI3B,QAHII,MAAMF,IAASG,SAASH,KACxBA,EAAMH,EAAOE,IAEVC,EASJ,QAASI,GAAQN,GACpB,OAAQ,kBAAmBO,KAAKC,OAAOR,QAElC,kBAAmBO,KAAKC,OAAOR,OAE1BA,GAcP,QAASS,GAAgBC,GAC5B,GAAIA,GAAyB,gBAATA,GAChB,MAAOA,EAGX,IAAIR,GAAM,eAgCV,IA9BIQ,GAASA,YAAiBC,OAC1BT,EAAMM,OAAOE,GAGRA,GAASA,EAAME,aAEhBV,EADAW,MAAMC,QAAQJ,EAAME,aAAaG,QAAUL,EAAME,aAAaG,MAAMC,OAC9DN,EAAME,aAAaG,MAAME,IAAI,SAAAC,GAAA,MAAKA,GAAEC,aAAe,MAAKC,KAAK,MAI/DV,EAAME,aAAaS,SACnBX,EAAME,aAAaU,OACnB,gBAKHZ,GAASA,EAAMa,aACpBrB,EAAQQ,EAAMa,aAAe,MAAQb,EAAMc,YAAe,gBAGrDd,GAASA,EAAMc,aAEhBtB,EADoB,WAApBQ,EAAMc,WACA,gEAGAd,EAAMc,YAAc,iBAI9BtB,GAAqB,eAAd,KAAOA,EAAP,cAAOA,IAAiB,CAC/B,GAAIuB,KACJ,KAAK,GAAIC,KAAQxB,GACbuB,EAAKE,KAAKC,EAAMC,cAAc,MAAQH,OAAOxB,EAAIwB,IAErD,OAAOE,GAAMC,cAAc,MAAO,MAC9B,kBACAD,EAAMC,cAAc,KAAM,KAAMJ,KAIxC,MAAOjB,QAAON,GAAK4B,QAAQ,eAAgB,WAYxC,QAASC,GAAQnC,GACpB,OADoC,uDAAJ,IACpBoC,MAAM,KAAKC,OAAO,SAAC/B,EAAKwB,GAAN,MAAcxB,GAAMA,EAAIwB,OAAOQ,IAAWtC,GAGrE,QAASuC,GAAmBC,GAC/B,GAAIC,KAEJ,KAAK,GAAIX,KAAOU,GAAQ,EAHe,SAG9BV,GACL,GAAIY,GAAIF,EAAOV,EAIf,KAAKY,GAAW,IAANA,EACN,gBAKAzB,OAAMC,QAAQwB,GACdA,EAAEC,QAAQ,SAAAC,IAGFA,GAAW,IAANA,IACLH,EAAMV,KACFc,mBAAmBf,GAAO,IACxBe,mBAAmBD,MAQjCH,EAAMV,KACFc,mBAAmBf,GAAO,IACxBe,mBAAmBH,MA5BxBZ,GAiCT,MAAOW,GAAMjB,KAAK,KAGf,QAASsB,GAAiBC,GAC7B,GAAIzC,KAkBJ,OAjBAyC,GAAMnC,OAAOmC,GAAO,IAAIC,OAAOZ,MAAM,KAAKa,MAC1CF,EAAIX,MAAM,KAAKO,QAAQ,SAAAO,GACnB,GAAIC,GAASD,EAAKd,MAAM,KACpBN,EAASsB,mBAAmBD,EAAO,GACvC,IAAIrB,EAAK,CACL,GAAIuB,GAAQD,mBAAmBD,EAAO,IAAM,OACxC7C,GAAIgD,eAAexB,IACdb,MAAMC,QAAQZ,EAAIwB,MACnBxB,EAAIwB,IAAQxB,EAAIwB,KAEpBxB,EAAIwB,GAAKC,KAAKsB,IAGd/C,EAAIwB,GAAOuB,KAIhB/C,EAGJ,QAASiD,GAAaC,EAAMH,GAC/B,GAAIZ,GAAQgB,SAASC,KAAKtB,MAAM,KAAK,IAAM,GACvCsB,EAAQD,SAASC,KAAKxB,QAAQ,OAAQ,GAE1CO,GAAQK,EAAiBL,GAAS,QACpBH,KAAVe,EACIZ,EAAMa,eAAeE,UACdf,GAAMe,GAIjBf,EAAMe,GAAQH,EAGlBZ,EAAQF,EAAmBE,GAC3BgB,SAASC,KAAOA,GAAQjB,EAAQ,IAAMA,EAAQ,IAY3C,QAASkB,GAAcC,GAC1B,GAAI3C,MAAMC,QAAQ0C,GACd,MAAOA,GAAQC,KAAK,SAAAC,GAAA,MAAyB,MAAfA,EAAOC,OAUtC,QAASC,GAAkBC,GAC9B,MAAOA,GAAYJ,KACf,SAAAK,GAAA,QAAgBP,EAAcxB,EAAQ+B,EAAY,kBAUnD,QAASC,GAAcC,GAC1B,GAAIC,GAAM,IAEV,OAAIpD,OAAMC,QAAQkD,EAAQF,aAAeE,EAAQF,WAAW9C,SACxDiD,EAAML,EAAkBI,EAAQF,aAErBG,EAAIhB,MAIZgB,EAQJ,QAASC,GAAeF,GAC3B,IAAKA,EACD,MAAO,EAGX,IAAIZ,GAAOY,EAAQZ,IAKnB,IAJKvC,MAAMC,QAAQsC,KACfA,GAAQA,MAEZA,EAAOA,EAAK,IAER,MAAO,EAGX,IAAIe,GAAStD,MAAMC,QAAQsC,EAAKe,QAAUf,EAAKe,QAAWf,EAAKe,QAC3DC,EAASvD,MAAMC,QAAQsC,EAAKgB,OAAUhB,EAAKgB,OAAWhB,EAAKgB,OAC3DC,EAASxD,MAAMC,QAAQsC,EAAKiB,QAAUjB,EAAKiB,QAAWjB,EAAKiB,QAC3DC,EAASzD,MAAMC,QAAQsC,EAAKkB,QAAUlB,EAAKkB,QAAWlB,EAAKkB,OAE/D,QACID,EAAOpD,IAAI,SAAAsD,GAAA,MAAK/D,QAAO+D,GAAK,IAAI3B,SAAQxB,KAAK,KAC7CgD,EAAOnD,IAAI,SAAAsD,GAAA,MAAK/D,QAAO+D,GAAK,IAAI3B,SAAQxB,KAAK,KAC7C+C,EAAOlD,IAAI,SAAAsD,GAAA,MAAK/D,QAAO+D,GAAK,IAAI3B,SAAQxB,KAAK,KAC7CkD,EAAOrD,IAAI,SAAAsD,GAAA,MAAK/D,QAAO+D,GAAK,IAAI3B,SAAQxB,KAAK,MAC/CoD,OAAOC,SAASrD,KAAK,KASpB,QAASsD,KAA8B,GAAdV,GAAc,0DACtCW,GAASX,EAAQY,aAAenB,KAAK,SAAAoB,GAAA,MAAiB,SAAZA,EAAEC,QAChD,OAAOH,GAAQA,EAAM1B,MAAQ,GAS1B,QAAS8B,KAA8B,GAAdf,GAAc,0DACtCW,GAASX,EAAQY,aAAenB,KAAK,SAAAoB,GAAA,MAAiB,SAAZA,EAAEC,QAChD,OAAOH,GAAQA,EAAM1B,OAAS,GAAK,GAQhC,QAAS+B,KAAoC,GAAdhB,GAAc,0DAC5CiB,EAAKjB,EAAQkB,WACjBD,GAAIA,EAAExB,KAAK,SAAAoB,GAAA,MAAc,QAATA,EAAEM,OAAkBF,EAAE,MACtC,IAAIG,IAAKH,EAAEI,KAAMJ,EAAEK,WAAYL,EAAEM,KAAMN,EAAEO,SACpCvE,IAAI,SAAAjB,GAAA,MAAKQ,QAAOR,GAAK,IAAI4C,SACzB4B,OAAOC,SACPrD,KAAK,IACV,OAAOgE,KAAQH,EAAEQ,MAAQ,IAQtB,QAASC,GAAc1B,GAC1B,GAAI2B,IAAQ,aAAO3B,EAAQ4B,WACvBC,GAAQ,aAAO7B,EAAQ8B,sBAAoB5D,IAC3C6D,EAAQF,EAAKF,EAEbK,EAAUC,KAAKC,MAAMH,EAAM,IAC/B,IAAIC,EAAU,GACV,MAAOA,GAAU,SAGrB,IAAIG,GAAUF,KAAKC,MAAMF,EAAU,GACnC,IAAIG,EAAU,GACV,MAAOA,GAAU,SAGrB,IAAIC,GAAQH,KAAKC,MAAMC,EAAU,GACjC,IAAIC,EAAQ,GACR,MAAOA,GAAQ,OAGnB,IAAIC,GAAOJ,KAAKC,MAAME,EAAQ,GAC9B,IAAIC,EAAO,GACP,MAAOA,GAAO,MAGlB,IAAIC,GAASL,KAAKC,MAAMG,EAAO,GAC/B,OAAIC,GAAS,GACFA,EAAS,SAGRL,KAAKC,MAAMG,EAAO,KACf,QAQZ,QAASE,GAAmBvC,GAAkB,GAATwC,GAAS,uDAAJ,GACzCC,EAAO1E,EAAQiC,EAAS,iBAAmB,GAC3C0C,EAAO3E,EAAQiC,EAAS,gBAAkB,GAC1C2C,EAAO5E,EAAQiC,EAAS,wBAA0B,EAC7B,KAArB0C,EAAIE,QAAQ,OACZF,EAAMF,EAAO,GAAKE,EAEtB,IAAIG,GAAOH,GAAOA,EAAII,MAAM,eAU5B,QATKD,GAAQJ,GACLE,GAAkC,IAA1BF,EAAKG,QAAQ,WACrBH,UAAeE,EAAf,WAA8BF,GAElCC,EAAMD,GAEDE,IAASE,IACdH,UAAcC,EAAd,WAA6BD,GAE1BA,EAaJ,QAASK,GAAmBC,GAA6B,GAApB/G,GAAoB,uDAAL,GACvD,OAAOO,QACHuB,EAAQiF,EAAS,qBACjBjF,EAAQiF,EAAS,kBACjBA,EAAQvB,MACRxF,GAUD,QAASgH,GAAiBR,GAA0B,GAApBxG,GAAoB,uDAAL,GAClD,OAAmB,gBAARwG,GAAyBA,GAAQxG,EACrC8G,EAAmBN,EAAMxG,GAQ7B,QAASiH,GAAiBT,GAC7B,MAAoD,6CAA7C1E,EAAQ0E,EAAM,4BAczB,QAASU,GAAmBV,GACxB,GAAIW,GAAOrF,EAAQ0E,EAAM,OACzB,IAAIW,EAAM,CACN,GAAIC,GAAYtF,EAAQqF,EAAM,YAC9B,IAAIC,GAAaxG,MAAMC,QAAQuG,GAC3B,IAAK,GAAIC,KAAcD,GACnB,GAA6C,0CAAzCtF,EAAQsF,EAAUC,GAAa,OAAoD,CACnF,GAAIC,GAAYxF,EAAQsF,EAAUC,GAAa,YAC/C,OAAOC,IAKvB,MAAO,MAQX,QAASC,GAAuBC,GAC5B,GAAIC,MACAC,EAAY5F,EAAQ0F,EAAM,YAC9B,KAAK,GAAIG,KAAiBD,GAAW,CACjC,GAAIjB,GAAM3E,EAAQ4F,EAAUC,GAAgB,MAC5C,IAAW,8CAAPlB,EAAqD,CAErD,GAAImB,GAAgB9F,EAAQ4F,EAAUC,GAAgB,YACtD,KAAK,GAAIE,KAAKD,GACV,GAAwC,mDAApC9F,EAAQ8F,EAAcC,GAAI,QACsB,kBAA5C/F,EAAQ8F,EAAcC,GAAI,eAC1B,IAAK,GAAIA,KAAKD,GAC8B,oDAApC9F,EAAQ8F,EAAcC,GAAI,SAC1BJ,EAAOK,WAAahG,EAAQ8F,EAAcC,GAAI,oBAM/D,IAAW,wCAAPpB,EAA+C,CACtD,GAAImB,GAAgB9F,EAAQ4F,EAAUC,GAAgB,YACtD,KAAK,GAAIE,KAAKD,GAC8B,gDAApC9F,EAAQ8F,EAAcC,GAAI,OAC1BJ,EAAOM,YAAcjG,EAAQ8F,EAAcC,GAAI,eACJ,gDAApC/F,EAAQ8F,EAAcC,GAAI,OACjCJ,EAAOO,YAAclG,EAAQ8F,EAAcC,GAAI,gBACJ,8CAApC/F,EAAQ8F,EAAcC,GAAI,SACjCJ,EAAOQ,UAAYnG,EAAQ8F,EAAcC,GAAI,kBAK7D,MAAOJ,GAQH,QAASS,GAAkB1B,GAC/B,GAAIiB,KACJA,GAAOU,YAAcrG,EAAQ0E,EAAM,mBAEnC,IAAIc,GAAYJ,EAAmBV,EACnC,IAAIc,GAAa1G,MAAMC,QAAQyG,GAC3B,IAAK,GAAIE,KAAQF,GAAW,CACxB,GAAIb,GAAM3E,EAAQwF,EAAUE,GAAO,MAEnC,IAAW,4DAAPf,EACAgB,EAAOW,YAActG,EAAQwF,EAAUE,GAAO,mBAC3C,IAAW,4DAAPf,EACPgB,EAAOY,YAAcvG,EAAQwF,EAAUE,GAAO,mBAC3C,IAAW,+DAAPf,EACPgB,EAAOa,eAAiBxG,EAAQwF,EAAUE,GAAO,mBAC9C,IAAW,2CAAPf,EACPgB,EAAOc,QAAUzG,EAAQwF,EAAUE,GAAO,gCACvC,IAAW,iDAAPf,EAAwD,CAC/D,GAAI+B,GAAsBjB,EAAuBD,EAAUE,GAC3D,KAAK,GAAI/F,KAAO+G,GACZf,EAAOhG,GAAO+G,EAAoB/G,IAOlD,GAAiC,gBAAtBgG,GAAOW,YACdX,EAAOgB,cAAgBC,EAAcC,SAClC,CACH,GAAIC,GAAiBnB,EAAOW,YAAYS,cAAc9G,MAAM,IACxD6G,GAAeE,SAAS,gBACxBrB,EAAOgB,cAAgBC,EAAcK,SAC9BH,EAAeE,SAAS,cAC/BrB,EAAOgB,cAAgBC,EAAcM,KAGrCvB,EAAOgB,cAAgBC,EAAcC,KAI7C,MAAOlB,GAQJ,QAASwB,GAAiBzC,GAC7B,MAAO0B,GAAkB1B,GAAMiC,cAY5B,QAASS,GAAgBzI,EAAO2B,GAA8B,GAAvB+G,GAAuB,wDAC7DC,EAAI7I,OAAOE,GACX4I,EAAI9I,OAAO6B,GACXrC,EAAIqJ,CAEHD,KACDpJ,EAAIA,EAAE8I,cACNQ,EAAIA,EAAER,cAGV,IAAIS,GAAIvJ,EAAE4G,QAAQ0C,EAElB,OAAIC,IAAK,EAEDF,EAAEG,OAAO,EAAGD,GAAZ,8BAEAF,EAAEG,OAAOD,EAAGD,EAAEtI,QACd,UACAqI,EAAEG,OAAOD,EAAID,EAAEtI,QAIhBN,EAUJ,QAAS+I,GAAsBC,EAAMC,GACxC,MACI,yBAAMC,yBACFC,OAAQF,EAASR,EAAgBO,EAAMC,GAAUD,KAatD,QAASI,GAAaC,EAAQC,GACjC,GAAIC,GAAWF,EAAOG,IACtB,OAAID,IACAA,EAAWA,EAASxG,KAAK,SAAA2B,GAAA,MAAKA,GAAE+E,WAAaH,IACtCC,GAAYA,EAASvD,IAAMuD,EAASvD,IAAM,MAE9C,KAGJ,QAAS0D,GAAQC,GACpBA,EAA4B,gBAAXA,IAAwB3D,IAAM2D,GAAYA,KAC3D,IAAIC,GAAMC,UAAEC,QAAO,EAAMH,GACrBI,SACIC,OAAQ,0BAIhB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAEzBN,UAAEO,KAAKR,GAAKS,KACRH,EACA,SAAAI,GACI,GAAI3J,GAAUZ,EAAgBuK,EAC9B,OACWH,GADPxJ,GAA6B,gBAAXA,GACJ,GAAIV,OAAMU,IAGRA,gBAO7B,QAAS4J,GAAYZ,GAAsB,GAAb3C,GAAa,yDAC9C,OAAO0C,GAAQC,GAASU,KAAK,SAAAhB,IACxBA,EAAOmB,WAAa3I,QAAQ,SAAAkF,GACrBA,EAAK0D,UAAmE,GAAxDzD,EAAO0D,UAAU,SAAAlK,GAAA,MAAMA,GAAEiK,UAAY1D,EAAK0D,WAC1DzD,EAAO/F,KAAK8F,IAGpB,IAAI4D,GAAUvB,EAAaC,EAAQ,OACnC,OAAIsB,GACOJ,EAAYA,KAAKZ,GAAS3D,IAAK2E,IAAW3D,GAE9CA,ID/mBf4D,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQkJ,cAAgBlJ,EAAQ+L,8BAA4BtJ,EAE5D,IAAIuJ,GAAWH,OAAOI,QAAU,SAAUC,GAAU,IAAK,GAAIpC,GAAI,EAAGA,EAAIqC,UAAU5K,OAAQuI,IAAK,CAAE,GAAIsC,GAASD,UAAUrC,EAAI,KAAK,GAAI7H,KAAOmK,GAAcP,OAAOQ,UAAU5I,eAAe6I,KAAKF,EAAQnK,KAAQiK,EAAOjK,GAAOmK,EAAOnK,IAAY,MAAOiK,IAEnPK,EAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUtM,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXqM,SAAyBrM,EAAIuM,cAAgBF,QAAUrM,IAAQqM,OAAOH,UAAY,eAAkBlM,GAEtQH,GCPgBM,SDQhBN,ECMgBa,UDLhBb,ECwBgBgB,kBDvBhBhB,ECmFgBsC,UDlFhBtC,ECsFgB0C,qBDrFhB1C,EC4HgBiD,mBD3HhBjD,ECiJgB0D,eDhJhB1D,EC2KgB8D,gBD1KhB9D,ECsLgBmE,oBDrLhBnE,ECiMgBsE,gBDhMhBtE,ECkNgByE,iBDjNhBzE,ECkPgBiF,kBDjPhBjF,EC4PgBsF,kBD3PhBtF,ECqQgBuF,wBDpQhBvF,ECmRgBiG,gBDlRhBjG,ECyTgB8G,qBDxThB9G,ECsVgBsH,qBDrVhBtH,ECoWgBwH,mBDnWhBxH,EC6WgByH,mBD5WhBzH,ECwbiB0I,oBDvbjB1I,ECwegByJ,mBDvehBzJ,ECofgB0J,kBDnfhB1J,ECmhBgBgK,wBDlhBhBhK,ECkiBgBqK,eDjiBhBrK,EC0iBgB2K,UDziBhB3K,ECkkBgBwL,aA9mBhB,YAAYrJ,ED4DZ,SAAiChC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIwM,KAAa,IAAW,MAAPxM,EAAe,IAAK,GAAI8B,KAAO9B,GAAW0L,OAAOQ,UAAU5I,eAAe6I,KAAKnM,EAAK8B,KAAM0K,EAAO1K,GAAO9B,EAAI8B,GAAgC,OAAtB0K,GAAOtM,QAAUF,EAAYwM,G,GC3DlQ,ODmDIC,EAAW1M,EAAuB2M,GClDtC,QDsDIC,EAAW5M,EAAuB6M,GC8VzB7D,GApC4B6C,EAA5BA,0BAA4B,sBAoCZ7C,EAAhBA,eACTC,KAAM,OACNK,KAAM,OACND,SAAU,cD8RP,CAED,SAAUxJ,EAAQC,GExoBxB,QAASgN,GAAuBhF,EAAMiF,GACrC,GAAIC,GAAUlF,EAAK,IAAM,GACrBmF,EAAanF,EAAK,EACtB,KAAKmF,EACJ,MAAOD,EAGR,IAAID,GAAgC,kBAATG,MAAqB,CAC/C,GAAIC,GAAgBC,EAAUH,EAK9B,QAAQD,GAASK,OAJAJ,EAAWK,QAAQhM,IAAI,SAAU4K,GACjD,MAAO,iBAAmBe,EAAWM,WAAarB,EAAS,SAGxBmB,QAAQF,IAAgB1L,KAAK,MAGlE,OAAQuL,GAASvL,KAAK,MAIvB,QAAS2L,GAAUI,GAKlB,MAAO,mEAHMN,KAAKO,SAAS3K,mBAAmB4K,KAAKC,UAAUH,MAGtC,MArExB3N,EAAOC,QAAU,SAASiN,GACzB,GAAIa,KAwCJ,OArCAA,GAAKC,SAAW,WACf,MAAOC,MAAKxM,IAAI,SAAUwG,GACzB,GAAIkF,GAAUF,EAAuBhF,EAAMiF,EAC3C,OAAGjF,GAAK,GACA,UAAYA,EAAK,GAAK,IAAMkF,EAAU,IAEtCA,IAENvL,KAAK,KAITmM,EAAKhE,EAAI,SAASmE,EAASC,GACJ,gBAAZD,KACTA,IAAY,KAAMA,EAAS,KAE5B,KAAI,GADAE,MACIrE,EAAI,EAAGA,EAAIkE,KAAKzM,OAAQuI,IAAK,CACpC,GAAIsE,GAAKJ,KAAKlE,GAAG,EACA,iBAAPsE,KACTD,EAAuBC,IAAM,GAE/B,IAAItE,EAAI,EAAGA,EAAImE,EAAQ1M,OAAQuI,IAAK,CACnC,GAAI9B,GAAOiG,EAAQnE,EAKG,iBAAZ9B,GAAK,IAAoBmG,EAAuBnG,EAAK,MAC3DkG,IAAelG,EAAK,GACtBA,EAAK,GAAKkG,EACDA,IACTlG,EAAK,GAAK,IAAMA,EAAK,GAAK,UAAYkG,EAAa,KAEpDJ,EAAK5L,KAAK8F,MAIN8F,IF6tBF,SAAU/N,EAAQC,EAASC,GG3rBjC,QAASoO,GAAeC,EAAQ1D,GAC/B,IAAI,GAAId,GAAI,EAAGA,EAAIwE,EAAO/M,OAAQuI,IAAK,CACtC,GAAI9B,GAAOsG,EAAOxE,GACdyE,EAAWC,EAAYxG,EAAKoG,GAChC,IAAGG,EAAU,CACZA,EAASE,MACT,KAAI,GAAIC,GAAI,EAAGA,EAAIH,EAASI,MAAMpN,OAAQmN,IACzCH,EAASI,MAAMD,GAAG1G,EAAK2G,MAAMD,GAE9B,MAAMA,EAAI1G,EAAK2G,MAAMpN,OAAQmN,IAC5BH,EAASI,MAAMzM,KAAK0M,EAAS5G,EAAK2G,MAAMD,GAAI9D,QAEvC,CAEN,IAAI,GADA+D,MACID,EAAI,EAAGA,EAAI1G,EAAK2G,MAAMpN,OAAQmN,IACrCC,EAAMzM,KAAK0M,EAAS5G,EAAK2G,MAAMD,GAAI9D,GAEpC4D,GAAYxG,EAAKoG,KAAOA,GAAIpG,EAAKoG,GAAIK,KAAM,EAAGE,MAAOA,KAKxD,QAASE,GAAaf,GAGrB,IAAI,GAFAQ,MACAQ,KACIhF,EAAI,EAAGA,EAAIgE,EAAKvM,OAAQuI,IAAK,CACpC,GAAI9B,GAAO8F,EAAKhE,GACZsE,EAAKpG,EAAK,GACV+G,EAAM/G,EAAK,GACXgH,EAAQhH,EAAK,GACb0F,EAAY1F,EAAK,GACjBiH,GAAQF,IAAKA,EAAKC,MAAOA,EAAOtB,UAAWA,EAC3CoB,GAAUV,GAGbU,EAAUV,GAAIO,MAAMzM,KAAK+M,GAFzBX,EAAOpM,KAAK4M,EAAUV,IAAOA,GAAIA,EAAIO,OAAQM,KAI/C,MAAOX,GAGR,QAASY,GAAmBtE,EAASuE,GACpC,GAAIC,GAAcC,EAAWzE,EAAQ0E,WACrC,KAAKF,EACJ,KAAM,IAAIlO,OAAM,8GAEjB,IAAIqO,GAAgCC,EAA2BA,EAA2BjO,OAAS,EACnG,IAAyB,QAArBqJ,EAAQ6E,SACPF,EAEMA,EAA8BG,YACvCN,EAAYO,aAAaR,EAAcI,EAA8BG,aAErEN,EAAYQ,YAAYT,GAJxBC,EAAYO,aAAaR,EAAcC,EAAYS,YAMpDL,EAA2BtN,KAAKiN,OAC1B,IAAyB,WAArBvE,EAAQ6E,SAGlB,KAAM,IAAIvO,OAAM,qEAFhBkO,GAAYQ,YAAYT,IAM1B,QAASW,GAAmBX,GAC3BA,EAAaY,WAAWC,YAAYb,EACpC,IAAIc,GAAMT,EAA2BrI,QAAQgI,EAC1Cc,IAAO,GACTT,EAA2BU,OAAOD,EAAK,GAIzC,QAASE,GAAmBvF,GAC3B,GAAIuE,GAAeiB,SAAShO,cAAc,QAK1C,OAJAwI,GAAQyF,MAAMnJ,KAAO,WAErBoJ,EAAenB,EAAcvE,EAAQyF,OACrCnB,EAAmBtE,EAASuE,GACrBA,EAGR,QAASoB,GAAkB3F,GAC1B,GAAI4F,GAAcJ,SAAShO,cAAc,OAMzC,OALAwI,GAAQyF,MAAMnJ,KAAO,WACrB0D,EAAQyF,MAAM9F,IAAM,aAEpB+F,EAAeE,EAAa5F,EAAQyF,OACpCnB,EAAmBtE,EAAS4F,GACrBA,EAGR,QAASF,GAAeG,EAASJ,GAChCxE,OAAO6E,KAAKL,GAAOvN,QAAQ,SAAUb,GACpCwO,EAAQE,aAAa1O,EAAKoO,EAAMpO,MAIlC,QAAS2M,GAASzO,EAAKyK,GACtB,GAAIuE,GAAcyB,EAAQC,CAE1B,IAAIjG,EAAQkG,UAAW,CACtB,GAAIC,GAAaC,GACjB7B,GAAe8B,IAAqBA,EAAmBd,EAAmBvF,IAC1EgG,EAASM,EAAoBC,KAAK,KAAMhC,EAAc4B,GAAY,GAClEF,EAASK,EAAoBC,KAAK,KAAMhC,EAAc4B,GAAY,OACzD5Q,GAAIuN,WACE,kBAAR0D,MACwB,kBAAxBA,KAAIC,iBACoB,kBAAxBD,KAAIE,iBACK,kBAATC,OACS,kBAATnE,OACP+B,EAAeoB,EAAkB3F,GACjCgG,EAASY,EAAWL,KAAK,KAAMhC,EAAcvE,GAC7CiG,EAAS,WACRf,EAAmBX,GAChBA,EAAasC,MACfL,IAAIE,gBAAgBnC,EAAasC,SAGnCtC,EAAegB,EAAmBvF,GAClCgG,EAASc,EAAWP,KAAK,KAAMhC,GAC/B0B,EAAS,WACRf,EAAmBX,IAMrB,OAFAyB,GAAOzQ,GAEA,SAAqBwM,GAC3B,GAAGA,EAAQ,CACV,GAAGA,EAAOoC,MAAQ5O,EAAI4O,KAAOpC,EAAOqC,QAAU7O,EAAI6O,OAASrC,EAAOe,YAAcvN,EAAIuN,UACnF,MACDkD,GAAOzQ,EAAMwM,OAEbkE,MAcH,QAASK,GAAoB/B,EAAcwC,EAAOd,EAAQ1Q,GACzD,GAAI4O,GAAM8B,EAAS,GAAK1Q,EAAI4O,GAE5B,IAAII,EAAayC,WAChBzC,EAAayC,WAAWC,QAAUC,EAAYH,EAAO5C,OAC/C,CACN,GAAIgD,GAAU3B,SAAS4B,eAAejD,GAClCkD,EAAa9C,EAAa8C,UAC1BA,GAAWN,IAAQxC,EAAaa,YAAYiC,EAAWN,IACvDM,EAAW1Q,OACd4N,EAAaQ,aAAaoC,EAASE,EAAWN,IAE9CxC,EAAaS,YAAYmC,IAK5B,QAASL,GAAWvC,EAAchP,GACjC,GAAI4O,GAAM5O,EAAI4O,IACVC,EAAQ7O,EAAI6O,KAMhB,IAJGA,GACFG,EAAawB,aAAa,QAAS3B,GAGjCG,EAAayC,WACfzC,EAAayC,WAAWC,QAAU9C,MAC5B,CACN,KAAMI,EAAaU,YAClBV,EAAaa,YAAYb,EAAaU,WAEvCV,GAAaS,YAAYQ,SAAS4B,eAAejD,KAInD,QAASyC,GAAWhB,EAAa5F,EAASzK,GACzC,GAAI4O,GAAM5O,EAAI4O,IACVrB,EAAYvN,EAAIuN,UAOhBwE,MAAgDzP,KAAlCmI,EAAQuH,uBAAuCzE,GAE7D9C,EAAQuH,uBAAyBD,KACpCnD,EAAMqD,EAAQrD,IAGZrB,IAEFqB,GAAO,uDAAyD3B,KAAKO,SAAS3K,mBAAmB4K,KAAKC,UAAUH,MAAgB,MAGjI,IAAI2E,GAAO,GAAId,OAAMxC,IAAQ7H,KAAM,aAE/BoL,EAAS9B,EAAYiB,IAEzBjB,GAAYiB,KAAOL,IAAIC,gBAAgBgB,GAEpCC,GACFlB,IAAIE,gBAAgBgB,GA5RtB,GAAI9D,MAQH+D,EAPU,SAASC,GAClB,GAAIC,EACJ,OAAO,YAEN,WADoB,KAATA,IAAsBA,EAAOD,EAAGE,MAAM1E,KAAM7B,YAChDsG,IAGS,WAMjB,MAAOE,SAAUvC,UAAYA,SAASwC,MAAQD,OAAOE,OAEtDxD,EAAa,SAAUmD,GACtB,GAAIC,KACJ,OAAO,UAASK,GAIf,WAH8B,KAAnBL,EAAKK,KACfL,EAAKK,GAAYN,EAAGlG,KAAK0B,KAAM8E,IAEzBL,EAAKK,KAEX,SAAU1D,GACZ,MAAOgB,UAAS2C,cAAc3D,KAE/B6B,EAAmB,KACnBD,EAAmB,EACnBxB,KACA4C,EAAU,EAAQ,IAEnBrS,GAAOC,QAAU,SAAS8N,EAAMlD,GAC/B,GAAoB,mBAAVoI,QAAyBA,OACX,gBAAb5C,UAAuB,KAAM,IAAIlP,OAAM,+DAGlD0J,GAAUA,MACVA,EAAQyF,MAAiC,gBAAlBzF,GAAQyF,MAAqBzF,EAAQyF,aAI3B,KAAtBzF,EAAQkG,YAA2BlG,EAAQkG,UAAYyB,SAGhC,KAAvB3H,EAAQ0E,aAA4B1E,EAAQ0E,WAAa,YAGpC,KAArB1E,EAAQ6E,WAA0B7E,EAAQ6E,SAAW,SAEhE,IAAInB,GAASO,EAAaf,EAG1B,OAFAO,GAAeC,EAAQ1D,GAEhB,SAAgBqI,GAEtB,IAAI,GADAC,MACIpJ,EAAI,EAAGA,EAAIwE,EAAO/M,OAAQuI,IAAK,CACtC,GAAI9B,GAAOsG,EAAOxE,GACdyE,EAAWC,EAAYxG,EAAKoG,GAChCG,GAASE,OACTyE,EAAUhR,KAAKqM,GAEhB,GAAG0E,EAAS,CAEX5E,EADgBQ,EAAaoE,GACHrI,GAE3B,IAAI,GAAId,GAAI,EAAGA,EAAIoJ,EAAU3R,OAAQuI,IAAK,CACzC,GAAIyE,GAAW2E,EAAUpJ,EACzB,IAAqB,IAAlByE,EAASE,KAAY,CACvB,IAAI,GAAIC,GAAI,EAAGA,EAAIH,EAASI,MAAMpN,OAAQmN,IACzCH,EAASI,MAAMD,WACTF,GAAYD,EAASH,OA+IhC,IAAI0D,GAAc,WACjB,GAAIqB,KAEJ,OAAO,UAAUxB,EAAOyB,GAEvB,MADAD,GAAUxB,GAASyB,EACZD,EAAUpO,OAAOC,SAASrD,KAAK,WHo1BjC,CACA,CACA,CAED,SAAU5B,EAAQC,EAASC,GAEjC,YAwBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASkT,GAAgBlT,EAAK8B,EAAKuB,GAAiK,MAApJvB,KAAO9B,GAAO0L,OAAOC,eAAe3L,EAAK8B,GAAOuB,MAAOA,EAAO8P,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBrT,EAAI8B,GAAOuB,EAAgBrD,EAE3M,QAASsT,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA7BjerI,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQsU,SAAO7R,EAEf,IAAIuJ,GAAWH,OAAOI,QAAU,SAAUC,GAAU,IAAK,GAAIpC,GAAI,EAAGA,EAAIqC,UAAU5K,OAAQuI,IAAK,CAAE,GAAIsC,GAASD,UAAUrC,EAAI,KAAK,GAAI7H,KAAOmK,GAAcP,OAAOQ,UAAU5I,eAAe6I,KAAKF,EAAQnK,KAAQiK,EAAOjK,GAAOmK,EAAOnK,IAAY,MAAOiK,IAEnPqI,EAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,MIlkChiB,OJskCIkB,EAAU3U,EAAuB4U,GIrkCrC,OJykCIC,EAAc7U,EAAuB8U,GIxkCzC,OACA,OAMaV,E,EAAAA,K,YAWT,WAAYG,GAAO,yEACTA,GADS,OAEf,GAAKQ,OACDC,OAAQ,EAAKC,SAAS,EAAKV,MAAMW,KAAM,EAAKX,MAAMY,aAHvC,EJkzCnB,MAvOArB,GAAUM,EAAMgB,GAahBf,EAAaD,IACTrS,IAAK,4BACLuB,MAAO,SInlCe+R,GAClBnU,MAAMC,QAAQkU,EAASH,OACvBpH,KAAKwH,UACDN,OAAQlH,KAAKmH,SAASI,EAASH,KAAMG,EAASF,iBJwlCtDpT,IAAK,WACLuB,MAAO,SIplCF4R,EAAMC,GACX,MAAKA,GAGED,EAAKK,KAAKJ,GAFND,KJylCXnT,IAAK,iBACLuB,MAAO,SIrlCIkS,EAAK5L,GAEhB,GAAI7C,GAAS+G,KAAKyG,MAAMkB,SAASC,OAAO3O,IAApC,IAA2CyO,EAAIG,aAA/C,IAA+DH,EAAItH,EAUvE,OATIJ,MAAKyG,MAAMkB,SAASG,WAAWC,QAC/B9O,EAAM+G,KAAKyG,MAAMkB,SAASG,WAAW7O,KAChC+G,KAAKyG,MAAMkB,SAASG,WAAW7O,IAAIE,QAAQ,MAAQ,EAAI,IAAM,KAC9D6G,KAAKyG,MAAMkB,SAASG,WAAWE,MAAQ,IACvChT,mBAAmBiE,GAEvBA,GAAO,6BAIP,8BAAIhF,IAAK6H,GAEDkE,KAAKyG,MAAMwB,KAAKzU,IAAI,SAAC0U,EAAKpM,GAAM,GACtBqM,GAA0CD,EAA1CC,OAAQC,EAAkCF,EAAlCE,KAAMC,EAA4BH,EAA5BG,UAAW7V,EAAiB0V,EAAjB1V,YAE/B,OADA6V,QAAiBA,GAAWpU,IAAK6H,IACZ,kBAAVqM,GAEH,6BAAQE,EACFF,EAAOT,IAKjB,6BAAQW,GAEA,IAAA/T,SAAQoT,EAAKU,IACb,iCAAOE,UAAU,cAAe9V,GAAgB,QAMpE,kCACI,+BAAK8V,UAAU,4BACX,kCAAQC,QAAU,iBAAM5D,QAAO6D,KAAKvP,EAAK,SAAU,yBAC/C,6BAAGqP,UAAU,iCJomCjCrU,IAAK,aACLuB,MAAO,WI7lCE,UACT,KAAKwK,KAAKiH,MAAMwB,iBACZ,MAAOzI,MAAKiH,MAAMC,OAAO1T,IAAIwM,KAAK0I,eAAgB1I,KAGtD,IAAI2I,GAAgB3I,KAAKyG,MAAMmC,QAC3B5I,KAAKyG,MAAMwB,KAAKtK,UAAU,SAAAvG,GAAA,MAAKA,GAAEzB,OAAS,EAAK8Q,MAAMmC,SAAWxR,EAAEyR,QAAU,EAAKpC,MAAMmC,WACtF,EACDE,EAAYH,GAAiB,EAAI3I,KAAKyG,MAAMwB,KAAKU,GAAeP,KAAO,IAE3E,KAAKU,EACD,MAAO9I,MAAKiH,MAAMC,OAAO1T,IAAIwM,KAAK0I,eAAgB1I,KAGtD,IAAM+I,KACN/I,MAAKiH,MAAMC,OAAOpS,QAAQ,SAACkU,EAAKlN,GAC5B,GAAImN,GAAiC,kBAAbH,GAA0BA,EAAUE,IAAO,IAAA1U,SAAQ0U,EAAKF,EAChFG,GAAaA,GAAc,cACtBF,EAAOtT,eAAewT,KACvBF,EAAOE,OAEXF,EAAOE,GAAY/U,KAAK,EAAKwU,eAAeM,EAAKlN,KAGrD,IAAIrJ,KACJ,KAAK,GAAIyW,KAASH,IAzBT,SAyBAG,GACDH,EAAOG,GAAO3V,OAAS,GACvBd,EAAIyB,KACA,8BAAIoU,UAAU,eAAerU,IAAKiV,GAC9B,8BAAIC,QAAS,EAAK1C,MAAMwB,KAAK1U,OAAQgV,QAAS,iBAAM,GAAKf,SAAL,KAAgB0B,GAA+B,IAAtB,EAAKjC,MAAMiC,OACxF,6BAAGZ,UAAW,kCACY,IAAtB,EAAKrB,MAAMiC,GAAmB,SAAW,WAF7C,IAGKA,EAHL,IAGY,iCAAOZ,UAAU,SAASS,EAAOG,GAAO3V,YAIlC,IAAtB,EAAK0T,MAAMiC,KACXzW,EAAMA,EAAI8M,OAAOwJ,EAAOG,OAI5BzW,EAAIyB,KAAK,8BAAIoU,UAAU,cAAcrU,IAAKiV,KAC1CzW,EAAMA,EAAI8M,OAAOwJ,EAAOG,MAjBvBA,EAoBT,OAAOzW,MJgnCPwB,IAAK,SACLuB,MAAO,WI7mCX,UACI,OACI,gCAAK8S,UAAW,uBAAyBtI,KAAKiH,MAAMwB,iBAAmB,WAAa,KAE5EzI,KAAKyG,MAAM2C,MACX,+BAAKd,UAAU,iBAEPtI,KAAKyG,MAAMmC,SAAW5I,KAAKiH,MAAMC,OAAO3T,OAAS,GACjD,iCAAO+U,UAAU,cAAjB,YACctI,KAAKyG,MAAMmC,QADzB,IAEM,iCACE1P,KAAK,WACLmQ,UAAWrJ,KAAKiH,MAAMwB,iBACtBa,SAAU,SAAAjP,GAAA,MAAK,GAAKmN,UAChBiB,iBAAkBpO,EAAE6D,OAAOmL,cAK3C,6BAAGf,UAAU,gBACT,6BAAGA,UAAU,yBADjB,IAC4CtI,KAAKyG,MAAM2C,QAG3D,KAEJ,+BAAKd,UAAU,oBACX,iCAAOA,UAAU,iEAAiEiB,OAC9EC,SAAmC,IAAzBxJ,KAAKyG,MAAMwB,KAAK1U,SAE1B,qCACI,kCAEQyM,KAAKyG,MAAMwB,KAAKzU,IAAI,SAAC0U,EAAKpM,GAAM,GACtB2N,GAAuBvB,EAAvBuB,YAAaZ,EAAUX,EAAVW,KAEnB,OADAY,QAAmBA,GAAaxV,IAAK6H,IAEjC,6BAAQ2N,EACFZ,GAAS,MAK3B,kCAAI,+BAAKP,UAAU,eAAf,WAGZ,qCACMtI,KAAK0J,qBJ+oCxBpD,GI7zCenS,UAAMwV,UAAnBrD,GAEFsD,WACHxC,KAAYyC,UAAUC,QAAQD,UAAUE,QAAQC,WAChD/B,KAAY4B,UAAUC,QAAQD,UAAUE,QAAQC,WAChDrC,SAAYkC,UAAUE,OAAOC,WAC7BZ,MAAYS,UAAUI,OACtBrB,QAAYiB,UAAUI,OACtB5C,WAAYwC,UAAUK,MJg0C9BlY,EAAQK,SIjpCO,IAAA8X,SAAQ,SAAAlD,GAAA,OACnBU,SAAUV,EAAMU,YAChBrB,IJupCE,SAAUvU,EAAQC,EAASC,GAEjC,YAsBA,SAASoT,GAAgBlT,EAAK8B,EAAKuB,GAAiK,MAApJvB,KAAO9B,GAAO0L,OAAOC,eAAe3L,EAAK8B,GAAOuB,MAAOA,EAAO8P,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBrT,EAAI8B,GAAOuB,EAAgBrD,EAnB3M0L,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQoY,OAASpY,EAAQqY,OAASrY,EAAQsY,MAAQtY,EAAQuY,SAAWvY,EAAQwY,QAAUxY,EAAQyY,OAASzY,EAAQ0Y,OAAS1Y,EAAQ2Y,QAAU3Y,EAAQ4Y,aAAe5Y,EAAQ6Y,eAAiB7Y,EAAQ8Y,SAAW9Y,EAAQ+Y,UAAY/Y,EAAQgZ,cAAgBhZ,EAAQiZ,aAAejZ,EAAQkZ,aAAelZ,EAAQmZ,YAAcnZ,EAAQoZ,UAAYpZ,EAAQqZ,UAAYrZ,EAAQsZ,QAAUtZ,EAAQuZ,SAAWvZ,EAAQwZ,WAAaxZ,EAAQyZ,iBAAehX,EAEvb,IAAIiX,GAEA1N,EAAWH,OAAOI,QAAU,SAAUC,GAAU,IAAK,GAAIpC,GAAI,EAAGA,EAAIqC,UAAU5K,OAAQuI,IAAK,CAAE,GAAIsC,GAASD,UAAUrC,EAAI,KAAK,GAAI7H,KAAOmK,GAAcP,OAAOQ,UAAU5I,eAAe6I,KAAKF,EAAQnK,KAAQiK,EAAOjK,GAAOmK,EAAOnK,IAAY,MAAOiK,IKr2CvP,QACA,SL02CIyN,EAIJ,SAAgCxZ,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAJ1CyZ,GKz2C7C,OAKaH,EAAeA,EAAfA,aAAe,GAAII,YAC5B,IAAA5W,kBAAiB0P,OAAO/O,SAASC,KAAKtB,MAAM,KAAK,IAAM,KAOrDuX,EAAgBA,KACfL,EAAaM,YAChBC,SAAS,EACTnY,MAAS,KACTyI,OAAS,OAyBAkP,gBAAiB,IAAAS,cArBL,0BAsBZV,cAAiB,IAAAU,cArBL,wBAsBZX,aAAiB,IAAAW,cArBL,uBAuCZ3B,GAjBAe,aAAiB,IAAAY,cArBL,0BAsBZb,aAAiB,IAAAa,cArBL,0BAsBZd,eAAiB,IAAAc,cArBL,4BAsBZf,gBAAiB,IAAAe,cArBL,4BAsBZhB,gBAAiB,IAAAgB,cArBL,4BAsBZjB,iBAAiB,IAAAiB,cAnBL,6BAoBZlB,aAAiB,IAAAkB,cAnBL,yBAoBZnB,YAAiB,IAAAmB,cAnBL,wBAoBKpB,EAAjBA,gBAAiB,IAAAoB,cAnBL,+BAoBZrB,gBAAiB,IAAAqB,cAnBL,6BAoBZtB,WAAiB,IAAAsB,cAnBL,uBAoBZvB,UAAiB,IAAAuB,cA3BL,sBA4BZxB,UAAiB,IAAAwB,cA3BL,sBA4BZzB,WAAiB,IAAAyB,cArBL,uBAsBZ1B,YAAiB,IAAA0B,cArBL,wBAwBJ3B,EAARA,MAAQ,WACjB,MAAO,UAAC4B,EAAUH,GACdG,EAASV,GAAW,IACpBU,EAASX,EAAS,MAFS,OAGNQ,IAAbpE,EAHmB,EAGnBA,QACR8D,GAAanB,MAAM3C,EAASC,QAAQtK,KAChC,SAAAhB,GACI4P,EAASZ,EAAQhP,IACjB4P,EAASV,GAAW,KAExB,SAAS3X,GACLqY,EAASX,EAAS1X,IAClBqY,EAASV,GAAW,QAMdnB,GAATA,OAAS,WAClB,MAAO,UAAC6B,EAAUH,GAAa,GACnBzP,GAAWyP,IAAWnX,MAAtB0H,OACJrD,GAAM,IAAAoD,cAAaC,EAAQ,OAC3BrD,KACAA,GAAM,IAAAhE,kBAAiBgE,GACvBwS,EAAaU,UAAUlT,EAAImT,WAAYnT,EAAIoT,iBAC3CH,EAAS5B,QAKCF,EAATA,OAAS,WAClB,MAAO,UAAC8B,EAAUH,GAAa,GACnBzP,GAAWyP,IAAWnX,MAAtB0H,OACJrD,GAAM,IAAAoD,cAAaC,EAAQ,WAC3BrD,KACAA,GAAM,IAAAhE,kBAAiBgE,GACvBwS,EAAaU,UAAUlT,EAAImT,WAAYnT,EAAIoT,iBAC3CH,EAAS5B,OL82CrBtY,GAAQK,SKr2CO,IAAAia,gBAAA,SAxEU,sBA0ET,SAACrF,EAAOsF,GAEhB,MADAd,GAAad,QAAQ4B,EAAOC,SAC5B,KAAYvF,EAAUwE,EAAaM,cAJ5B,IA1EU,8BAiFD,SAAC9E,EAAOsF,GAExB,MADAd,GAAaZ,eAAe0B,EAAOC,SACnC,KAAYvF,EAAUwE,EAAaM,cAT5B,IAzEU,4BAqFH,SAAC9E,EAAOsF,GAEtB,MADAd,GAAab,aAAa2B,EAAOC,SACjC,KAAYvF,EAAUwE,EAAaM,cAd5B,IA3EU,uBA4FR,SAAC9E,EAAOsF,GAEjB,MADAd,GAAaX,SAASyB,EAAOC,QAAQ7W,KAAM4W,EAAOC,QAAQhX,OAC1D,KAAYyR,EAAUwE,EAAaM,cAnB5B,IApFU,yBA0GN,SAAC9E,EAAOsF,GAEnB,MADAd,GAAaJ,UAAUkB,EAAOC,SAC9B,KAAYvF,EAAUwE,EAAaM,cAxB5B,IAnFU,yBA8GN,SAAC9E,EAAOsF,GAEnB,MADAd,GAAaL,UAAUmB,EAAOC,SAC9B,KAAYvF,EAAUwE,EAAaM,cA7B5B,IAlFU,2BAkHJ,SAAC9E,EAAOsF,GAErB,MADAd,GAAaN,YAAYoB,EAAOC,SAChC,KAAYvF,EAAUwE,EAAaM,cAlC5B,IAjFU,2BAsHJ,SAAC9E,EAAOsF,GAErB,MADAd,GAAaP,aAAaqB,EAAOC,QAAQvY,IAAKsY,EAAOC,QAAQhX,OAC7D,KAAYyR,EAAUwE,EAAaM,cAvC5B,IA7EU,4BAuHH,SAAC9E,EAAOsF,GAEtB,MADAd,GAAaT,cAAcuB,EAAOC,SAClC,KAAYvF,EAAUwE,EAAaM,cA5C5B,IAhFU,2BA+HJ,SAAC9E,EAAOsF,GAErB,MADAd,GAAagB,gBAAgBF,EAAOC,SACpC,KAAYvF,EAAUwE,EAAaM,cAjD5B,IA/EU,qBAmIV,SAAC9E,EAAOsF,GAEf,MADAd,GAAaf,OAAO6B,EAAOC,SAC3B,KAAYvF,EAAUwE,EAAaM,cAtD5B,IA9EU,qBAuIV,SAAC9E,EAAOsF,GAEf,MADAd,GAAaiB,UAAUH,EAAOC,SAC9B,KAAYvF,EAAUwE,EAAaM,cA3D5B,IAvEU,sBAqIT,SAAC9E,EAAOsF,GAEhB,MADAd,GAAajB,QAAQ+B,EAAOC,SAC5B,KAAYvF,EAAUwE,EAAaM,cAhE5B,IA5EU,wBA+IP,SAAC9E,EAAOsF,GAElB,MADAd,GAAaV,UAAUwB,EAAOC,SAC9B,KAAYvF,EAAUwE,EAAaM,cArE5B,IAtEU,uBA8IR,SAAC9E,EAAOsF,GAEjB,MADAd,GAAalB,SAASgC,EAAOC,SAC7B,KAAYvF,EAAUwE,EAAaM,cA1E5B,IAvFU,yBAuKN,SAAC9E,EAAOsF,GAAR,YACRtF,EACAwE,EAAaM,YAChBC,UAAWO,EAAOC,YAnFX,IAtFU,uBA+KR,SAACvF,EAAOsF,GAAR,YACNtF,EACAwE,EAAaM,YAChBlY,MAAO0Y,EAAOC,YA5FP,IArFU,sBAuLT,SAACvF,EAAOsF,GAAR,YACLtF,EACAwE,EAAaM,YAChBzP,OAAQiQ,EAAOC,YArGR,GAwGZV,ILyzCK,CACA,CAEF,SAAU/Z,EAAQC,EAASC,GAEjC,YAoBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASwa,GAAyBxa,EAAKuQ,GAAQ,GAAIxE,KAAa,KAAK,GAAIpC,KAAK3J,GAAWuQ,EAAKvJ,QAAQ2C,IAAM,GAAkB+B,OAAOQ,UAAU5I,eAAe6I,KAAKnM,EAAK2J,KAAcoC,EAAOpC,GAAK3J,EAAI2J,GAAM,OAAOoC,GMtiDpM,QAAS0O,GAAT,GAAwD,GAAxCC,GAAwC,EAAxCA,OAAwC,IAAhCC,aAAgC,OAAzB,aAAyB,EAARC,EAAQ,wBACnE,OAAO,gCAAUA,GAAQ,aAAOF,GAAQC,OAAOA,INkhDnDjP,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQK,QMthDgBua,CAJxB,YN8hDI/F,EAAU3U,EAAuB4U,GM7hDrC,ONiiDIC,EAAc7U,EAAuB8U,GMhiDzC,ONoiDIpI,EAAW1M,EAAuB2M,EM9hDtC+N,GAAKhD,WACDkD,OAAQjD,UAAUI,OAClB4C,OAAQhD,UAAUmD,WACdnD,UAAUI,OACVJ,UAAUoD,WAAWL,GACrB/C,UAAUE,SACXC,aNkjDC,CACA,CACA,CACA,CACA,CAEF,SAAUjY,EAAQC,EAASC,GAEjC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GOrlDxE,QAAS+a,GAAOC,GAC3B,GAAIjV,GAAOiV,EAAOC,OAAS,GACvBhV,EAAO+U,EAAOE,KAAS,EAE3B,OAAInV,IAAQE,GACRF,GAAO,aAAOA,GACdE,GAAK,aAAOA,GAERF,EAAKoV,OAAOlV,EAAI,OAEZ,oCAEQF,EAAK4U,OAAO,cAEZ5U,EAAKoV,OAAOlV,EAAI,QAChB,KACA,oCACI,iCAAOkQ,UAAU,cAAjB,UACEpQ,EAAK4U,OAAO,SACd,iCAAOxE,UAAU,cAAjB,QACElQ,EAAG0U,OAAO,WAQxB,oCACI,iCAAOxE,UAAU,cAAjB,UACEpQ,EAAK4U,OAAO,cACd,iCAAOxE,UAAU,cAAjB,QACElQ,EAAG0U,OAAO,gBAMpB5U,GACAA,GAAO,aAAOA,GAEV,oCACI,iCAAOoQ,UAAU,cAAjB,UACEpQ,EAAK4U,OAAO,gBAIjB1U,GACLA,GAAK,aAAOA,GAER,oCACI,iCAAOkQ,UAAU,cAAjB,QACElQ,EAAG0U,OAAO,gBAKrB,iCAAOxE,UAAU,cAAjB,OP+gDXzK,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQK,QO3kDgB6a,CAHxB,YPklDIrG,EAAU3U,EAAuB4U,GOjlDrC,OPqlDIlI,EAAW1M,EAAuB2M,IAwFhC,SAAU9M,EAAQC,EAASC,GAEjC,YA6BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA1BvF0L,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GQ9qDX,aACA,QRorDI+X,EAAerb,EAAuBsb,GQnrD1C,QRurDIC,EAAcvb,EAAuBwb,GQtrDzC,QR0rDIC,EAAUzb,EAAuB0b,GQzrDrC,QR6rDIC,EAAa3b,EAAuB4b,GQ5rDxC,SRgsDIC,EAAc7b,EAAuB8b,GQ9rDnCC,GAAeC,URkuDrBlc,GAAQK,SQ3sDO,IAAA8b,cACX,IAAAC,kBACIC,oBACAzZ,gBACA+S,mBACA2G,sBAEJC,+BAAmBN,KR6sDjB,SAAUlc,EAAQC,EAASC,GAEjC,YAgBA,SAASoT,GAAgBlT,EAAK8B,EAAKuB,GAAiK,MAApJvB,KAAO9B,GAAO0L,OAAOC,eAAe3L,EAAK8B,GAAOuB,MAAOA,EAAO8P,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBrT,EAAI8B,GAAOuB,EAAgBrD,ESttD3M,QAASqc,GAAiBH,IACtB,IAAA3Y,cACI,aACAmI,OAAO6E,KAAK2L,GAAWtX,OACnB,SAAA0X,GAAA,MAAKJ,GAAU5Y,eAAegZ,MAAQJ,EAAUI,KAClD9a,KAAK,MTosDfkK,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQ0c,oBAAsB1c,EAAQ2c,OAAS3c,EAAQ4c,WAASna,EAEhE,IAAIiX,GAEA1N,EAAWH,OAAOI,QAAU,SAAUC,GAAU,IAAK,GAAIpC,GAAI,EAAGA,EAAIqC,UAAU5K,OAAQuI,IAAK,CAAE,GAAIsC,GAASD,UAAUrC,EAAI,KAAK,GAAI7H,KAAOmK,GAAcP,OAAOQ,UAAU5I,eAAe6I,KAAKF,EAAQnK,KAAQiK,EAAOjK,GAAOmK,EAAOnK,IAAY,MAAOiK,ISpwDvP,QACA,OAEM2Q,GAAS,IAAA5Z,kBAAiBW,SAASC,MACnCiZ,GAAS,IAAAjc,SAAQgc,EAAO,qBAQ1BE,MACHF,EAAOnB,YAAc,IAAInZ,MAAM,WAAWO,QAAQ,SAAA2Z,GAC3CA,IAGIK,EACAC,OACKN,GAAI,GAITM,EAAiBN,IAAK,IAUlC,IAAM3C,GAAgBA,KACfiD,GACHC,kBAAkB,IAIhBC,EAAU,sBAKML,GAATA,QAAS,IAAA3C,cAAagD,GACbN,EAATA,QAAS,IAAA1C,cALN,yBAMmByC,EAAtBA,qBAAsB,IAAAzC,cALT,kCTsxD1Bja,GAAQK,SSjwDO,IAAAia,gBAAA,SAKV2C,EAAS,SAAChI,EAAOsF,GAAW,MACrBnM,EAAKrN,OAAOwZ,EAAOC,QAAQpM,IAC3B8O,YACC9O,GAAK6G,EAAM7G,IAAcmM,EAAOC,SADjC,wBAEkB,GAFlB,EASJ,OAJKsC,KACDI,OAAgBjI,EAAUiI,IAE9BV,EAAiBU,GACVA,IAhBA,IArBW,kCA4CD,SAACjI,EAAOsF,GACzB,YAAYtF,GAAO+H,kBAAkB,MAxB9B,IAtBC,wBAqDD,SAACG,EAAG5C,GACX,GAAI2C,GAAWA,KAAK3C,EAAOC,SAASwC,kBAAkB,GAEtD,OADAR,GAAiBU,GACVA,IAlCA,GAqCZpD,ITivDG,SAAU/Z,EAAQC,EAASC,GAEjC,YAsBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASkT,GAAgBlT,EAAK8B,EAAKuB,GAAiK,MAApJvB,KAAO9B,GAAO0L,OAAOC,eAAe3L,EAAK8B,GAAOuB,MAAOA,EAAO8P,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBrT,EAAI8B,GAAOuB,EAAgBrD,EArB3M0L,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQod,iBAAmBpd,EAAQqC,QAAUrC,EAAQqd,UAAQ5a,EAE7D,IAAIiX,GAEA1N,EAAWH,OAAOI,QAAU,SAAUC,GAAU,IAAK,GAAIpC,GAAI,EAAGA,EAAIqC,UAAU5K,OAAQuI,IAAK,CAAE,GAAIsC,GAASD,UAAUrC,EAAI,KAAK,GAAI7H,KAAOmK,GAAcP,OAAOQ,UAAU5I,eAAe6I,KAAKF,EAAQnK,KAAQiK,EAAOjK,GAAOmK,EAAOnK,IAAY,MAAOiK,IUh2DvP,QACA,SVq2DIoR,EAAkBpd,EAAuBqd,GUp2D7C,SVw2DIC,EAActd,EAAuBud,GUr2DnCC,EAAuB,oBAKhBL,UAAmB,IAAApD,cAAayD,GAChCrb,WAAmB,IAAA4X,cALH,wBAMGmD,EAAnBA,kBAAmB,IAAAnD,cALH,oCVo3D7Bja,GAAQK,SU52DO,IAAAia,gBAAA,SAEVoD,EAAQ,SAACzI,EAAOsF,GAAR,OAAmB,aAAUtF,EAAOsF,EAAOC,SAAWmD,QAAQ,MAF5D,IARc,oCAYD,SAAC1I,EAAOsF,GAAR,YACjBtF,GACH2I,qBAAsBrD,EAAOC,YANtB,IATc,uBAmBd,SAAC2C,EAAG5C,GAAJ,YAAqBA,EAAOC,WAV5B,GAWZV,YV42DK,CACA,CACA,CACA,CACA,CACA,CAEF,SAAU/Z,EAAQC,EAASC,GAEjC,YAuBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASsT,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA1BjerI,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GAGX,IAAI+Q,GAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,MWt5DhiB,OX05DIkB,EAAU3U,EAAuB4U,GWz5DrC,OX65DIC,EAAc7U,EAAuB8U,GW55DzC,SXg6DI6I,EAAiB3d,EAAuB4d,GW/5D5C,OAKqBC,E,YXy6DjB,QAASA,KAGL,MAFAtK,GAAgBzF,KAAM+P,GAEflK,EAA2B7F,MAAO+P,EAAqB1J,WAAaxI,OAAOmS,eAAeD,IAAuBrL,MAAM1E,KAAM7B,YAsNxI,MA3NA6H,GAAU+J,EAAsBzI,GAQhCf,EAAawJ,IACT9b,IAAK,SACLuB,MAAO,WW16DP,GAAIwT,GAAMhJ,KAAKyG,MAAMwJ,SACjBC,GAAU,IAAAxV,mBAAkBsO,GAC5BmH,EAAaD,EAAQjV,eAAeC,gBAAcK,SAClD6U,EAAa,GAAIxD,MAAKsD,EAAQvV,aAAa0V,cAE3CC,QAaJ,OAZIH,KACAG,EAAetQ,KAAKyG,MAAMkB,SAASC,OAAO3O,IAA1C,IAAiDiX,EAAQnV,QACrDiF,KAAKyG,MAAMkB,SAASG,WAAWC,QAC/BuI,EAAYtQ,KAAKyG,MAAMkB,SAASG,WAAW7O,KACtC+G,KAAKyG,MAAMkB,SAASG,WAAW7O,IAAIE,QAAQ,MAAQ,EAAI,IAAM,KAC9D6G,KAAKyG,MAAMkB,SAASG,WAAWE,MAAQ,IACvChT,mBAAmBsb,GAEvBA,GAAa,8BAKjB,+BAAKhI,UAAU,4BACX,wBAAC,WACGiI,QACI,sCACI,6BAAGjI,UAAU,mCAGrBkI,SAAS,cACTC,IAAK,QAAS,QAAS,UAEvB,+BAAKnI,UAAU,mCACX,+BAAKA,UAAU,iBACX,6BAAGA,UAAU,gBACT,6BAAGA,UAAU,gCAAgCiB,OAAQmH,aAAc,MADvE,gBAC2F1H,EAAInB,aAD/F,IAC8GmB,EAAI5I,KAGtH,+BAAKkI,UAAU,mBAAmBqI,KAAK,gBACnC,iCAAOrI,UAAU,kEACb,qCACI,kCACI,kCAAI,uDACJ,kCAAK8H,IAET,kCACI,kCAAI,uDACJ,kCAAKF,EAAQrV,cAEjB,kCACI,kCAAI,uDACJ,kCAAKqV,EAAQtV,cAEjB,kCACI,kCAAI,0DACJ,kCAAKsV,EAAQpV,iBAEjB,kCACI,kCAAI,yDACJ,kCAAKqV,EAAa,6BAAG1M,KAAM6M,EAAWpS,OAAO,SAAS3B,IAAI,uBAAuB2T,EAAQnV,QAAQ1G,QAAQ,IAAK,MAAY6b,EAAQjV,iBAGxIkV,EACF,qCACI,kCACI,kCAAI,uDACJ,yCAAQ,kCAAKD,EAAQ3V,aAArB,SAA6C2V,EAAQ1V,YAArD,IAAmE0V,EAAQzV,UAA3E,MAEJ,kCACI,kCAAI,qDACJ,kCAAgC,IAA3BmW,OAAOV,EAAQ5V,YAApB,OAGN,cXqjEvByV,GWloEuC5b,UAAMwV,UAAnCoG,GACVlG,WACHlC,SAAUkC,UAAUE,OAAOC,WAC3BiG,SAAUpG,UAAUE,QXsoE5B/X,EAAQK,QWzoEa0d,GX4oEb,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEF,SAAUhe,EAAQC,EAASC,GAEjC,YAiBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASsT,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GApBjerI,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GAGX,IAAI+Q,GAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,MYzqEhiB,OZ6qEIkB,EAAU3U,EAAuB4U,GY5qErC,OZgrEIC,EAAc7U,EAAuB8U,GY9qEnC6J,GACFC,KAAS,oBACTC,QAAS,2BACTC,OAAS,6BACTC,QAAS,mBAGQC,E,YZ2rEjB,QAASA,KAGL,MAFAzL,GAAgBzF,KAAMkR,GAEfrL,EAA2B7F,MAAOkR,EAAM7K,WAAaxI,OAAOmS,eAAekB,IAAQxM,MAAM1E,KAAM7B,YAyC1G,MA9CA6H,GAAUkL,EAAO5J,GAQjBf,EAAa2K,IACTjd,IAAK,SACLuB,MAAO,WYnrEP,MACI,gCAAK8S,UAAU,kBAAkBiB,OAAS4H,MAAO,SAC7C,+BAAK7I,UAAU,OACX,+BAAKA,UAAU,aACX,mCACA,+BAAKA,UAAY,eAAiBtI,KAAKyG,MAAMvN,MAErC8G,KAAKyG,MAAM2K,MACX,gCACIC,cAAY,OACZC,eAAa,QACbhJ,UAAU,QACViB,OAASgI,WAAY,WAJzB,KAMA,KAGAvR,KAAKyG,MAAM+K,KACX,6BAAGlJ,UAAWuI,EAAM7Q,KAAKyG,MAAMvN,MAAOqQ,OAClCkI,YAAa,SAEjB,KAEFzR,KAAKyG,MAAMiL,UAEjB,0CZ8rEbR,GYvuEwB/c,UAAMwV,UAApBuH,GAEVtH,WACH1Q,KAAU2Q,UAAU8H,OAAO,OAAQ,UAAW,SAAU,YACxDP,MAAUvH,UAAU+H,KACpBJ,KAAU3H,UAAU+H,KACpBF,SAAU7H,UAAUgI,KANPX,EASVY,cACH5Y,KAAO,OACPkY,OAAO,EACPI,MAAO,GZyuEfxf,EAAQK,QYrvEa6e,GZyvEf,SAAUnf,EAAQC,EAASC,GAEjC,YA4BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASsT,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA/BjerI,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,IAEXxD,EAAQ+f,iBAAetd,EAEvB,IAAI8R,GAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,Ma7wEhiB,ObixEIkB,EAAU3U,EAAuB4U,GahxErC,OboxEIC,EAAc7U,EAAuB8U,GanxEzC,OACA,QACA,QACA,OACA,OAEA,IAAMgL,GAAYrN,OAAOsN,QAAUtN,OAAOhP,KACpCuc,EAAYC,SAAWrM,KAEvBsM,E,YboyEF,QAASA,KAGL,MAFA3M,GAAgBzF,KAAMoS,GAEfvM,EAA2B7F,MAAOoS,EAAY/L,WAAaxI,OAAOmS,eAAeoC,IAAc1N,MAAM1E,KAAM7B,YAsDtH,MA3DA6H,GAAUoM,EAAa9K,GAQvBf,EAAa6L,IACTne,IAAK,SACLuB,MAAO,WalyEF,WACD6c,EAAMxU,OAAO6E,KAAK1C,KAAKyG,MAAM4H,WAAWtX,OAAO,SAAA9C,GAAA,QAAS,EAAKwS,MAAM4H,UAAUpa,IAAgB,qBAARA,IAA4BV,OACjH+e,GAAa,OACbC,GAAc,MAEN,KAARF,IACAC,EAAUpe,KAAK,YACfqe,EAAWre,KAAK,aAGhB8L,KAAKyG,MAAMkB,SAASiI,oBACpB0C,EAAUpe,KAAK,SAGnB,IAAMse,GAAexS,KAAKyG,MAAMgM,iBAAmBJ,EAAM,CACzD,OACI,kCAAOK,SAAmB,IAARL,GACd,oCACSA,EADT,YAC+B,IAARA,EAAY,GAAK,KADxC,aACuDG,EAAe,IAAM,KAE1EA,EACE,+BAAKlK,UAAU,aACX,+BAAKA,UAAYgK,EAAU3e,KAAK,KAAO4U,QACnC,WACI,EAAK9B,MAAMkM,6BACN,EAAKlM,MAAMkB,SAASiI,sBAHjC,iBAOA,+BAAKtH,UAAYiK,EAAW5e,KAAK,KAAO4U,QACpC,WAAQ,EAAK9B,MAAMmM,qBADvB,mBAIJ,UbkzETR,Ga71Eeje,UAAMwV,UAA1ByI,GAEKxI,WACHjC,SAAkBkC,UAAUE,OAAOC,WACnCqE,UAAkBxE,UAAUE,OAAOC,WACnC2I,4BAA6B9I,UAAUK,KAAKF,WAC5C4I,iBAAkB/I,UAAUK,KAAKF,WACjCyI,gBAAkB5I,UAAU+H,Kbi2EpC,IavzEaG,G,EAAAA,a,Yb0zET,QAASA,KAGL,MAFAtM,GAAgBzF,KAAM+R,GAEflM,EAA2B7F,MAAO+R,EAAa1L,WAAaxI,OAAOmS,eAAe+B,IAAerN,MAAM1E,KAAM7B,YA4IxH,MAjJA6H,GAAU+L,EAAcc,GAQxBtM,EAAawL,IACT9d,IAAK,SAOLuB,MAAO,WaxzEF,WAEC6Y,EAAYrO,KAAKyG,MAAM4H,SAE7B,QAAQrO,KAAKyG,MAAMkB,SAASmL,YAE5B,IAAK,WACD,MAAOjV,QAAO6E,KAAK2L,GAAWtX,OAAO,SAAA0X,GAAA,QAAOJ,EAAUI,IAAY,qBAANA,GAEhE,KAAK,eACD,MAAO5Q,QAAO6E,KAAK2L,GAAWtX,OAAO,SAAA0X,GAAA,QAAOJ,EAAUI,IAAY,qBAANA,IAA0Bjb,IAClF,SAAAib,GAAA,MAAK,GAAKsE,yBAAyB1E,EAAUI,KAGrD,KAAK,WACD,MAAO5Q,QAAO6E,KAAK2L,GAAWtX,OAAO,SAAA0X,GAAA,QAAOJ,EAAUI,IAAY,qBAANA,IAA0Bjb,IAClF,SAAAib,GAAA,MAAKJ,GAAUI,IAGvB,KAAK,UACD,MAAO5Q,QAAO6E,KAAK2L,GAAWtX,OAAO,SAAA0X,GAAA,QAAOJ,EAAUI,IAAY,qBAANA,IAA0B9a,KAAK,Sb00E/FM,IAAK,2BACLuB,MAAO,Wat0EP,KAAM,IAAItC,OAAM,qBb00EhBe,IAAK,mBACLuB,MAAO,Sax0EMwd,GACb,GAAIA,EAAK,CACL,GAAM3E,GAAYrO,KAAKyG,MAAM4H,SAC7BrO,MAAKyG,MAAMqE,UACPnV,KAAO,MACPH,MAAOqI,OAAO6E,KAAK2L,GAAWtX,OAAO,SAAA0X,GAAA,QAAOJ,EAAUI,KAAI9a,KAAK,WAInEqM,MAAKyG,MAAMqE,UACPnV,KAAO,MACPH,UAAOf,IAGfuL,MAAKyG,MAAM2I,iBAAiB4D,Mb40E5B/e,IAAK,sBACLuB,MAAO,Wa10EW,UAClB,KAAKwc,IAAaE,EACd,MAAO,KAGX,IAAMe,GAAQtO,OAAOsN,QAAUtN,OAAOwN,OAClCe,EAAiBrV,OAAO6E,KAAK1C,KAAKyG,MAAM4H,WAAWtX,OAAO,SAAA9C,GAAA,QAAS,EAAKwS,MAAM4H,UAAUpa,KAAMV,MAGlG,OACI,gCAAK+U,UAAU,uBACX,kCAAQA,UAAU,kBAAkBC,QAAU,WAC1C0K,EAAME,aAAcja,KAAM,SAAW,OADzC,UAKA,kCAAQoP,UAAU,kBAAkBC,QAAU,WAC1C,GAAI6K,IAAe,CACfF,IAAkB,IAAM,EAAKzM,MAAM4H,UAAUW,mBAC7CoE,EAAezO,OAAO0O,QAAQ,uHAE9BD,GACAH,EAAME,aAEEja,KAAM,SACNF,KAAM,EAAKsa,UAEf,OAXZ,Ubm2ERrf,IAAK,SACLuB,MAAO,Wa90EP,GAAI6Y,GAAYrO,KAAKyG,MAAM4H,SAE3B,OADAA,GAAYxQ,OAAO6E,KAAK2L,GAAWtX,OAAO,SAAA0X,GAAA,QAAOJ,EAAUI,KAEvD,+BAAKnG,UAAU,sBACX,+BAAKA,UAAU,sBACX,wBAAC8J,GACG/D,UAAYrO,KAAKyG,MAAM4H,UACvB1G,SAAW3H,KAAKyG,MAAMkB,SACtBgL,4BAA8B3S,KAAKoP,iBAAiBjM,KAAKnD,MACzD4S,iBAAmB5S,KAAKyG,MAAM8M,eAC9Bd,gBAAkBzS,KAAKyG,MAAMgM,mBAGnCzS,KAAKwT,2Bby1EZzB,Gaz8EuB5d,UAAMwV,UAA3BoI,GAEFnI,WACHyE,UAAkBxE,UAAUE,OAAOC,WACnCrC,SAAkBkC,UAAUE,OAAOC,WACnCoF,iBAAkBvF,UAAUK,KAAKF,WACjCuJ,eAAkB1J,UAAUK,KAAKF,WACjCc,SAAkBjB,UAAUK,KAAKF,WACjCM,MAAkBT,UAAUK,KAAKF,WACjCyI,gBAAkB5I,UAAU+H,Mb48EpC5f,EAAQK,Sa/1EO,IAAA8X,SACX,SAAAlD,GAAA,OACIoH,UAAWpH,EAAMoH,UACjB1G,SAAWV,EAAMU,SACjB/S,MAAWqS,EAAMrS,QAErB,SAAAsX,GAAA,OACIkD,iBAAkB,SAAAqE,GACdvH,GAAS,IAAAkD,kBAAiBqE,IAC1BvH,GAAS,IAAA5B,WAEbiJ,eAAkB,WACdrH,GAAS,IAAAyC,aACTzC,GAAS,IAAAkD,mBAAiB,IAC1BlD,GAAS,IAAApB,WAAWnV,KAAM,MAAOH,UAAOf,MACxCyX,GAAS,IAAA5B,UACT4B,GAAS,IAAAwC,yBAEb5D,SAAU,SAACnV,EAAMH,GAAP,MAAiB0W,IAAS,IAAApB,UAASnV,EAAMH,KACnD8U,MAAO,iBAAM4B,IAAS,IAAA5B,cAE5ByH,Ibw2EI,SAAUhgB,EAAQC,EAASC,GAEjC,YAuBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASsT,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA1BjerI,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GAGX,IAAI+Q,GAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,McxjFhiB,Od4jFIkB,EAAU3U,EAAuB4U,Gc3jFrC,Od+jFIC,EAAc7U,EAAuB8U,Gc9jFzC,OACA,QdmkFI0M,EAAUxhB,EAAuByhB,GcjkFhBC,E,Yd8kFjB,QAASA,KAGL,MAFAnO,GAAgBzF,KAAM4T,GAEf/N,EAA2B7F,MAAO4T,EAAavN,WAAaxI,OAAOmS,eAAe4D,IAAelP,MAAM1E,KAAM7B,YAcxH,MAnBA6H,GAAU4N,EAActM,GAQxBf,EAAaqN,IACT3f,IAAK,SACLuB,MAAO,Wc3kFP,MACI,yBAAC,WAAM0D,KAAK,WACN,IAAAlG,iBAAgBgN,KAAKyG,MAAM5S,YdklFlC+f,Gc/lF+Bzf,UAAMwV,UAA3BiK,GAEVhK,WACH/V,MAAOgW,UAAUmD,WAAWnD,UAAUI,OAAQJ,UAAUE,UAH3C6J,EAMV9B,cACHje,MAAO,iBdimFf7B,EAAQK,QcxmFauhB,Gd4mFf,SAAU7hB,EAAQC,EAASC,GAEjC,YAiBA,SAASwT,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAlBjerI,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GAGX,IAAI+Q,GAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,Me1nFhiB,Of8nFIkB,EAIJ,SAAgC1U,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAJlD2U,Ee7nFrC,OfyoFA,IevoFqB+M,G,Yf0oFjB,QAASA,KAGL,MAFApO,GAAgBzF,KAAM6T,GAEfhO,EAA2B7F,MAAO6T,EAAOxN,WAAaxI,OAAOmS,eAAe6D,IAASnP,MAAM1E,KAAM7B,YAmB5G,MAxBA6H,GAAU6N,EAAQvM,GAQlBf,EAAasN,IACT5f,IAAK,SACLuB,MAAO,We/oFP,MACI,gCAAK8S,UAAU,UACX,mCACI,6BAAGA,UAAU,uBADjB,oBf2pFLuL,GehqFyB1f,UAAMwV,UfmqF1C3X,GAAQK,QenqFawhB,GfuqFf,SAAU9hB,EAAQC,EAASC,GAEjC,YAuBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASwa,GAAyBxa,EAAKuQ,GAAQ,GAAIxE,KAAa,KAAK,GAAIpC,KAAK3J,GAAWuQ,EAAKvJ,QAAQ2C,IAAM,GAAkB+B,OAAOQ,UAAU5I,eAAe6I,KAAKnM,EAAK2J,KAAcoC,EAAOpC,GAAK3J,EAAI2J,GAAM,OAAOoC,GAEnN,QAASuH,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOzH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BwH,EAAPxH,EAElO,QAAS0H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5H,UAAYR,OAAOsI,OAAOD,GAAcA,EAAW7H,WAAaK,aAAelJ,MAAOyQ,EAAUX,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeW,IAAYrI,OAAOuI,eAAiBvI,OAAOuI,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GgBjsFje,QAASrQ,GAAK5C,GAGV,IAFA,GAAIR,GAAMM,OAAOE,GAAOoI,cAAclG,OAAOZ,MAAM,IAC9CC,OAAO,SAACsf,EAAK1c,GAAN,MAAY0c,GAAM1c,EAAE2c,WAAW,GAAGhU,SAAS,KAAK,IACrDtN,EAAIc,OAAS,IAChBd,GAAOA,EAAIc,OAASd,EAAM,cAE9B,OAAOA,GhB+pFXoL,OAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GAGX,IAAIwI,GAAWH,OAAOI,QAAU,SAAUC,GAAU,IAAK,GAAIpC,GAAI,EAAGA,EAAIqC,UAAU5K,OAAQuI,IAAK,CAAE,GAAIsC,GAASD,UAAUrC,EAAI,KAAK,GAAI7H,KAAOmK,GAAcP,OAAOQ,UAAU5I,eAAe6I,KAAKF,EAAQnK,KAAQiK,EAAOjK,GAAOmK,EAAOnK,IAAY,MAAOiK,IAEnPqI,EAAe,WAAc,QAASC,GAAiBtI,EAAQuI,GAAS,IAAK,GAAI3K,GAAI,EAAGA,EAAI2K,EAAMlT,OAAQuI,IAAK,CAAE,GAAI4K,GAAaD,EAAM3K,EAAI4K,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWnB,cAAe,EAAU,SAAWmB,KAAYA,EAAWlB,UAAW,GAAM3H,OAAOC,eAAeI,EAAQwI,EAAWzS,IAAKyS,IAAiB,MAAO,UAAUf,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiBb,EAAYtH,UAAWsI,GAAiBC,GAAaJ,EAAiBb,EAAaiB,GAAqBjB,MgBprFhiB,OhBwrFIkB,EAAU3U,EAAuB4U,GgBvrFrC,OhB2rFIC,EAAc7U,EAAuB8U,GgB1rFzC,MAKA,OhBgtFA,IgBrsFqBgN,G,YhBwsFjB,QAASA,KAGL,MAFAvO,GAAgBzF,KAAMgU,GAEfnO,EAA2B7F,MAAOgU,EAAa3N,WAAaxI,OAAOmS,eAAegE,IAAetP,MAAM1E,KAAM7B,YAuDxH,MA5DA6H,GAAUgO,EAAc1M,GAQxBf,EAAayN,IACT/f,IAAK,oBACLuB,MAAO,WgBlsFPwK,KAAKiU,kBhBssFLhgB,IAAK,qBACLuB,MAAO,WgBnsFPwK,KAAKiU,kBhBusFLhgB,IAAK,eACLuB,MAAO,WgBnsFP,KADU,IAAAsD,oBAAmBkH,KAAKyG,MAAMlQ,QAASyJ,KAAKyG,MAAM1N,MAClD,CACN,GAAImb,GAAMre,GAAK,IAAAY,gBAAeuJ,KAAKyG,MAAMlQ,SACzC4d,WAAUvR,OAAO,QAAU5C,KAAKyG,MAAMlQ,QAAQ6J,GAAI8T,EAAK,QhBysF3DjgB,IAAK,SACLuB,MAAO,WgBtsFF,MAC8CwK,KAAKyG,MAAlD6B,EADD,EACCA,UAAWiB,EADZ,EACYA,MAAOhT,EADnB,EACmBA,QAAkBwW,GADrC,EAC4BhU,KAD5B,6CAEDE,GAAM,IAAAH,oBAAmBvC,EAASyJ,KAAKyG,MAAM1N,KAUjD,OATAuP,GAAY,uBAAyBA,GAAa,IAElDiB,OAAcA,OAEVtQ,IACAsQ,EAAM6K,gBAAN,QAAgCnb,EAAhC,KACAsQ,EAAM8K,gBAAkB,4BAIxB,iCAAK/L,UAAWA,EAAWiB,MAAOA,GAAWwD,GAErC9T,EACA,KACA,kCACIkY,MAAM,MACNmD,OAAO,MACP/K,OAAS4H,MAAO,OAAQmD,OAAQ,QAChClU,GAAI,OAAS7J,EAAQ6J,UhBgtFlC4T,GgBlwF+B7f,UAAMwV,UAA3BqK,GAEVpK,WACHrT,QAAWsT,UAAUE,OAAOC,WAC5B1B,UAAWuB,UAAUI,OACrBV,MAAWM,UAAUE,OACrBhR,KAAW8Q,UAAUI,QANR+J,EASVlC,cACH/Y,KAAM,IhBowFd/G,EAAQK,QgB9wFa2hB,GhBkxFf,SAAUjiB,EAAQC,EAASC,GAEjC,YAGA4L,QAAOC,eAAe9L,EAAS,cAC3BwD,OAAO,GiB1yFiB+e,GAAfA,cACT,OAAgBtb,IAAK,oBACrB,aAAgBA,IAAK,0BACrB,QAAgBA,IAAK,+CACrB,KAAgBA,IAAK,+BACrB,MAAgBA,IAAK,yCACrB,MAAgBA,IAAK,0CjBgzFjB,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACC,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,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","file":"index.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.InsightSource = exports.highlightToggleButtonText = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.intVal = intVal;\nexports.boolVal = boolVal;\nexports.getErrorMessage = getErrorMessage;\nexports.getPath = getPath;\nexports.compileQueryString = compileQueryString;\nexports.parseQueryString = parseQueryString;\nexports.setHashParam = setHashParam;\nexports.findMRNCoding = findMRNCoding;\nexports.findMRNIdentifier = findMRNIdentifier;\nexports.getPatientMRN = getPatientMRN;\nexports.getPatientName = getPatientName;\nexports.getPatientPhone = getPatientPhone;\nexports.getPatientEmail = getPatientEmail;\nexports.getPatientHomeAddress = getPatientHomeAddress;\nexports.getPatientAge = getPatientAge;\nexports.getPatientImageUri = getPatientImageUri;\nexports.getCodeableConcept = getCodeableConcept;\nexports.getCodeOrConcept = getCodeOrConcept;\nexports.codeIsNLPInsight = codeIsNLPInsight;\nexports.getInsightDetails = getInsightDetails;\nexports.getInsightSource = getInsightSource;\nexports.searchHighlight = searchHighlight;\nexports.renderSearchHighlight = renderSearchHighlight;\nexports.getBundleURL = getBundleURL;\nexports.request = request;\nexports.getAllPages = getAllPages;\n\nvar _react = __webpack_require__(1);\n\nvar React = _interopRequireWildcard(_react);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Returns the int representation of the first argument or the\n * \"defaultValue\" if the int conversion is not possible.\n * @param {number|string} x The argument to convert\n * @param {number} defaultValue The fall-back return value. This will be\n *                              converted to integer too.\n * @return {Number} The resulting integer.\n */\nfunction intVal(x) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var out = parseInt(x + \"\", 10);\n    if (isNaN(out) || !isFinite(out)) {\n        out = intVal(defaultValue);\n    }\n    return out;\n}\n\n/**\n * Converts the argument to boolean value. \"0\" and \"no\" are recognized as false.\n * \"1\" and \"yes\" are recognized as true. Everything else is just !!var\n * @param {*} x The argument to convert\n * @returns {Boolean} The argument converted to boolean\n */\nfunction boolVal(x) {\n    return (/^(false|0|no)$/i.test(String(x)) ? false : /^(true|1|yes)$/i.test(String(x)) ? true : !!x\n    );\n}\n\n/**\n * Given some input argument, this function tries to treat it like an error and\n * extract an error message out of it. Supported input types are:\n * - String\n * - Error\n * - AJAX JSON response\n * - FHIR JSON response\n * - Object map of error messages\n * @param {*} input The input to analyse\n * @param {String|JSX.Element} error(s)\n */\nfunction getErrorMessage(input) {\n    if (input && typeof input == \"string\") {\n        return input;\n    }\n\n    var out = \"Unknown error\";\n\n    if (input && input instanceof Error) {\n        out = String(input);\n    } else if (input && input.responseJSON) {\n        if (Array.isArray(input.responseJSON.issue) && input.responseJSON.issue.length) {\n            out = input.responseJSON.issue.map(function (o) {\n                return o.diagnostics || \"-\";\n            }).join(\"\\n\");\n        } else {\n            out = input.responseJSON.message || input.responseJSON.error || \"Unknown error\";\n        }\n    } else if (input && input.responseText) {\n        out = input.responseText + \" - \" + input.statusText || \"Unknown error\";\n    } else if (input && input.statusText) {\n        if (input.statusText == \"timeout\") {\n            out = \"The server failed to respond in the desired number of seconds\";\n        } else {\n            out = input.statusText || \"Unknown error\";\n        }\n    }\n\n    if (out && (typeof out === \"undefined\" ? \"undefined\" : _typeof(out)) == \"object\") {\n        var out2 = [];\n        for (var key in out) {\n            out2.push(React.createElement(\"li\", { key: key }, out[key]));\n        }\n        return React.createElement(\"div\", null, [\"Multiple errors\", React.createElement(\"ul\", null, out2)]);\n    }\n\n    return String(out).replace(/(Error\\:\\s)+/, \"Error: \");\n}\n\n/**\n * Walks thru an object (ar array) and returns the value found at the provided\n * path. This function is very simple so it intentionally does not support any\n * argument polymorphism, meaning that the path can only be a dot-separated\n * string. If the path is invalid returns undefined.\n * @param {Object} obj The object (or Array) to walk through\n * @param {String} path The path (eg. \"a.b.4.c\")\n * @returns {*} Whatever is found in the path or undefined\n */\nfunction getPath(obj) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n    return path.split(\".\").reduce(function (out, key) {\n        return out ? out[key] : undefined;\n    }, obj);\n}\n\nfunction compileQueryString(params) {\n    var query = [];\n\n    var _loop = function _loop(key) {\n        var p = params[key];\n\n        // If the parameter value is falsy (and other than 0) just don't include\n        // it in the query\n        if (!p && p !== 0) {\n            return \"continue\";\n        }\n\n        // if the value is an array then include that parameter multiple times\n        // with different values\n        if (Array.isArray(p)) {\n            p.forEach(function (v) {\n\n                // skip falsy not 0 values same as above\n                if (v || v === 0) {\n                    query.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(v));\n                }\n            });\n        }\n\n        // Add normal param to the query string\n        else {\n                query.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(p));\n            }\n    };\n\n    for (var key in params) {\n        var _ret = _loop(key);\n\n        if (_ret === \"continue\") continue;\n    }\n\n    return query.join(\"&\");\n}\n\nfunction parseQueryString(str) {\n    var out = {};\n    str = String(str || \"\").trim().split(\"?\").pop();\n    str.split(/&/).forEach(function (pair) {\n        var tokens = pair.split(\"=\");\n        var key = decodeURIComponent(tokens[0]);\n        if (key) {\n            var value = decodeURIComponent(tokens[1] || \"true\");\n            if (out.hasOwnProperty(key)) {\n                if (!Array.isArray(out[key])) {\n                    out[key] = [out[key]];\n                }\n                out[key].push(value);\n            } else {\n                out[key] = value;\n            }\n        }\n    });\n    return out;\n}\n\nfunction setHashParam(name, value) {\n    var query = location.hash.split(\"?\")[1] || \"\";\n    var hash = location.hash.replace(/\\?.*/, \"\");\n    // console.warn(query)\n    query = parseQueryString(query || \"\");\n    if (value === undefined) {\n        if (query.hasOwnProperty(name)) {\n            delete query[name];\n        }\n    } else {\n        query[name] = value;\n    }\n\n    query = compileQueryString(query);\n    location.hash = hash + (query ? \"?\" + query : \"\");\n}\n\n// Fhir parsing helpers --------------------------------------------------------\n\n/**\n * Given an array of Coding objects finds and returns the one that contains\n * an MRN (using a code == \"MR\" check)\n * @export\n * @param {Object[]} codings Fhir.Coding[]\n * @returns {Object} Fhir.Coding | undefined\n */\nfunction findMRNCoding(codings) {\n    if (Array.isArray(codings)) {\n        return codings.find(function (coding) {\n            return coding.code == \"MR\";\n        });\n    }\n}\n\n/**\n * Given an array of identifier objects finds and returns the one that contains an MRN\n * @export\n * @param {Object[]} identifiers\n * @returns {Object}\n */\nfunction findMRNIdentifier(identifiers) {\n    return identifiers.find(function (identifier) {\n        return !!findMRNCoding(getPath(identifier, \"type.coding\"));\n    });\n}\n\n/**\n * Given a patient returns his MRN\n * @export\n * @param {Object} patient\n * @returns {string}\n */\nfunction getPatientMRN(patient) {\n    var mrn = null;\n\n    if (Array.isArray(patient.identifier) && patient.identifier.length) {\n        mrn = findMRNIdentifier(patient.identifier);\n        if (mrn) {\n            return mrn.value;\n        }\n    }\n\n    return mrn;\n}\n\n/**\n * Extracts and returns a human-readable name string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's name or an empty string\n */\nfunction getPatientName(patient) {\n    if (!patient) {\n        return \"\";\n    }\n\n    var name = patient.name;\n    if (!Array.isArray(name)) {\n        name = [name];\n    }\n    name = name[0];\n    if (!name) {\n        return \"\";\n    }\n\n    var family = Array.isArray(name.family) ? name.family : [name.family];\n    var given = Array.isArray(name.given) ? name.given : [name.given];\n    var prefix = Array.isArray(name.prefix) ? name.prefix : [name.prefix];\n    var suffix = Array.isArray(name.suffix) ? name.suffix : [name.suffix];\n\n    return [prefix.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \"), given.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \"), family.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \"), suffix.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \")].filter(Boolean).join(\" \");\n}\n\n/**\n * Given a FHIR patient object, returns the patient's phone number (or empty string).\n * Note that if the patient have multiple phones this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's phone or an empty string\n */\nfunction getPatientPhone() {\n    var patient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var phone = (patient.telecom || []).find(function (c) {\n        return c.system == \"phone\";\n    });\n    return phone ? phone.value : \"\";\n}\n\n/**\n * Given a FHIR patient object, returns the patient's email (or an empty string).\n * Note that if the patient have multiple emails this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's email address or an empty string\n */\nfunction getPatientEmail() {\n    var patient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var phone = (patient.telecom || []).find(function (c) {\n        return c.system == \"email\";\n    });\n    return phone ? phone.value || \"\" : \"\";\n}\n\n/**\n * Extracts and returns a human-readable address string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's address or an empty string\n */\nfunction getPatientHomeAddress() {\n    var patient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var a = patient.address || [];\n    a = a.find(function (c) {\n        return c.use == \"home\";\n    }) || a[0] || {};\n    var l = [a.line, a.postalCode, a.city, a.country].map(function (x) {\n        return String(x || \"\").trim();\n    }).filter(Boolean).join(\" \");\n    return l ? l : a.text || \"\";\n}\n\n/**\n * Extracts and returns a human-readable age string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's age\n */\nfunction getPatientAge(patient) {\n    var from = (0, _moment2.default)(patient.birthDate);\n    var to = (0, _moment2.default)(patient.deceasedDateTime || undefined);\n    var age = to - from;\n\n    var seconds = Math.round(age / 1000);\n    if (seconds < 60) {\n        return seconds + \" second\";\n    }\n\n    var minutes = Math.round(seconds / 60);\n    if (minutes < 60) {\n        return minutes + \" minute\";\n    }\n\n    var hours = Math.round(minutes / 60);\n    if (hours < 24) {\n        return hours + \" hour\";\n    }\n\n    var days = Math.round(hours / 24);\n    if (days < 30) {\n        return days + \" day\";\n    }\n\n    var months = Math.round(days / 30);\n    if (months < 24) {\n        return months + \" month\";\n    }\n\n    var years = Math.round(days / 365);\n    return years + \" year\";\n}\n\n/**\n * Extracts and returns an URL pointing to the patient photo (or an empty string)\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's image URL\n */\nfunction getPatientImageUri(patient) {\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n    var data = getPath(patient, \"photo.0.data\") || \"\";\n    var url = getPath(patient, \"photo.0.url\") || \"\";\n    var type = getPath(patient, \"photo.0.contentType\") || \"\";\n    if (url.indexOf(\"/\") === 0) {\n        url = base + \"\" + url;\n    }\n    var http = url && url.match(/^https?:\\/\\//);\n    if (!http && data) {\n        if (type && data.indexOf(\"data:\") !== 0) {\n            data = \"data:\" + type + \";base64,\" + data;\n        }\n        url = data;\n    } else if (type && !http) {\n        url = \"data:\" + type + \";base64,\" + url;\n    }\n    return url;\n}\n\n/**\n * Text for highlight toggle button\n */\nvar highlightToggleButtonText = exports.highlightToggleButtonText = \"Highlight NLP Codes\";\n\n/**\n * Return the display text for the given CodeableConcept\n * @param {Object} concept CodeableConcept\n * @returns {String}\n */\nfunction getCodeableConcept(concept) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"-\";\n\n    return String(getPath(concept, \"coding.0.display\") || getPath(concept, \"coding.0.code\") || concept.text || defaultValue);\n}\n\n/**\n * Some elements are of type `code` in older FHIR versions, but have been\n * converted to CodeableConcept in later versions\n * @param {String|Object} data Code or CodeableConcept\n * @returns {String}\n */\nfunction getCodeOrConcept(data) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"-\";\n\n    if (typeof data == \"string\") return data || defaultValue;\n    return getCodeableConcept(data, defaultValue);\n}\n\n/**\n * Returns whether a codeOrConcept is the result of NLP insight\n * @param {Object} data Code or CodeableConcept\n * @returns {Boolean}\n */\nfunction codeIsNLPInsight(data) {\n    return getPath(data, \"coding.0.extension.0.url\") == \"http://ibm.com/fhir/cdm/insight/reference\";\n}\n\nvar InsightSource = exports.InsightSource = {\n    NONE: \"None\",\n    SELF: \"Self\",\n    DOCUMENT: \"Document\"\n\n    /**\n     * Gets data.meta.extension.*.extension\n     * @param {Object} data FHIR Resource\n     * @returns {Object}\n     */\n};function getInnerExtentsion(data) {\n    var meta = getPath(data, \"meta\");\n    if (meta) {\n        var ext_outer = getPath(meta, \"extension\");\n        if (ext_outer && Array.isArray(ext_outer)) {\n            for (var item_outer in ext_outer) {\n                if (getPath(ext_outer[item_outer], \"url\") == \"http://ibm.com/fhir/cdm/insight/result\") {\n                    var ext_inner = getPath(ext_outer[item_outer], \"extension\");\n                    return ext_inner;\n                }\n            }\n        }\n    }\n    return null;\n}\n\n/**\n * Gets details for an http://ibm.com/fhir/cdm/insight/insight-entry\n * @param {Object} item dictionary\n * @returns {Object}\n */\nfunction getInsightEntryDetails(item) {\n    var result = {};\n    var entry_arr = getPath(item, \"extension\");\n    for (var arr_ext_outer in entry_arr) {\n        var url = getPath(entry_arr[arr_ext_outer], \"url\");\n        if (url == \"http://ibm.com/fhir/cdm/insight/confidence\") {\n            // This is gonna be gross, but name and score are stored side-by-side so we gotta iterate twice\n            var arr_ext_inner = getPath(entry_arr[arr_ext_outer], \"extension\");\n            for (var e in arr_ext_inner) {\n                if (getPath(arr_ext_inner[e], \"url\") == \"http://ibm.com/fhir/cdm/insight/confidence-name\") {\n                    if (getPath(arr_ext_inner[e], \"valueString\") == \"Explicit Score\") {\n                        for (var _e in arr_ext_inner) {\n                            if (getPath(arr_ext_inner[_e], \"url\") == \"http://ibm.com/fhir/cdm/insight/confidence-score\") {\n                                result.confidence = getPath(arr_ext_inner[_e], \"valueString\");\n                            }\n                        }\n                    }\n                }\n            }\n        } else if (url == \"http://ibm.com/fhir/cdm/insight/span\") {\n            var _arr_ext_inner = getPath(entry_arr[arr_ext_outer], \"extension\");\n            for (var _e2 in _arr_ext_inner) {\n                if (getPath(_arr_ext_inner[_e2], \"url\") == \"http://ibm.com/fhir/cdm/insight/covered-text\") {\n                    result.coveredText = getPath(_arr_ext_inner[_e2], \"valueString\");\n                } else if (getPath(_arr_ext_inner[_e2], \"url\") == \"http://ibm.com/fhir/cdm/insight/offset-begin\") {\n                    result.offsetBegin = getPath(_arr_ext_inner[_e2], \"valueInteger\");\n                } else if (getPath(_arr_ext_inner[_e2], \"url\") == \"http://ibm.com/fhir/cdm/insight/offset-end\") {\n                    result.offsetEnd = getPath(_arr_ext_inner[_e2], \"valueInteger\");\n                }\n            }\n        }\n    }\n    return result;\n}\n\n/**\n * Gets the details of an insight\n * @param {Object} data FHIR Resource\n * @returns {Object}\n */\nfunction getInsightDetails(data) {\n    var result = {};\n    result.lastUpdated = getPath(data, \"meta.lastUpdated\");\n\n    var ext_inner = getInnerExtentsion(data);\n    if (ext_inner && Array.isArray(ext_inner)) {\n        for (var item in ext_inner) {\n            var url = getPath(ext_inner[item], \"url\");\n            // now that we've got the url, find all the different bits\n            if (url == \"http://ibm.com/fhir/cdm/StructureDefinition/process-type\") {\n                result.processType = getPath(ext_inner[item], \"valueString\");\n            } else if (url == \"http://ibm.com/fhir/cdm/StructureDefinition/process-name\") {\n                result.processName = getPath(ext_inner[item], \"valueString\");\n            } else if (url == \"http://ibm.com/fhir/cdm/StructureDefinition/process-version\") {\n                result.processVersion = getPath(ext_inner[item], \"valueString\");\n            } else if (url == \"http://ibm.com/fhir/cdm/insight/basedOn\") {\n                result.basedOn = getPath(ext_inner[item], \"valueReference.reference\");\n            } else if (url == \"http://ibm.com/fhir/cdm/insight/insight-entry\") {\n                var insightEntryDetails = getInsightEntryDetails(ext_inner[item]);\n                for (var key in insightEntryDetails) {\n                    result[key] = insightEntryDetails[key];\n                }\n            }\n        }\n    }\n\n    // get insightSource from processType\n    if (typeof result.processType != 'string') {\n        result.insightSource = InsightSource.NONE;\n    } else {\n        var processTypeArr = result.processType.toLowerCase().split(\" \");\n        if (processTypeArr.includes(\"unstructured\")) {\n            result.insightSource = InsightSource.DOCUMENT;\n        } else if (processTypeArr.includes(\"structured\")) {\n            result.insightSource = InsightSource.SELF;\n        } else {\n            // It's not good if this happens\n            result.insightSource = InsightSource.NONE;\n        }\n    }\n\n    return result;\n}\n\n/**\n * Gets the source type of an insight\n * @param {Object} data FHIR Resource\n * @returns {InsightSource}\n */\nfunction getInsightSource(data) {\n    return getInsightDetails(data).insightSource;\n}\n\n/**\n * Given some input string (@input) and a string to search for (@query), this\n * function will highlight all the occurrences by wrapping them in\n * \"<span class=\"search-match\"></span>\" tag.\n * @param {String} input The input string\n * @param {String} query The string to search for\n * @param {Boolean} caseSensitive Defaults to false\n * @returns {String} The input string with the matches highlighted\n */\nfunction searchHighlight(input, query) {\n    var caseSensitive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var s = String(input);\n    var q = String(query);\n    var x = s;\n\n    if (!caseSensitive) {\n        x = x.toLowerCase();\n        q = q.toLowerCase();\n    }\n\n    var i = x.indexOf(q);\n\n    if (i > -1) {\n        return s.substr(0, i) + \"<span class=\\\"search-match\\\">\" + s.substr(i, q.length) + \"</span>\" + s.substr(i + q.length);\n    }\n\n    return input;\n}\n\n/**\n * Uses searchHighlight() to generate and return a JSX.span element containing\n * the @html string with @search highlighted\n * @param {String} html The input string\n * @param {String} search The string to search for\n * @returns {JSX.span} SPAN element with the matches highlighted\n */\nfunction renderSearchHighlight(html, search) {\n    return React.createElement(\"span\", { dangerouslySetInnerHTML: {\n            __html: search ? searchHighlight(html, search) : html\n        } });\n}\n\n/**\n * Given a fhir bundle fins it's link having the given rel attribute.\n * @param {Object} bundle FHIR JSON Bundle object\n * @param {String} rel The rel attribute to look for: prev|next|self... (see\n * http://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1)\n * @returns {String|null} Returns the url of the link or null if the link was\n *                        not found.\n */\nfunction getBundleURL(bundle, rel) {\n    var nextLink = bundle.link;\n    if (nextLink) {\n        nextLink = nextLink.find(function (l) {\n            return l.relation === rel;\n        });\n        return nextLink && nextLink.url ? nextLink.url : null;\n    }\n    return null;\n}\n\nfunction request(options) {\n    options = typeof options == \"string\" ? { url: options } : options || {};\n    var cfg = _jquery2.default.extend(true, options, {\n        headers: {\n            Accept: \"application/fhir+json\"\n        }\n    });\n\n    return new Promise(function (resolve, reject) {\n        // console.info(\"Requesting \" + decodeURIComponent(cfg.url))\n        _jquery2.default.ajax(cfg).then(resolve, function (xhr) {\n            var message = getErrorMessage(xhr);\n            if (message && typeof message == \"string\") {\n                return reject(new Error(message));\n            } else {\n                return reject({ message: message });\n            }\n        });\n    });\n}\n\nfunction getAllPages(options) {\n    var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return request(options).then(function (bundle) {\n        (bundle.entry || []).forEach(function (item) {\n            if (item.fullUrl && result.findIndex(function (o) {\n                return o.fullUrl === item.fullUrl;\n            }) == -1) {\n                result.push(item);\n            }\n        });\n        var nextUrl = getBundleURL(bundle, \"next\");\n        if (nextUrl) {\n            return getAllPages(_extends({}, options, { url: nextUrl }), result);\n        }\n        return result;\n    });\n}\n\n/***/ }),\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader \n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t}),\n\tgetElement = (function(fn) {\n\t\tvar memo = {};\n\t\treturn function(selector) {\n\t\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t\t}\n\t\t\treturn memo[selector]\n\t\t};\n\t})(function (styleTarget) {\n\t\treturn document.querySelector(styleTarget)\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = __webpack_require__(326);\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (typeof options.insertInto === \"undefined\") options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar styleTarget = getElement(options.insertInto)\n\tif (!styleTarget) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\tstyleTarget.insertBefore(styleElement, styleTarget.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\tstyleTarget.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\tstyleTarget.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\tstyleTarget.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Grid = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lib = __webpack_require__(3);\n\nvar _reactRedux = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Renders group of resources in a grid (table) where each component represents\n * one row...\n */\nvar Grid = exports.Grid = function (_React$Component) {\n    _inherits(Grid, _React$Component);\n\n    function Grid(props) {\n        _classCallCheck(this, Grid);\n\n        var _this = _possibleConstructorReturn(this, (Grid.__proto__ || Object.getPrototypeOf(Grid)).call(this, props));\n\n        _this.state = {\n            __rows: _this.sortRows(_this.props.rows, _this.props.comparator)\n        };\n        return _this;\n    }\n\n    _createClass(Grid, [{\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(newProps) {\n            if (Array.isArray(newProps.rows)) {\n                this.setState({\n                    __rows: this.sortRows(newProps.rows, newProps.comparator)\n                });\n            }\n        }\n    }, {\n        key: \"sortRows\",\n        value: function sortRows(rows, comparator) {\n            if (!comparator) {\n                return rows;\n            }\n            return rows.sort(comparator);\n        }\n    }, {\n        key: \"renderResource\",\n        value: function renderResource(res, i) {\n            var url = this.props.settings.server.url + \"/\" + res.resourceType + \"/\" + res.id;\n            if (this.props.settings.fhirViewer.enabled) {\n                url = this.props.settings.fhirViewer.url + (this.props.settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + this.props.settings.fhirViewer.param + \"=\" + encodeURIComponent(url);\n            } else {\n                url += \"?_format=json&_pretty=true\";\n            }\n\n            return _react2.default.createElement(\n                \"tr\",\n                { key: i },\n                this.props.cols.map(function (col, i) {\n                    var render = col.render,\n                        path = col.path,\n                        cellProps = col.cellProps,\n                        defaultValue = col.defaultValue;\n\n                    cellProps = _extends({}, cellProps, { key: i });\n                    if (typeof render == \"function\") {\n                        return _react2.default.createElement(\n                            \"td\",\n                            cellProps,\n                            render(res)\n                        );\n                    }\n                    return _react2.default.createElement(\n                        \"td\",\n                        cellProps,\n                        (0, _lib.getPath)(res, path) || _react2.default.createElement(\n                            \"small\",\n                            { className: \"text-muted\" },\n                            defaultValue || \"-\"\n                        )\n                    );\n                }),\n                _react2.default.createElement(\n                    \"td\",\n                    null,\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-primary text-center\" },\n                        _react2.default.createElement(\n                            \"button\",\n                            { onClick: function onClick() {\n                                    return window.open(url, \"_blank\", \"noopener,noreferrer\");\n                                } },\n                            _react2.default.createElement(\"i\", { className: \"fa fa-eye fas fa-bold\" })\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderRows\",\n        value: function renderRows() {\n            var _this2 = this;\n\n            if (!this.state.__enableGrouping) {\n                return this.state.__rows.map(this.renderResource, this);\n            }\n\n            var groupColIndex = this.props.groupBy ? this.props.cols.findIndex(function (c) {\n                return c.name === _this2.props.groupBy || c.label === _this2.props.groupBy;\n            }) : -1;\n            var groupPath = groupColIndex > -1 ? this.props.cols[groupColIndex].path : null;\n\n            if (!groupPath) {\n                return this.state.__rows.map(this.renderResource, this);\n            }\n\n            var groups = {};\n            this.state.__rows.forEach(function (rec, i) {\n                var groupValue = typeof groupPath == \"function\" ? groupPath(rec) : (0, _lib.getPath)(rec, groupPath);\n                groupValue = groupValue || \"Empty Group\";\n                if (!groups.hasOwnProperty(groupValue)) {\n                    groups[groupValue] = [];\n                }\n                groups[groupValue].push(_this2.renderResource(rec, i));\n            });\n\n            var out = [];\n\n            var _loop = function _loop(group) {\n                if (groups[group].length > 1) {\n                    out.push(_react2.default.createElement(\n                        \"tr\",\n                        { className: \"group-header\", key: group },\n                        _react2.default.createElement(\n                            \"th\",\n                            { colSpan: _this2.props.cols.length, onClick: function onClick() {\n                                    return _this2.setState(_defineProperty({}, group, _this2.state[group] === false ? true : false));\n                                } },\n                            _react2.default.createElement(\"i\", { className: \"glyphicon glyphicon-triangle-\" + (_this2.state[group] !== false ? \"bottom\" : \"right\") }),\n                            \" \",\n                            group,\n                            \" \",\n                            _react2.default.createElement(\n                                \"small\",\n                                { className: \"badge\" },\n                                groups[group].length\n                            )\n                        )\n                    ));\n                    if (_this2.state[group] !== false) {\n                        out = out.concat(groups[group]);\n                    }\n                } else {\n                    out.push(_react2.default.createElement(\"tr\", { className: \"group-clear\", key: group }));\n                    out = out.concat(groups[group]);\n                }\n            };\n\n            for (var group in groups) {\n                _loop(group);\n            }\n            return out;\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"panel panel-default\" + (this.state.__enableGrouping ? \" grouped\" : \"\") },\n                this.props.title ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"panel-heading\" },\n                    this.props.groupBy && this.state.__rows.length > 1 && _react2.default.createElement(\n                        \"label\",\n                        { className: \"pull-right\" },\n                        \"Group by \",\n                        this.props.groupBy,\n                        \" \",\n                        _react2.default.createElement(\"input\", {\n                            type: \"checkbox\",\n                            checked: !!this.state.__enableGrouping,\n                            onChange: function onChange(e) {\n                                return _this3.setState({\n                                    __enableGrouping: e.target.checked\n                                });\n                            }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        \"b\",\n                        { className: \"text-primary\" },\n                        _react2.default.createElement(\"i\", { className: \"fa fa-address-card-o\" }),\n                        \" \",\n                        this.props.title\n                    )\n                ) : null,\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"table-responsive\" },\n                    _react2.default.createElement(\n                        \"table\",\n                        { className: \"table table-condensed table-hover table-striped table-bordered\", style: {\n                                minWidth: this.props.cols.length * 200\n                            } },\n                        _react2.default.createElement(\n                            \"thead\",\n                            null,\n                            _react2.default.createElement(\n                                \"tr\",\n                                null,\n                                this.props.cols.map(function (col, i) {\n                                    var headerProps = col.headerProps,\n                                        label = col.label;\n\n                                    headerProps = _extends({}, headerProps, { key: i });\n                                    return _react2.default.createElement(\n                                        \"th\",\n                                        headerProps,\n                                        label || \"\"\n                                    );\n                                }),\n                                _react2.default.createElement(\n                                    \"th\",\n                                    null,\n                                    _react2.default.createElement(\n                                        \"div\",\n                                        { className: \"text-center\" },\n                                        \"View\"\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"tbody\",\n                            null,\n                            this.renderRows()\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Grid;\n}(_react2.default.Component);\n\nGrid.propTypes = {\n    rows: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    cols: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    settings: _propTypes2.default.object.isRequired,\n    title: _propTypes2.default.string,\n    groupBy: _propTypes2.default.string,\n    comparator: _propTypes2.default.func\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return {\n        settings: state.settings\n    };\n})(Grid);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.goPrev = exports.goNext = exports.fetch = exports.setLimit = exports.setTags = exports.delTag = exports.addTag = exports.setSort = exports.setQueryType = exports.setQueryString = exports.setParam = exports.setGender = exports.setConditions = exports.delCondition = exports.addCondition = exports.setAgeGroup = exports.setMaxAge = exports.setMinAge = exports.setData = exports.setError = exports.setLoading = exports.queryBuilder = undefined;\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxActions = __webpack_require__(18);\n\nvar _PatientSearch = __webpack_require__(240);\n\nvar _PatientSearch2 = _interopRequireDefault(_PatientSearch);\n\nvar _lib = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar queryBuilder = exports.queryBuilder = new _PatientSearch2.default((0, _lib.parseQueryString)(window.location.hash.split(\"?\")[1] || \"\"));\n\n/**\n * The initial state is just an empty object that will be filled\n * with query parameters.\n */\nvar INITIAL_STATE = _extends({}, queryBuilder.getState(), {\n    loading: false,\n    error: null,\n    bundle: null\n\n    // Private action constants\n});var SET_LOADING = \"app/search/SET_LOADING\";\nvar SET_ERROR = \"app/search/SET_ERROR\";\nvar SET_DATA = \"app/search/SET_DATA\";\nvar SET_MIN_AGE = \"app/search/SET_MIN_AGE\";\nvar SET_MAX_AGE = \"app/search/SET_MAX_AGE\";\nvar SET_AGE_GROUP = \"app/search/SET_AGE_GROUP\";\nvar ADD_CONDITION = \"app/search/ADD_CONDITION\";\nvar DEL_CONDITION = \"app/search/DEL_CONDITION\";\nvar ADD_TAG = \"app/search/ADD_TAG\";\nvar DEL_TAG = \"app/search/DEL_TAG\";\nvar SET_CONDITIONS = \"app/search/SET_CONDITIONS\";\nvar SET_GENDER = \"app/search/SET_GENDER\";\nvar SET_PARAM = \"app/search/SET_PARAM\";\nvar SET_QUERY_STRING = \"app/search/SET_QUERY_STRING\";\nvar SET_QUERY_TYPE = \"app/search/SET_QUERY_TYPE\";\nvar SET_SORT = \"app/search/SET_SORT\";\nvar SET_TAGS = \"app/search/SET_TAGS\";\nvar SET_LIMIT = \"app/search/SET_LIMIT\";\n\n// Create (and export) the redux actions ---------------------------------------\nvar setLoading = exports.setLoading = (0, _reduxActions.createAction)(SET_LOADING);\nvar setError = exports.setError = (0, _reduxActions.createAction)(SET_ERROR);\nvar setData = exports.setData = (0, _reduxActions.createAction)(SET_DATA);\nvar setMinAge = exports.setMinAge = (0, _reduxActions.createAction)(SET_MIN_AGE);\nvar setMaxAge = exports.setMaxAge = (0, _reduxActions.createAction)(SET_MAX_AGE);\nvar setAgeGroup = exports.setAgeGroup = (0, _reduxActions.createAction)(SET_AGE_GROUP);\nvar addCondition = exports.addCondition = (0, _reduxActions.createAction)(ADD_CONDITION);\nvar delCondition = exports.delCondition = (0, _reduxActions.createAction)(DEL_CONDITION);\nvar setConditions = exports.setConditions = (0, _reduxActions.createAction)(SET_CONDITIONS);\nvar setGender = exports.setGender = (0, _reduxActions.createAction)(SET_GENDER);\nvar setParam = exports.setParam = (0, _reduxActions.createAction)(SET_PARAM);\nvar setQueryString = exports.setQueryString = (0, _reduxActions.createAction)(SET_QUERY_STRING);\nvar setQueryType = exports.setQueryType = (0, _reduxActions.createAction)(SET_QUERY_TYPE);\nvar setSort = exports.setSort = (0, _reduxActions.createAction)(SET_SORT);\nvar addTag = exports.addTag = (0, _reduxActions.createAction)(ADD_TAG);\nvar delTag = exports.delTag = (0, _reduxActions.createAction)(DEL_TAG);\nvar setTags = exports.setTags = (0, _reduxActions.createAction)(SET_TAGS);\nvar setLimit = exports.setLimit = (0, _reduxActions.createAction)(SET_LIMIT);\n\nvar fetch = exports.fetch = function fetch() {\n    return function (dispatch, getState) {\n        dispatch(setLoading(true));\n        dispatch(setError(null));\n\n        var _getState = getState(),\n            settings = _getState.settings;\n\n        queryBuilder.fetch(settings.server).then(function (bundle) {\n            dispatch(setData(bundle));\n            dispatch(setLoading(false));\n        }, function (error) {\n            dispatch(setError(error));\n            dispatch(setLoading(false));\n        });\n    };\n};\n\nvar goNext = exports.goNext = function goNext() {\n    return function (dispatch, getState) {\n        var bundle = getState().query.bundle;\n\n        var url = (0, _lib.getBundleURL)(bundle, \"next\");\n        if (url) {\n            url = (0, _lib.parseQueryString)(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    };\n};\n\nvar goPrev = exports.goPrev = function goPrev() {\n    return function (dispatch, getState) {\n        var bundle = getState().query.bundle;\n\n        var url = (0, _lib.getBundleURL)(bundle, \"previous\");\n        if (url) {\n            url = (0, _lib.parseQueryString)(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    };\n};\n\n// Export the reducer as default\nexports.default = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, SET_SORT, function (state, action) {\n    queryBuilder.setSort(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_QUERY_STRING, function (state, action) {\n    queryBuilder.setQueryString(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_QUERY_TYPE, function (state, action) {\n    queryBuilder.setQueryType(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_PARAM, function (state, action) {\n    queryBuilder.setParam(action.payload.name, action.payload.value);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_MIN_AGE, function (state, action) {\n    queryBuilder.setMinAge(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_MAX_AGE, function (state, action) {\n    queryBuilder.setMaxAge(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_AGE_GROUP, function (state, action) {\n    queryBuilder.setAgeGroup(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, ADD_CONDITION, function (state, action) {\n    queryBuilder.addCondition(action.payload.key, action.payload.value);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_CONDITIONS, function (state, action) {\n    queryBuilder.setConditions(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, DEL_CONDITION, function (state, action) {\n    queryBuilder.removeCondition(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, ADD_TAG, function (state, action) {\n    queryBuilder.addTag(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, DEL_TAG, function (state, action) {\n    queryBuilder.removeTag(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_TAGS, function (state, action) {\n    queryBuilder.setTags(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_GENDER, function (state, action) {\n    queryBuilder.setGender(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_LIMIT, function (state, action) {\n    queryBuilder.setLimit(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_LOADING, function (state, action) {\n    return _extends({}, state, queryBuilder.getState(), {\n        loading: !!action.payload\n    });\n}), _defineProperty(_handleActions, SET_ERROR, function (state, action) {\n    return _extends({}, state, queryBuilder.getState(), {\n        error: action.payload\n    });\n}), _defineProperty(_handleActions, SET_DATA, function (state, action) {\n    return _extends({}, state, queryBuilder.getState(), {\n        bundle: action.payload\n    });\n}), _handleActions), INITIAL_STATE);\n\n/***/ }),\n/* 12 */,\n/* 13 */,\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Date;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction Date(_ref) {\n    var moment = _ref.moment,\n        _ref$format = _ref.format,\n        format = _ref$format === undefined ? \"MM/DD/YYYY\" : _ref$format,\n        rest = _objectWithoutProperties(_ref, [\"moment\", \"format\"]);\n\n    return _react2.default.createElement(\n        \"span\",\n        rest,\n        (0, _moment2.default)(moment).format(format)\n    );\n}\n\nDate.propTypes = {\n    format: _propTypes2.default.string,\n    moment: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.instanceOf(Date), _propTypes2.default.object // moment\n    ]).isRequired\n};\n\n/***/ }),\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Period;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Period(period) {\n    var from = period.start || \"\";\n    var to = period.end || \"\";\n\n    if (from && to) {\n        from = (0, _moment2.default)(from);\n        to = (0, _moment2.default)(to);\n\n        if (from.isSame(to, \"day\")) {\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                from.format(\"MM/DD/YYYY\"),\n                from.isSame(to, \"hour\") ? null : _react2.default.createElement(\n                    \"span\",\n                    null,\n                    _react2.default.createElement(\n                        \"small\",\n                        { className: \"text-muted\" },\n                        \" from \"\n                    ),\n                    from.format(\"HH:mm\"),\n                    _react2.default.createElement(\n                        \"small\",\n                        { className: \"text-muted\" },\n                        \" to \"\n                    ),\n                    to.format(\"HH:mm\")\n                )\n            );\n        } else {\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" from \"\n                ),\n                from.format(\"MM/DD/YYYY\"),\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" to \"\n                ),\n                to.format(\"MM/DD/YYYY\")\n            );\n        }\n    } else {\n        if (from) {\n            from = (0, _moment2.default)(from);\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" from \"\n                ),\n                from.format(\"MM/DD/YYYY\")\n            );\n        } else if (to) {\n            to = (0, _moment2.default)(to);\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" to \"\n                ),\n                to.format(\"MM/DD/YYYY\")\n            );\n        }\n    }\n    return _react2.default.createElement(\n        \"small\",\n        { className: \"text-muted\" },\n        \"N/A\"\n    );\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _redux = __webpack_require__(41);\n\nvar _reduxThunk = __webpack_require__(40);\n\nvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\nvar _selection = __webpack_require__(22);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _query = __webpack_require__(11);\n\nvar _query2 = _interopRequireDefault(_query);\n\nvar _settings = __webpack_require__(23);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _urlParams = __webpack_require__(241);\n\nvar _urlParams2 = _interopRequireDefault(_urlParams);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The purpose of this file is to combine reducers and create the single store.\n * One should use it simply like so:\n *\n * ```import STORE from \"./redux\"```\n */\nvar middleWares = [_reduxThunk2.default];\n\n// Create logger middleware that will log all redux action but only\n// use that in development env.\nif (false) {\n    var logger = function logger(_store) {\n        return function (next) {\n            return function (action) {\n                var result = void 0;\n                if (!action.__no_log) {\n                    console.groupCollapsed(action.type);\n                    console.info(\"dispatching\", action);\n                    result = next(action);\n                    console.log(\"next state\", _store.getState());\n                    console.groupEnd(action.type);\n                } else {\n                    result = next(action);\n                }\n                return result;\n            };\n        };\n    };\n\n    middleWares.push(logger);\n}\n\nexports.default = (0, _redux.createStore)((0, _redux.combineReducers)({\n    selection: _selection2.default,\n    query: _query2.default,\n    settings: _settings2.default,\n    urlParams: _urlParams2.default\n}), _redux.applyMiddleware.apply(undefined, middleWares));\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.setSelectionCleared = exports.setAll = exports.toggle = undefined;\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxActions = __webpack_require__(18);\n\nvar _lib = __webpack_require__(3);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar PARAMS = (0, _lib.parseQueryString)(location.hash);\nvar SINGLE = (0, _lib.boolVal)(PARAMS[\"single-selection\"]);\n\n/**\n * For the initial selection state parse the query portion of the URL hash (if\n * any). Note that this is not enough! The hash query can provide list of\n * patient IDs but we initialize them as true. Later they should be updated to\n * contain actual patient objects instead of true!\n */\nvar initialSelection = {};\n(PARAMS._selection || \"\").split(/\\s*,\\s*/).forEach(function (k) {\n    if (k) {\n\n        // In single mode the last id will become the selected one!\n        if (SINGLE) {\n            initialSelection = _defineProperty({}, k, true);\n        } else {\n            initialSelection[k] = true;\n        }\n    }\n});\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nvar INITIAL_STATE = _extends({}, initialSelection, {\n    selectionCleared: false\n\n    // Private action constants\n});var TOGGLE = \"app/selection/TOGGLE\";\nvar SET_ALL = \"app/selection/SET_ALL\";\nvar SELECTION_CLEARED = \"app/selection/SELECTION_CLEARED\";\n\n// Create (and export) the redux actions\nvar toggle = exports.toggle = (0, _reduxActions.createAction)(TOGGLE);\nvar setAll = exports.setAll = (0, _reduxActions.createAction)(SET_ALL);\nvar setSelectionCleared = exports.setSelectionCleared = (0, _reduxActions.createAction)(SELECTION_CLEARED);\n\n/**\n * Update the \"_selection\" hash parameter whenever the selection changes\n * @param {Object} selection The selection to set\n */\nfunction setHashSelection(selection) {\n    (0, _lib.setHashParam)(\"_selection\", Object.keys(selection).filter(function (k) {\n        return selection.hasOwnProperty(k) && !!selection[k];\n    }).join(\",\"));\n}\n\n// Export the reducer as default\nexports.default = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, TOGGLE, function (state, action) {\n    var _newState;\n\n    var id = String(action.payload.id);\n    var newState = (_newState = {}, _defineProperty(_newState, id, state[id] ? false : action.payload), _defineProperty(_newState, \"selectionCleared\", false), _newState);\n\n    if (!SINGLE) {\n        newState = _extends({}, state, newState);\n    }\n    setHashSelection(newState);\n    return newState;\n}), _defineProperty(_handleActions, SELECTION_CLEARED, function (state, action) {\n    return _extends({}, state, { selectionCleared: true });\n}), _defineProperty(_handleActions, SET_ALL, function (_, action) {\n    var newState = _extends({}, action.payload, { selectionCleared: false });\n    setHashSelection(newState);\n    return newState;\n}), _handleActions), INITIAL_STATE);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.showSelectedOnly = exports.replace = exports.merge = undefined;\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxActions = __webpack_require__(18);\n\nvar _configDefault = __webpack_require__(239);\n\nvar _configDefault2 = _interopRequireDefault(_configDefault);\n\nvar _mixinDeep = __webpack_require__(274);\n\nvar _mixinDeep2 = _interopRequireDefault(_mixinDeep);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Private action constants\nvar MERGE = \"app/settings/MERGE\";\nvar REPLACE = \"app/settings/REPLACE\";\nvar RENDER_SELECTED_ONLY = \"app/settings/RENDER_SELECTED_ONLY\";\n\n// Create (and export) the redux actions\nvar merge = exports.merge = (0, _reduxActions.createAction)(MERGE);\nvar replace = exports.replace = (0, _reduxActions.createAction)(REPLACE);\nvar showSelectedOnly = exports.showSelectedOnly = (0, _reduxActions.createAction)(RENDER_SELECTED_ONLY);\n\n// Export the reducer as default\nexports.default = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, MERGE, function (state, action) {\n    return (0, _mixinDeep2.default)(state, action.payload, { loaded: true });\n}), _defineProperty(_handleActions, RENDER_SELECTED_ONLY, function (state, action) {\n    return _extends({}, state, {\n        renderSelectedOnly: !!action.payload\n    });\n}), _defineProperty(_handleActions, REPLACE, function (_, action) {\n    return _extends({}, action.payload);\n}), _handleActions), _configDefault2.default);\n\n/***/ }),\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactjsPopup = __webpack_require__(305);\n\nvar _reactjsPopup2 = _interopRequireDefault(_reactjsPopup);\n\nvar _lib = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InsightsDetailButton = function (_React$Component) {\n    _inherits(InsightsDetailButton, _React$Component);\n\n    function InsightsDetailButton() {\n        _classCallCheck(this, InsightsDetailButton);\n\n        return _possibleConstructorReturn(this, (InsightsDetailButton.__proto__ || Object.getPrototypeOf(InsightsDetailButton)).apply(this, arguments));\n    }\n\n    _createClass(InsightsDetailButton, [{\n        key: \"render\",\n        value: function render() {\n            var rec = this.props.resource;\n            var details = (0, _lib.getInsightDetails)(rec);\n            var isDocument = details.insightSource == _lib.InsightSource.DOCUMENT;\n            var prettyDate = new Date(details.lastUpdated).toUTCString();\n\n            var sourceUrl = void 0;\n            if (isDocument) {\n                sourceUrl = this.props.settings.server.url + \"/\" + details.basedOn;\n                if (this.props.settings.fhirViewer.enabled) {\n                    sourceUrl = this.props.settings.fhirViewer.url + (this.props.settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + this.props.settings.fhirViewer.param + \"=\" + encodeURIComponent(sourceUrl);\n                } else {\n                    sourceUrl += \"?_format=json&_pretty=true\";\n                }\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"text-primary text-center\" },\n                _react2.default.createElement(\n                    _reactjsPopup2.default,\n                    {\n                        trigger: _react2.default.createElement(\n                            \"button\",\n                            null,\n                            _react2.default.createElement(\"i\", { className: \"fa fa-lightbulb-o fas fa-bold\" })\n                        ),\n                        position: \"left center\",\n                        on: ['hover', 'click', \"focus\"]\n                    },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"drop-shadow panel panel-default\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"panel-heading\" },\n                            _react2.default.createElement(\n                                \"b\",\n                                { className: \"text-primary\" },\n                                _react2.default.createElement(\"i\", { className: \"fa fa-lightbulb-o fas fa-bold\", style: { paddingRight: 10 } }),\n                                \"Insights for \",\n                                rec.resourceType,\n                                \" \",\n                                rec.id\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"table-responsive\", role: \"presentation\" },\n                            _react2.default.createElement(\n                                \"table\",\n                                { className: \"table table-condensed table-hover table-striped table-bordered\" },\n                                _react2.default.createElement(\n                                    \"tbody\",\n                                    null,\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Last Updated\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            prettyDate\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Process Name\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            details.processName\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Process Type\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            details.processType\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Process Version\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            details.processVersion\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Insight Source\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            isDocument ? _react2.default.createElement(\n                                                \"a\",\n                                                { href: sourceUrl, target: \"_blank\", rel: \"noopener noreferrer\" },\n                                                details.basedOn.replace(\"/\", \" \")\n                                            ) : details.insightSource\n                                        )\n                                    )\n                                ),\n                                isDocument ? _react2.default.createElement(\n                                    \"tbody\",\n                                    null,\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Covered Text\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            \"\\\"...\",\n                                            _react2.default.createElement(\n                                                \"em\",\n                                                null,\n                                                details.coveredText\n                                            ),\n                                            \"...\\\" [\",\n                                            details.offsetBegin,\n                                            \":\",\n                                            details.offsetEnd,\n                                            \"]\"\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        \"tr\",\n                                        null,\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"strong\",\n                                                null,\n                                                \"Confidence\"\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            \"td\",\n                                            null,\n                                            Number(details.confidence) * 100,\n                                            \"%\"\n                                        )\n                                    )\n                                ) : null\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return InsightsDetailButton;\n}(_react2.default.Component);\n\nInsightsDetailButton.PropTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    resource: _propTypes2.default.object\n};\nexports.default = InsightsDetailButton;\n\n/***/ }),\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ICONS = {\n    info: \"fa fa-info-circle\",\n    warning: \"fa fa-exclamation-circle\",\n    danger: \"fa fa-exclamation-triangle\",\n    success: \"fa fa-thumbs-up\"\n};\n\nvar Alert = function (_React$Component) {\n    _inherits(Alert, _React$Component);\n\n    function Alert() {\n        _classCallCheck(this, Alert);\n\n        return _possibleConstructorReturn(this, (Alert.__proto__ || Object.getPrototypeOf(Alert)).apply(this, arguments));\n    }\n\n    _createClass(Alert, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"container-fluid\", style: { width: \"100%\" } },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-xs-12\" },\n                        _react2.default.createElement(\"br\", null),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"alert alert-\" + this.props.type },\n                            this.props.close ? _react2.default.createElement(\n                                \"span\",\n                                {\n                                    \"aria-hidden\": \"true\",\n                                    \"data-dismiss\": \"alert\",\n                                    className: \"close\",\n                                    style: { lineHeight: \"1.2rem\" }\n                                },\n                                \"\\xD7\"\n                            ) : null,\n                            this.props.icon ? _react2.default.createElement(\"i\", { className: ICONS[this.props.type], style: {\n                                    marginRight: \"1ex\"\n                                } }) : null,\n                            this.props.children\n                        ),\n                        _react2.default.createElement(\"br\", null)\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Alert;\n}(_react2.default.Component);\n\nAlert.propTypes = {\n    type: _propTypes2.default.oneOf([\"info\", \"warning\", \"danger\", \"success\"]),\n    close: _propTypes2.default.bool,\n    icon: _propTypes2.default.bool,\n    children: _propTypes2.default.any\n};\nAlert.defaultProps = {\n    type: \"info\",\n    close: true,\n    icon: true\n};\nexports.default = Alert;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DialogFooter = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = __webpack_require__(9);\n\nvar _settings = __webpack_require__(23);\n\nvar _query = __webpack_require__(11);\n\nvar _selection = __webpack_require__(22);\n\n__webpack_require__(329);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IS_POPUP = window.opener && window.name;\nvar IS_FRAME = parent !== self;\n\nvar SelectionUI = function (_React$Component) {\n    _inherits(SelectionUI, _React$Component);\n\n    function SelectionUI() {\n        _classCallCheck(this, SelectionUI);\n\n        return _possibleConstructorReturn(this, (SelectionUI.__proto__ || Object.getPrototypeOf(SelectionUI)).apply(this, arguments));\n    }\n\n    _createClass(SelectionUI, [{\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var len = Object.keys(this.props.selection).filter(function (key) {\n                return !!_this2.props.selection[key] && key !== \"selectionCleared\";\n            }).length;\n            var viewClass = [\"btn\"];\n            var resetClass = [\"btn\"];\n\n            if (len === 0) {\n                viewClass.push(\"disabled\");\n                resetClass.push(\"disabled\");\n            }\n\n            if (this.props.settings.renderSelectedOnly) {\n                viewClass.push(\"active\");\n            }\n\n            var hasSelection = this.props.canShowSelected && len > 0;\n            return _react2.default.createElement(\n                \"label\",\n                { disabled: len === 0 },\n                _react2.default.createElement(\n                    \"span\",\n                    null,\n                    len + \" patient\" + (len === 1 ? \"\" : \"s\") + \" selected\" + (hasSelection ? ':' : '')\n                ),\n                hasSelection ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"btn-group\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: viewClass.join(\" \"), onClick: function onClick() {\n                                _this2.props.onToggleSelectionVisibility(!_this2.props.settings.renderSelectedOnly);\n                            } },\n                        \"View Selected\"\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: resetClass.join(\" \"), onClick: function onClick() {\n                                _this2.props.onResetSelection();\n                            } },\n                        \"Clear Selected\"\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return SelectionUI;\n}(_react2.default.Component);\n\nSelectionUI.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    selection: _propTypes2.default.object.isRequired,\n    onToggleSelectionVisibility: _propTypes2.default.func.isRequired,\n    onResetSelection: _propTypes2.default.func.isRequired,\n    canShowSelected: _propTypes2.default.bool\n};\n\nvar DialogFooter = exports.DialogFooter = function (_React$Component2) {\n    _inherits(DialogFooter, _React$Component2);\n\n    function DialogFooter() {\n        _classCallCheck(this, DialogFooter);\n\n        return _possibleConstructorReturn(this, (DialogFooter.__proto__ || Object.getPrototypeOf(DialogFooter)).apply(this, arguments));\n    }\n\n    _createClass(DialogFooter, [{\n        key: \"export\",\n\n\n        /**\n         * Generates and returns the object that will be sent back to the client\n         * when the OK button is clicked\n         */\n        value: function _export() {\n            var _this4 = this;\n\n            // debugger;\n            var selection = this.props.selection;\n\n            switch (this.props.settings.outputMode) {\n\n                case \"id-array\":\n                    // array of patient IDs\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    });\n\n                case \"transactions\":\n                    // array of JSON transactions objects for each patient\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    }).map(function (k) {\n                        return _this4.createPatientTransaction(selection[k]);\n                    });\n\n                case \"patients\":\n                    // array of patient JSON objects\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    }).map(function (k) {\n                        return selection[k];\n                    });\n\n                case \"id-list\":\n                    // comma-separated list of patient IDs (default)\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    }).join(\",\");\n            }\n        }\n    }, {\n        key: \"createPatientTransaction\",\n        value: function createPatientTransaction() {\n            throw new Error(\"No implemented\");\n        }\n    }, {\n        key: \"showSelectedOnly\",\n        value: function showSelectedOnly(bOn) {\n            if (bOn) {\n                var selection = this.props.selection;\n                this.props.setParam({\n                    name: \"_id\",\n                    value: Object.keys(selection).filter(function (k) {\n                        return !!selection[k];\n                    }).join(\",\")\n                });\n            } else {\n                this.props.setParam({\n                    name: \"_id\",\n                    value: undefined\n                });\n            }\n            this.props.showSelectedOnly(bOn);\n        }\n    }, {\n        key: \"renderDialogButtons\",\n        value: function renderDialogButtons() {\n            var _this5 = this;\n\n            if (!IS_POPUP && !IS_FRAME) {\n                return null;\n            }\n\n            var OWNER = window.opener || window.parent;\n            var selectionCount = Object.keys(this.props.selection).filter(function (key) {\n                return !!_this5.props.selection[key];\n            }).length;\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"col-xs-6 text-right\" },\n                _react2.default.createElement(\n                    \"button\",\n                    { className: \"btn btn-default\", onClick: function onClick() {\n                            OWNER.postMessage({ type: \"close\" }, \"*\");\n                        } },\n                    \"Cancel\"\n                ),\n                _react2.default.createElement(\n                    \"button\",\n                    { className: \"btn btn-primary\", onClick: function onClick() {\n                            var confirmClose = true;\n                            if (selectionCount <= 0 && !_this5.props.selection.selectionCleared) {\n                                confirmClose = window.confirm(\"No patients have been selected. Choose 'Cancel' to return to making a selection or 'OK' to close without selecting\");\n                            }\n                            if (confirmClose) {\n                                OWNER.postMessage({\n                                    type: \"result\",\n                                    data: _this5.export()\n                                }, \"*\");\n                            }\n                        } },\n                    \"OK\"\n                )\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var selection = this.props.selection;\n            selection = Object.keys(selection).filter(function (k) {\n                return !!selection[k];\n            });\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"row dialog-buttons\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"col-xs-6 text-left\" },\n                    _react2.default.createElement(SelectionUI, {\n                        selection: this.props.selection,\n                        settings: this.props.settings,\n                        onToggleSelectionVisibility: this.showSelectedOnly.bind(this),\n                        onResetSelection: this.props.resetSelection,\n                        canShowSelected: this.props.canShowSelected\n                    })\n                ),\n                this.renderDialogButtons()\n            );\n        }\n    }]);\n\n    return DialogFooter;\n}(_react2.default.Component);\n\nDialogFooter.propTypes = {\n    selection: _propTypes2.default.object.isRequired,\n    settings: _propTypes2.default.object.isRequired,\n    showSelectedOnly: _propTypes2.default.func.isRequired,\n    resetSelection: _propTypes2.default.func.isRequired,\n    setParam: _propTypes2.default.func.isRequired,\n    fetch: _propTypes2.default.func.isRequired,\n    canShowSelected: _propTypes2.default.bool\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return {\n        selection: state.selection,\n        settings: state.settings,\n        query: state.query\n    };\n}, function (dispatch) {\n    return {\n        showSelectedOnly: function showSelectedOnly(bValue) {\n            dispatch((0, _settings.showSelectedOnly)(bValue));\n            dispatch((0, _query.fetch)());\n        },\n        resetSelection: function resetSelection() {\n            dispatch((0, _selection.setAll)({}));\n            dispatch((0, _settings.showSelectedOnly)(false));\n            dispatch((0, _query.setParam)({ name: \"_id\", value: undefined }));\n            dispatch((0, _query.fetch)());\n            dispatch((0, _selection.setSelectionCleared)());\n        },\n        setParam: function setParam(name, value) {\n            return dispatch((0, _query.setParam)(name, value));\n        },\n        fetch: function fetch() {\n            return dispatch((0, _query.fetch)());\n        }\n    };\n})(DialogFooter);\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lib = __webpack_require__(3);\n\nvar _Alert = __webpack_require__(42);\n\nvar _Alert2 = _interopRequireDefault(_Alert);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ErrorMessage = function (_React$Component) {\n    _inherits(ErrorMessage, _React$Component);\n\n    function ErrorMessage() {\n        _classCallCheck(this, ErrorMessage);\n\n        return _possibleConstructorReturn(this, (ErrorMessage.__proto__ || Object.getPrototypeOf(ErrorMessage)).apply(this, arguments));\n    }\n\n    _createClass(ErrorMessage, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                _Alert2.default,\n                { type: \"danger\" },\n                (0, _lib.getErrorMessage)(this.props.error)\n            );\n        }\n    }]);\n\n    return ErrorMessage;\n}(_react2.default.Component);\n\nErrorMessage.propTypes = {\n    error: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object])\n};\nErrorMessage.defaultProps = {\n    error: \"Unknown Error\"\n};\nexports.default = ErrorMessage;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\n__webpack_require__(332);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Loader = function (_React$Component) {\n    _inherits(Loader, _React$Component);\n\n    function Loader() {\n        _classCallCheck(this, Loader);\n\n        return _possibleConstructorReturn(this, (Loader.__proto__ || Object.getPrototypeOf(Loader)).apply(this, arguments));\n    }\n\n    _createClass(Loader, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"loader\" },\n                _react2.default.createElement(\n                    \"div\",\n                    null,\n                    _react2.default.createElement(\"i\", { className: \"fa fa-spinner spin\" }),\n                    \" Loading...\"\n                )\n            );\n        }\n    }]);\n\n    return Loader;\n}(_react2.default.Component);\n\nexports.default = Loader;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lib = __webpack_require__(3);\n\n__webpack_require__(334);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global jdenticon */\n\n\nfunction hash(input) {\n    var out = String(input).toLowerCase().trim().split(\"\").reduce(function (sum, c) {\n        return sum + c.charCodeAt(0).toString(16);\n    }, \"\");\n    while (out.length < 11) {\n        out += out.length ? out : \"000000000000\";\n    }\n    return out;\n}\n\nvar PatientImage = function (_React$Component) {\n    _inherits(PatientImage, _React$Component);\n\n    function PatientImage() {\n        _classCallCheck(this, PatientImage);\n\n        return _possibleConstructorReturn(this, (PatientImage.__proto__ || Object.getPrototypeOf(PatientImage)).apply(this, arguments));\n    }\n\n    _createClass(PatientImage, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            this.renderCanvas();\n        }\n    }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n            this.renderCanvas();\n        }\n    }, {\n        key: \"renderCanvas\",\n        value: function renderCanvas() {\n            var url = (0, _lib.getPatientImageUri)(this.props.patient, this.props.base);\n            if (!url) {\n                var hex = hash((0, _lib.getPatientName)(this.props.patient));\n                jdenticon.update(\"#img-\" + this.props.patient.id, hex, 0.1);\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _props = this.props,\n                className = _props.className,\n                style = _props.style,\n                patient = _props.patient,\n                base = _props.base,\n                rest = _objectWithoutProperties(_props, [\"className\", \"style\", \"patient\", \"base\"]);\n\n            var url = (0, _lib.getPatientImageUri)(patient, this.props.base);\n            className = \"patient-image-wrap \" + (className || \"\");\n\n            style = _extends({}, style || {});\n\n            if (url) {\n                style.backgroundImage = \"url('\" + url + \"')\";\n                style.backgroundColor = 'rgba(255, 255, 255, 0.6)';\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                _extends({ className: className, style: style }, rest),\n                url ? null : _react2.default.createElement(\"canvas\", {\n                    width: \"480\",\n                    height: \"480\",\n                    style: { width: \"100%\", height: \"100%\" },\n                    id: \"img-\" + patient.id\n                })\n            );\n        }\n    }]);\n\n    return PatientImage;\n}(_react2.default.Component);\n\nPatientImage.propTypes = {\n    patient: _propTypes2.default.object.isRequired,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    base: _propTypes2.default.string\n};\nPatientImage.defaultProps = {\n    base: \"\"\n};\nexports.default = PatientImage;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar CODE_SYSTEMS = exports.CODE_SYSTEMS = {\n    'LOINC': { url: 'http://loinc.org' },\n    'SNOMED-CT': { url: 'http://snomed.info/sct' },\n    'RxNorm': { url: 'http://www.nlm.nih.gov/research/umls/rxnorm' },\n    'CVX': { url: 'http://hl7.org/fhir/sid/cvx' },\n    'NUBC': { url: 'http://www.nubc.org/patient-discharge' },\n    'UMLS': { url: 'http://uts.nlm.nih.gov/metathesaurus' }\n};\n\n/***/ }),\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(17);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _App = __webpack_require__(222);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _reactRedux = __webpack_require__(9);\n\nvar _redux = __webpack_require__(21);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _PatientDetail = __webpack_require__(234);\n\nvar _PatientDetail2 = _interopRequireDefault(_PatientDetail);\n\nvar _PatientList = __webpack_require__(235);\n\nvar _PatientList2 = _interopRequireDefault(_PatientList);\n\nvar _reactRouter = __webpack_require__(39);\n\nvar _createHashHistory = __webpack_require__(256);\n\nvar _createHashHistory2 = _interopRequireDefault(_createHashHistory);\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.$ = window.jQuery = _jquery2.default;\n\nvar history = (0, _createHashHistory2.default)();\n\n_reactDom2.default.render(_react2.default.createElement(\n    _reactRedux.Provider,\n    { store: _redux2.default },\n    _react2.default.createElement(\n        _reactRouter.Router,\n        { history: history },\n        _react2.default.createElement(\n            _reactRouter.Switch,\n            null,\n            _react2.default.createElement(\n                _App2.default,\n                null,\n                _react2.default.createElement(_reactRouter.Route, { path: \"/\", component: _PatientList2.default, exact: true }),\n                _react2.default.createElement(_reactRouter.Route, { path: \"/patient/:index\", component: _PatientDetail2.default })\n            )\n        )\n    )\n), document.getElementById(\"main\"));\n\n$(function () {\n    $(\"body\").tooltip({\n        selector: \".patient-detail-page [title]\"\n    });\n});\n\n/***/ }),\n/* 221 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(327);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AgeSelector = function (_React$Component) {\n    _inherits(AgeSelector, _React$Component);\n\n    function AgeSelector() {\n        var _ref;\n\n        _classCallCheck(this, AgeSelector);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = AgeSelector.__proto__ || Object.getPrototypeOf(AgeSelector)).call.apply(_ref, [this].concat(args)));\n\n        _this.onChangeMinValue = _this.onChangeMinValue.bind(_this);\n        _this.onChangeMinUnits = _this.onChangeMinUnits.bind(_this);\n        _this.onChangeMaxValue = _this.onChangeMaxValue.bind(_this);\n        _this.onChangeMaxUnits = _this.onChangeMaxUnits.bind(_this);\n        _this.onGroupChange = _this.onGroupChange.bind(_this);\n        _this.state = _this._propsToState(_this.props);\n        return _this;\n    }\n\n    _createClass(AgeSelector, [{\n        key: \"_propsToState\",\n        value: function _propsToState(props) {\n            var state = {};\n            if (props.min && _typeof(props.min) == \"object\") {\n                if (props.min.hasOwnProperty(\"value\")) {\n                    state.minValue = isNaN(props.min.value) ? \"\" : props.min.value;\n                }\n                if (props.min.hasOwnProperty(\"units\")) {\n                    state.minUnits = props.min.units;\n                }\n            }\n            if (props.max && _typeof(props.max) == \"object\") {\n                if (props.max.hasOwnProperty(\"value\")) {\n                    state.maxValue = isNaN(props.max.value) ? \"\" : props.max.value;\n                }\n                if (props.max.hasOwnProperty(\"units\")) {\n                    state.maxUnits = props.max.units;\n                }\n            }\n\n            return state;\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(newProps) {\n            var newState = this._propsToState(newProps);\n            if (Object.keys(newState).length) {\n                this.setState(newState);\n            }\n        }\n\n        // Event handlers ----------------------------------------------------------\n\n        /**\n         * When the numeric value of the min-age changes\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMinValue\",\n        value: function onChangeMinValue(e) {\n            if (this.props.onMinChange) {\n                var min = {\n                    value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                    units: this.props.min.units\n                };\n\n                if (this.canSet(min, this.props.max)) {\n                    this.props.onMinChange(min);\n                } else {\n                    this.setState(this._propsToState({ min: min }));\n                }\n            }\n        }\n\n        /**\n         * When the units of the min-age change\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMinUnits\",\n        value: function onChangeMinUnits(e) {\n            if (this.props.onMinChange) {\n                var min = {\n                    value: this.props.min.value,\n                    units: e.target.value\n                };\n                if (this.canSet(min, this.props.max)) {\n                    this.props.onMinChange(min);\n                } else {\n                    this.setState(this._propsToState({ min: min }));\n                }\n            }\n        }\n\n        /**\n         * When the numeric value of the max-age changes\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMaxValue\",\n        value: function onChangeMaxValue(e) {\n            if (this.props.onMaxChange) {\n                var max = {\n                    value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                    units: this.props.max.units\n                };\n                if (this.canSet(this.props.min, max)) {\n                    this.props.onMaxChange(max);\n                } else {\n                    this.setState(this._propsToState({ max: max }));\n                }\n            }\n        }\n\n        /**\n         * When the units of the max-age change\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMaxUnits\",\n        value: function onChangeMaxUnits(e) {\n            if (this.props.onMaxChange) {\n                var max = {\n                    value: this.props.max.value,\n                    units: e.target.value\n                };\n                if (this.canSet(this.props.min, max)) {\n                    this.props.onMaxChange(max);\n                } else {\n                    this.setState(this._propsToState({ max: max }));\n                }\n            }\n        }\n\n        /**\n         * When the selected age group changes\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onGroupChange\",\n        value: function onGroupChange(e) {\n            if (this.props.onGroupChange) {\n                this.props.onGroupChange(e.target.value);\n            }\n        }\n\n        // Validators and helper methods -------------------------------------------\n\n        /**\n         * Given two dates (as value and units) returns true if min is before max.\n         * This is used to validate inputs and prevent the user from entering\n         * invalid ranges\n         * @param {Object} min The min date as { value: number, units: string }\n         * @param {Object} max The max date as { value: number, units: string }\n         * @returns {Boolean}\n         */\n\n    }, {\n        key: \"canSet\",\n        value: function canSet(min, max) {\n            var maxDuration = _moment2.default.duration(max.value, max.units);\n            var minDuration = _moment2.default.duration(min.value, min.units);\n            return minDuration < maxDuration;\n        }\n\n        // Rendering methods -------------------------------------------------------\n\n    }, {\n        key: \"render\",\n        value: function render() {\n            var valid = this.canSet({\n                value: this.state.minValue,\n                units: this.state.minUnits\n            }, {\n                value: this.state.maxValue,\n                units: this.state.maxUnits\n            });\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"age-widget-wrap form-control input-sm\" + (this.props.group == \"**custom**\" ? \" custom\" : \"\") },\n                _react2.default.createElement(\n                    \"select\",\n                    {\n                        onChange: this.onGroupChange,\n                        value: this.props.group || \"\"\n                    },\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"\" },\n                        \"Any Age\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"infant\" },\n                        \"Infants (0 - 12 months, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"child\" },\n                        \"Children (1 - 18 years, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"adult\" },\n                        \"Adults (18 - 65 years, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"elderly\" },\n                        \"Elderly (65+ years, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"**custom**\" },\n                        this.props.group == \"**custom**\" ? \"Custom Age, Alive only:\" : \"Custom Age, Alive only\"\n                    )\n                ),\n                this.props.group == \"**custom**\" ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"age-widget\" + (valid ? \"\" : \" invalid\") },\n                    _react2.default.createElement(\n                        \"span\",\n                        null,\n                        \"Min:\"\n                    ),\n                    _react2.default.createElement(\"input\", {\n                        type: \"number\",\n                        value: this.state.minValue,\n                        onChange: this.onChangeMinValue,\n                        min: 0,\n                        step: 1\n                    }),\n                    _react2.default.createElement(\n                        \"select\",\n                        {\n                            value: this.state.minUnits,\n                            onChange: this.onChangeMinUnits\n                        },\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"years\" },\n                            \"Years\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"months\" },\n                            \"Months\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"days\" },\n                            \"Days\"\n                        )\n                    )\n                ) : null,\n                this.props.group == \"**custom**\" ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"age-widget\" + (valid ? \"\" : \" invalid\") },\n                    _react2.default.createElement(\n                        \"span\",\n                        null,\n                        \"Max:\"\n                    ),\n                    _react2.default.createElement(\"input\", {\n                        type: \"number\",\n                        value: this.state.maxValue,\n                        onChange: this.onChangeMaxValue,\n                        min: 0,\n                        step: 1\n                    }),\n                    _react2.default.createElement(\n                        \"select\",\n                        {\n                            value: this.state.maxUnits,\n                            onChange: this.onChangeMaxUnits\n                        },\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"years\" },\n                            \"Years\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"months\" },\n                            \"Months\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"days\" },\n                            \"Days\"\n                        )\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return AgeSelector;\n}(_react2.default.Component);\n\nAgeSelector.propTypes = {\n    min: _propTypes2.default.shape({\n        value: _propTypes2.default.number,\n        units: _propTypes2.default.oneOf([\"years\", \"months\", \"days\"])\n    }),\n    max: _propTypes2.default.shape({\n        value: _propTypes2.default.number,\n        units: _propTypes2.default.oneOf([\"years\", \"months\", \"days\"])\n    }),\n    group: _propTypes2.default.string,\n    onMinChange: _propTypes2.default.func,\n    onMaxChange: _propTypes2.default.func,\n    onGroupChange: _propTypes2.default.func,\n    update: _propTypes2.default.func\n};\nAgeSelector.defaultProps = {\n    min: {\n        value: 0,\n        units: \"years\"\n    },\n    max: {\n        value: 100,\n        units: \"years\"\n    },\n    group: \"\",\n    update: function update() {\n        return alert(\"No update function provided!\");\n    }\n};\nexports.default = AgeSelector;\n\n/***/ }),\n/* 222 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.App = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _json = __webpack_require__(264);\n\nvar _json2 = _interopRequireDefault(_json);\n\nvar _reactRedux = __webpack_require__(9);\n\nvar _Loader = __webpack_require__(45);\n\nvar _Loader2 = _interopRequireDefault(_Loader);\n\nvar _ErrorMessage = __webpack_require__(44);\n\nvar _ErrorMessage2 = _interopRequireDefault(_ErrorMessage);\n\nvar _query = __webpack_require__(11);\n\nvar _settings = __webpack_require__(23);\n\nvar _lib = __webpack_require__(3);\n\n__webpack_require__(328);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OWNER = window.opener || (window.parent === self ? null : window.parent);\nvar DEFAULT_CONFIG = \"default\";\n\nvar App = exports.App = function (_React$Component) {\n    _inherits(App, _React$Component);\n\n    function App() {\n        var _ref;\n\n        _classCallCheck(this, App);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            error: null\n        };\n        return _this;\n    }\n\n    _createClass(App, [{\n        key: \"handleUiBlocking\",\n        value: function handleUiBlocking() {\n            var runningRequests = 0,\n                hideDelay = void 0;\n\n            var handle = function handle() {\n                if (hideDelay) {\n                    clearTimeout(hideDelay);\n                }\n                if (runningRequests > 0) {\n                    (0, _jquery2.default)(\"#overlay\").show();\n                } else {\n                    hideDelay = setTimeout(function () {\n                        (0, _jquery2.default)(\"#overlay\").hide();\n                    }, 200);\n                }\n            };\n\n            (0, _jquery2.default)(document).ajaxStart(function () {\n                runningRequests++;\n                handle();\n            });\n\n            (0, _jquery2.default)(document).ajaxComplete(function () {\n                runningRequests = Math.max(--runningRequests, 0);\n                handle();\n            });\n        }\n    }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.handleUiBlocking();\n\n            var _parseQueryString = (0, _lib.parseQueryString)(window.location.search),\n                config = _parseQueryString.config,\n                params = _objectWithoutProperties(_parseQueryString, [\"config\"]);\n\n            var settings = {};\n            _jquery2.default.ajax({\n                url: \"./config/\" + (config || DEFAULT_CONFIG) + \".json5\",\n                dataType: \"text\",\n                cache: false\n            }).then(function (json) {\n                json = _json2.default.parse(json);\n                _jquery2.default.ajaxSetup({ timeout: json.timeout || 20000 });\n                settings = _extends({}, json, params);\n            }, function (errorXHR) {\n                console.warn(\"Loading custom config: \" + errorXHR.statusText);\n            }).always(function () {\n                var settingReceived = false;\n\n                var onMessage = function onMessage(e) {\n                    if (e.data.type == 'config' && e.data.data && _typeof(e.data.data) == \"object\") {\n                        settingReceived = true;\n                        _this2.props.dispatch((0, _settings.merge)(e.data.data));\n                        _this2.props.dispatch((0, _query.fetch)());\n                    }\n                };\n\n                _this2.props.dispatch((0, _settings.merge)(settings));\n                _this2.props.dispatch((0, _query.setLimit)(settings.patientsPerPage));\n\n                if (OWNER) {\n\n                    window.addEventListener(\"unload\", function () {\n                        OWNER.postMessage({ type: \"close\" }, \"*\");\n                    });\n\n                    window.addEventListener(\"message\", onMessage);\n\n                    setTimeout(function () {\n                        window.removeEventListener(\"message\", onMessage);\n                        if (!settingReceived) {\n                            _this2.props.dispatch((0, _query.fetch)());\n                        }\n                    }, 1000);\n\n                    OWNER.postMessage({ type: \"ready\" }, \"*\");\n                } else {\n                    _this2.props.dispatch((0, _query.fetch)());\n                }\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            if (this.state.error) {\n                return _react2.default.createElement(_ErrorMessage2.default, { error: this.state.error });\n            }\n            if (!this.props.settings || !this.props.settings.loaded) {\n                return _react2.default.createElement(\n                    \"div\",\n                    { className: \"app\" },\n                    _react2.default.createElement(_Loader2.default, null)\n                );\n            }\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"app\" },\n                this.props.children\n            );\n        }\n    }]);\n\n    return App;\n}(_react2.default.Component);\n\nApp.propTypes = {\n    children: _propTypes2.default.any,\n    settings: _propTypes2.default.object.isRequired,\n    dispatch: _propTypes2.default.func.isRequired\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return _extends({}, state);\n})(App);\n\n/***/ }),\n/* 223 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _lib = __webpack_require__(3);\n\nvar _Period = __webpack_require__(20);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CarePlan = function (_React$Component) {\n    _inherits(CarePlan, _React$Component);\n\n    function CarePlan() {\n        _classCallCheck(this, CarePlan);\n\n        return _possibleConstructorReturn(this, (CarePlan.__proto__ || Object.getPrototypeOf(CarePlan)).apply(this, arguments));\n    }\n\n    _createClass(CarePlan, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"CarePlan\",\n                groupBy: \"Category\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"period.start\");\n                    var dB = (0, _lib.getPath)(b, \"period.start\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Category\",\n                    path: \"category.0.coding.0.display\",\n                    render: function render(rec) {\n                        return _react2.default.createElement(\n                            \"b\",\n                            null,\n                            (0, _lib.getPath)(rec, \"category.0.coding.0.display\")\n                        );\n                    }\n                }, {\n                    label: \"Reason\",\n                    render: function render(rec) {\n                        return (rec.activity || []).map(function (a, i) {\n                            var reason = (0, _lib.getPath)(a, \"detail.code.coding.0.display\") || \"\";\n                            return reason ? _react2.default.createElement(\n                                \"div\",\n                                { key: i },\n                                reason,\n                                _react2.default.createElement(\n                                    \"span\",\n                                    null,\n                                    \" - \"\n                                ),\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"text-muted\" },\n                                    (0, _lib.getPath)(a, \"detail.status\") || \"no data\"\n                                )\n                            ) : \"\";\n                        });\n                    }\n                }, {\n                    label: \"Period\",\n                    render: function render(o) {\n                        return (0, _Period2.default)(o.period);\n                    }\n                }, {\n                    label: \"Status\",\n                    path: \"status\"\n                }]\n            });\n        }\n    }]);\n\n    return CarePlan;\n}(_react2.default.Component);\n\nCarePlan.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = CarePlan;\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _constants = __webpack_require__(47);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Date = __webpack_require__(14);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _lib = __webpack_require__(3);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _InsightsDetailButton = __webpack_require__(30);\n\nvar _InsightsDetailButton2 = _interopRequireDefault(_InsightsDetailButton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ConditionList = function (_React$Component) {\n    _inherits(ConditionList, _React$Component);\n\n    // https://reactjs.org/docs/handling-events.html\n    function ConditionList(props) {\n        _classCallCheck(this, ConditionList);\n\n        var _this = _possibleConstructorReturn(this, (ConditionList.__proto__ || Object.getPrototypeOf(ConditionList)).call(this, props));\n\n        _this.state = { doHighlight: false };\n        _this.toggleHighlight = _this.toggleHighlight.bind(_this);\n        return _this;\n    }\n\n    _createClass(ConditionList, [{\n        key: \"toggleHighlight\",\n        value: function toggleHighlight() {\n            this.setState(function (prevState) {\n                return {\n                    doHighlight: !prevState.doHighlight\n                };\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var recs = this.props.resources || [];\n            var length = recs.length;\n\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (recs || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: length + \" Condition\" + (length === 1 ? \"\" : \"s\"),\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"onsetDateTime\");\n                    var dB = (0, _lib.getPath)(b, \"onsetDateTime\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Condition\",\n                    render: function render(o) {\n                        var name = \"-\";\n                        var code = \"-\";\n                        var system = \"\";\n\n                        var highlight = \"\";\n                        if (_this2.state.doHighlight && (0, _lib.codeIsNLPInsight)(o.code)) {\n                            highlight = \"bg-primary\";\n                        }\n\n                        if (o.code) {\n                            if (o.code.text) {\n                                name = o.code.text;\n                            }\n                            if (Array.isArray(o.code.coding) && o.code.coding.length) {\n                                var c = o.code.coding[0];\n\n                                system = c.system;\n                                for (var key in _constants.CODE_SYSTEMS) {\n                                    if (_constants.CODE_SYSTEMS[key].url === c.system) {\n                                        system = \"(\" + key + \")\";\n                                        break;\n                                    }\n                                }\n\n                                if (c.display) {\n                                    name = c.display;\n                                }\n                                if (c.code) {\n                                    code = c.code;\n                                }\n                            }\n                        }\n                        return _react2.default.createElement(\n                            \"div\",\n                            null,\n                            _react2.default.createElement(\n                                \"b\",\n                                null,\n                                name\n                            ),\n                            _react2.default.createElement(\n                                \"small\",\n                                { className: highlight + \" text-muted pull-right\" },\n                                code,\n                                \" \",\n                                system\n                            )\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        \"Clinical Status\"\n                    ),\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-center\" },\n                            o.clinicalStatus ? (0, _lib.getCodeOrConcept)(o.clinicalStatus) : \"-\"\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        \"Verification Status\"\n                    ),\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-center\" },\n                            o.verificationStatus ? (0, _lib.getCodeOrConcept)(o.verificationStatus) : \"-\"\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        \"Onset Date\"\n                    ),\n                    render: function render(o) {\n                        var onset = o.onsetDateTime || \"\";\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-center\" },\n                            onset ? _react2.default.createElement(_Date2.default, { moment: o.onsetDateTime }) : \"-\"\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        _react2.default.createElement(\n                            \"button\",\n                            {\n                                title: _lib.highlightToggleButtonText,\n                                onMouseUp: this.toggleHighlight,\n                                className: \"text-center\"\n                            },\n                            _react2.default.createElement(\"i\", { className: \"fa fa-lightbulb-o fa-bold\" })\n                        )\n                    ),\n                    render: function render(o) {\n                        if ((0, _lib.getInsightSource)(o) != _lib.InsightSource.NONE) {\n                            return _react2.default.createElement(_InsightsDetailButton2.default, { resource: o, settings: _this2.props.settings });\n                        } else {\n                            return _react2.default.createElement(\"div\", null);\n                        }\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return ConditionList;\n}(_react2.default.Component);\n\nConditionList.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = ConditionList;\n\n/***/ }),\n/* 225 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _lib = __webpack_require__(3);\n\nvar _Period = __webpack_require__(20);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction getEncounterClass(encounter) {\n    return encounter.class && _typeof(encounter.class) == \"object\" ? (0, _lib.getPath)(encounter, \"class.type.0.text\") : encounter.class;\n}\n\nfunction getEncounterLabel(encounter) {\n    var result = (0, _lib.getPath)(encounter, \"type.0.text\");\n    if (result) {\n        return result;\n    }\n    var _class = getEncounterClass(encounter);\n    if (_class) {\n        return _class + \" encounter\";\n    }\n    return \"\";\n}\n\nvar Encounter = function (_React$Component) {\n    _inherits(Encounter, _React$Component);\n\n    function Encounter() {\n        _classCallCheck(this, Encounter);\n\n        return _possibleConstructorReturn(this, (Encounter.__proto__ || Object.getPrototypeOf(Encounter)).apply(this, arguments));\n    }\n\n    _createClass(Encounter, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"Encounter\" + (this.props.resources.length === 1 ? \"\" : \"s\"),\n                groupBy: \"Type\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"period.start\");\n                    var dB = (0, _lib.getPath)(b, \"period.start\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Type\",\n                    path: function path(rec) {\n                        return getEncounterLabel(rec);\n                    },\n                    render: function render(rec) {\n                        var result = (0, _lib.getPath)(rec, \"type.0.text\");\n                        if (result) {\n                            return _react2.default.createElement(\n                                \"b\",\n                                null,\n                                result\n                            );\n                        }\n                        var _class = getEncounterClass(rec);\n                        if (_class) {\n                            return _react2.default.createElement(\n                                \"span\",\n                                { className: \"text-muted\" },\n                                _class + \" encounter\"\n                            );\n                        }\n                        return _react2.default.createElement(\n                            \"small\",\n                            { className: \"text-muted\" },\n                            \"N/A\"\n                        );\n                    }\n                }, {\n                    label: \"Reason\",\n                    path: \"reason.0.coding.0.display\",\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Class\",\n                    render: function render(rec) {\n                        var result = getEncounterClass(rec);\n                        return result ? _react2.default.createElement(\n                            \"b\",\n                            null,\n                            result\n                        ) : _react2.default.createElement(\n                            \"small\",\n                            { className: \"text-muted\" },\n                            \"N/A\"\n                        );\n                    }\n                }, {\n                    label: \"Status\",\n                    path: \"status\",\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Time\",\n                    path: \"period\",\n                    render: function render(o) {\n                        return (0, _Period2.default)(o.period || {});\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return Encounter;\n}(_react2.default.Component);\n\nEncounter.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = Encounter;\n\n/***/ }),\n/* 226 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Date = __webpack_require__(14);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _lib = __webpack_require__(3);\n\nvar _InsightsDetailButton = __webpack_require__(30);\n\nvar _InsightsDetailButton2 = _interopRequireDefault(_InsightsDetailButton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ImmunizationList = function (_React$Component) {\n    _inherits(ImmunizationList, _React$Component);\n\n    // https://reactjs.org/docs/handling-events.html\n    function ImmunizationList(props) {\n        _classCallCheck(this, ImmunizationList);\n\n        var _this = _possibleConstructorReturn(this, (ImmunizationList.__proto__ || Object.getPrototypeOf(ImmunizationList)).call(this, props));\n\n        _this.state = { doHighlight: false };\n        _this.toggleHighlight = _this.toggleHighlight.bind(_this);\n        return _this;\n    }\n\n    _createClass(ImmunizationList, [{\n        key: \"toggleHighlight\",\n        value: function toggleHighlight() {\n            this.setState(function (prevState) {\n                return {\n                    doHighlight: !prevState.doHighlight\n                };\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"Immunizations\",\n                groupBy: \"Type\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"date\");\n                    var dB = (0, _lib.getPath)(b, \"date\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Type\",\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: (0, _lib.codeIsNLPInsight)((0, _lib.getPath)(o, \"vaccineCode\")) ? \"bg-primary\" : \"\" },\n                            (0, _lib.getPath)(o, \"vaccineCode.coding.0.display\")\n                        );\n                    }\n                }, {\n                    label: \"Status\",\n                    render: function render(o) {\n                        return o.status || \"-\";\n                    }\n                }, {\n                    label: \"Date\",\n                    render: function render(o) {\n                        return o.date ? _react2.default.createElement(_Date2.default, { moment: o.date }) : o.occurrenceDateTime ? _react2.default.createElement(_Date2.default, { moment: o.occurrenceDateTime }) : o.occurrenceString || \"-\";\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        _react2.default.createElement(\n                            \"button\",\n                            {\n                                title: _lib.highlightToggleButtonText,\n                                onMouseUp: this.toggleHighlight,\n                                className: \"text-center\"\n                            },\n                            _react2.default.createElement(\"i\", { className: \"fa fa-lightbulb-o fa-bold\" })\n                        )\n                    ),\n                    render: function render(o) {\n                        if ((0, _lib.getInsightSource)(o) != _lib.InsightSource.NONE) {\n                            return _react2.default.createElement(_InsightsDetailButton2.default, { resource: o, settings: _this2.props.settings });\n                        } else {\n                            return _react2.default.createElement(\"div\", null);\n                        }\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return ImmunizationList;\n}(_react2.default.Component);\n\nImmunizationList.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = ImmunizationList;\n\n/***/ }),\n/* 227 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _lib = __webpack_require__(3);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _ValueRange = __webpack_require__(231);\n\nvar _ValueRange2 = _interopRequireDefault(_ValueRange);\n\nvar _Time = __webpack_require__(230);\n\nvar _Time2 = _interopRequireDefault(_Time);\n\nvar _Period = __webpack_require__(20);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nvar _Date = __webpack_require__(14);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Observations = function (_React$Component) {\n    _inherits(Observations, _React$Component);\n\n    function Observations() {\n        _classCallCheck(this, Observations);\n\n        return _possibleConstructorReturn(this, (Observations.__proto__ || Object.getPrototypeOf(Observations)).apply(this, arguments));\n    }\n\n    _createClass(Observations, [{\n        key: \"getObservationLabel\",\n        value: function getObservationLabel(o) {\n            return (0, _lib.getPath)(o, \"code.coding.0.display\") || (0, _lib.getPath)(o, \"code.text\") || (0, _lib.getPath)(o, \"valueQuantity.code\");\n        }\n    }, {\n        key: \"renderObservation\",\n        value: function renderObservation(o) {\n            var _this2 = this;\n\n            var includeLabel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (Array.isArray(o.component)) {\n                return o.component.map(function (c, i) {\n                    var result = _this2.renderObservation(c, true);\n                    return _react2.default.createElement(\n                        \"span\",\n                        { key: i },\n                        i > 0 && _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \",\\xA0\"\n                        ),\n                        result\n                    );\n                });\n            }\n\n            var returnResult = function returnResult(result) {\n                return _react2.default.createElement(\n                    \"span\",\n                    null,\n                    includeLabel && _react2.default.createElement(\n                        \"label\",\n                        { className: \"text-muted\" },\n                        _this2.getObservationLabel(o).replace(/^\\s*(Systolic|Diastolic)\\s+blood\\s+pressure\\s*$/gi, \"$1\"),\n                        \":\\xA0\"\n                    ),\n                    result\n                );\n            };\n\n            // valueBoolean\n            if (o.hasOwnProperty(\"valueBoolean\")) {\n                return returnResult(!o.valueBoolean || o.valueBoolean == \"false\" ? \"Negative\" : \"Positive\");\n            }\n\n            // valueString\n            if (o.hasOwnProperty(\"valueString\")) {\n                return returnResult(String(o.valueString));\n            }\n\n            // valueRange\n            if (o.hasOwnProperty(\"valueRange\")) {\n                return returnResult(_react2.default.createElement(_ValueRange2.default, { range: o.valueRange }));\n            }\n\n            // valueTime\n            if (o.hasOwnProperty(\"valueTime\")) {\n                return returnResult(_react2.default.createElement(_Time2.default, { moment: o.valueTime }));\n            }\n\n            // valueDateTime\n            if (o.hasOwnProperty(\"valueDateTime\")) {\n                return returnResult(_react2.default.createElement(_Date2.default, { moment: o.valueDateTime }));\n            }\n\n            // valuePeriod\n            if (o.hasOwnProperty(\"valuePeriod\")) {\n                return returnResult((0, _Period2.default)(o.valuePeriod));\n            }\n\n            // valueCodeableConcept\n            if (o.hasOwnProperty(\"valueCodeableConcept\")) {\n                return returnResult((0, _lib.getPath)(o, \"valueCodeableConcept.coding.0.display\"));\n            }\n\n            // valueQuantity\n            if (o.hasOwnProperty(\"valueQuantity\")) {\n                var value = (0, _lib.getPath)(o, \"valueQuantity.value\");\n                var units = (0, _lib.getPath)(o, \"valueQuantity.unit\");\n\n                if (!isNaN(parseFloat(value))) {\n                    value = Math.round(value * 100) / 100;\n                }\n\n                return returnResult(_react2.default.createElement(\n                    \"span\",\n                    null,\n                    value,\n                    \" \",\n                    _react2.default.createElement(\n                        \"span\",\n                        { className: \"text-muted\" },\n                        units\n                    )\n                ));\n            }\n\n            /* TODO:\n            valueRatio      : Ratio\n            valueSampledData: SampledData\n            valueAttachment : Attachment\n            */\n\n            return returnResult(_react2.default.createElement(\n                \"span\",\n                { className: \"text-muted\" },\n                \"N/A\"\n            ));\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"Observations\",\n                groupBy: \"Name\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"effectiveDateTime\") || (0, _lib.getPath)(a, \"meta.lastUpdated\");\n                    var dB = (0, _lib.getPath)(b, \"effectiveDateTime\") || (0, _lib.getPath)(b, \"meta.lastUpdated\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Name\",\n                    path: function path(o) {\n                        return _this3.getObservationLabel(o);\n                    },\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"b\",\n                            null,\n                            _this3.getObservationLabel(o)\n                        );\n                    }\n                }, {\n                    label: \"Value\",\n                    render: function render(o) {\n                        return _this3.renderObservation(o);\n                    }\n                }, {\n                    label: \"Date\",\n                    render: function render(o) {\n                        var date = (0, _lib.getPath)(o, \"effectiveDateTime\") || (0, _lib.getPath)(o, \"meta.lastUpdated\");\n                        if (date) date = (0, _moment2.default)(date).format(\"MM/DD/YYYY\");\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-muted\" },\n                            date || \"-\"\n                        );\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return Observations;\n}(_react2.default.Component);\n\nObservations.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = Observations;\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Date = __webpack_require__(14);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _lib = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Person = function (_React$Component) {\n    _inherits(Person, _React$Component);\n\n    function Person() {\n        _classCallCheck(this, Person);\n\n        return _possibleConstructorReturn(this, (Person.__proto__ || Object.getPrototypeOf(Person)).apply(this, arguments));\n    }\n\n    _createClass(Person, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: this.props.title,\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"birthDate\");\n                    var dB = (0, _lib.getPath)(b, \"birthDate\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Identifier\",\n                    render: function render(rec) {\n                        var rows = [_react2.default.createElement(\n                            \"tr\",\n                            { key: \"id\" },\n                            _react2.default.createElement(\n                                \"td\",\n                                { className: \"label-cell\" },\n                                \"ID\"\n                            ),\n                            _react2.default.createElement(\n                                \"td\",\n                                null,\n                                rec.id\n                            )\n                        )];\n\n                        if (Array.isArray(rec.identifier)) {\n                            rows = rows.concat(rec.identifier.map(function (o) {\n                                var code = (0, _lib.getPath)(o, \"type.coding.0.display\") || (0, _lib.getPath)(o, \"type.text\") || (0, _lib.getPath)(o, \"type.coding.0.code\") || String((0, _lib.getPath)(o, \"system\") || \"\").split(/\\b/).pop();\n                                if (!code) return null;\n                                return _react2.default.createElement(\n                                    \"tr\",\n                                    { key: code },\n                                    _react2.default.createElement(\n                                        \"td\",\n                                        { className: \"label-cell\" },\n                                        code\n                                    ),\n                                    _react2.default.createElement(\n                                        \"td\",\n                                        null,\n                                        o.value\n                                    )\n                                );\n                            }).filter(Boolean));\n                        }\n\n                        return _react2.default.createElement(\n                            \"table\",\n                            null,\n                            _react2.default.createElement(\n                                \"tbody\",\n                                null,\n                                rows\n                            )\n                        );\n                    }\n                }, {\n                    label: \"Name\",\n                    render: _lib.getPatientName,\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Gender\",\n                    path: \"gender\",\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Birth Date\",\n                    path: \"birthDate\",\n                    defaultValue: \"N/A\",\n                    render: function render(o) {\n                        return _react2.default.createElement(_Date2.default, { moment: o.birthDate });\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return Person;\n}(_react2.default.Component);\n\nPerson.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    title: _propTypes2.default.string\n};\nPerson.defaultProps = {\n    title: \"Person\"\n};\nexports.default = Person;\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Grid = __webpack_require__(10);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _lib = __webpack_require__(3);\n\nvar _Period = __webpack_require__(20);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nvar _Date = __webpack_require__(14);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _InsightsDetailButton = __webpack_require__(30);\n\nvar _InsightsDetailButton2 = _interopRequireDefault(_InsightsDetailButton);\n\nvar _events = __webpack_require__(253);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction renderCell(record, doHighlight, allOf, oneOf) {\n\n    var entries = [];\n\n    var visit = function visit(meta) {\n        var propValue = (0, _lib.getPath)(record, meta.path);\n        if (propValue !== undefined) {\n            var value = meta.render ? meta.render(record) : propValue;\n            var isNLP = doHighlight && Boolean(meta.nlpCodePath) && (0, _lib.codeIsNLPInsight)((0, _lib.getPath)(record, meta.nlpCodePath));\n            var raw = meta.raw ? meta.raw(record) : value;\n            var label = typeof meta.label == \"function\" ? meta.label(record) : meta.label;\n            var existing = entries.find(function (o) {\n                return o.value === raw;\n            });\n            if (existing) {\n                existing.label += \", \" + label;\n                if (isNLP) {\n                    existing.isNLP = true;\n                }\n            } else {\n                entries.push({ label: label, value: value, isNLP: isNLP });\n            }\n            return true;\n        }\n        return false;\n    };\n\n    allOf.forEach(visit);\n\n    if (!entries.length) {\n        oneOf.some(visit);\n    }\n\n    if (entries.length) {\n        return _react2.default.createElement(\n            \"table\",\n            null,\n            _react2.default.createElement(\n                \"tbody\",\n                null,\n                entries.map(function (o, i) {\n                    return _react2.default.createElement(\n                        \"tr\",\n                        { key: i, className: o.isNLP ? \"bg-primary\" : \"\" },\n                        _react2.default.createElement(\n                            \"td\",\n                            { className: \"label-cell\", style: o.isNLP ? { color: \"white\" } : null },\n                            o.label\n                        ),\n                        _react2.default.createElement(\n                            \"td\",\n                            null,\n                            o.value\n                        )\n                    );\n                })\n            )\n        );\n    }\n\n    return \"-\";\n}\n\nfunction getSortValue(rec) {\n    var paths = [\"authoredOn\", \"dateWritten\", \"performedDateTime\", \"recorded\", \"performedPeriod.start\", \"availableTime.0.availableStartTime\", \"whenHandedOver\", \"issued\", \"effectiveDateTime\", \"assertedDate\", \"meta.lastUpdated\"];\n\n    for (var i = 0, l = paths.length; i < l; i++) {\n        var v = (0, _lib.getPath)(rec, paths[i]);\n        if (v !== undefined) {\n            return v;\n        }\n    }\n\n    return 0;\n}\n\nfunction DataLink(_ref) {\n    var settings = _ref.settings,\n        path = _ref.path,\n        children = _ref.children;\n\n    var url = settings.server.url + \"/\" + path;\n    if (settings.fhirViewer.enabled) {\n        url = settings.fhirViewer.url + (settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + settings.fhirViewer.param + \"=\" + encodeURIComponent(url);\n    }\n    return _react2.default.createElement(\n        \"a\",\n        { onClick: function onClick() {\n                window.open(url, \"_blank\");\n                return false;\n            } },\n        children\n    );\n}\n\nDataLink.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    path: _propTypes2.default.string.isRequired,\n    children: _propTypes2.default.any\n};\n\nvar ResourceList = function (_React$Component) {\n    _inherits(ResourceList, _React$Component);\n\n    // https://reactjs.org/docs/handling-events.html\n    function ResourceList(props) {\n        _classCallCheck(this, ResourceList);\n\n        var _this = _possibleConstructorReturn(this, (ResourceList.__proto__ || Object.getPrototypeOf(ResourceList)).call(this, props));\n\n        _this.state = { doHighlight: false };\n        _this.toggleHighlight = _this.toggleHighlight.bind(_this);\n        return _this;\n    }\n\n    _createClass(ResourceList, [{\n        key: \"toggleHighlight\",\n        value: function toggleHighlight() {\n            this.setState(function (prevState) {\n                return {\n                    doHighlight: !prevState.doHighlight\n                };\n            });\n        }\n\n        /**\n         * The idea is to have 3 columns by default:\n         * 1. Identifier - something like a name, type, id etc.\n         * 2. Details - the important part that will describe the resource\n         * 3. Timing - time period, time, age etc.\n         * @returns {Array} The generated schema\n         */\n\n    }, {\n        key: \"determineSchema\",\n        value: function determineSchema(sampleResource) {\n            var _this2 = this;\n\n            var out = [];\n\n            if (!sampleResource) {\n                return out;\n            }\n\n            // 1. Identifier -------------------------------------------------------\n            out.push({\n                label: \"Identifier\",\n                render: function render(o) {\n                    return renderCell(o, _this2.state.doHighlight, [{\n                        path: \"id\",\n                        label: \"ID\",\n                        ellipsis: 15\n                    }, {\n                        path: \"name\",\n                        label: \"Name\"\n                    }, {\n                        path: \"identifier.0.type.coding.0.code\",\n                        label: \"Identifiers\",\n                        render: function render(rec) {\n                            if (Array.isArray(rec.identifier)) {\n                                return rec.identifier.map(function (id) {\n                                    var code = (0, _lib.getPath)(id, \"type.coding.0.code\");\n                                    if (!code) return null;\n                                    return code + \": \" + id.value;\n                                }).filter(Boolean).join(\", \");\n                            }\n                            return \"-\";\n                        }\n                    }]);\n                }\n            });\n\n            // 2. Details ----------------------------------------------------------\n            out.push({\n                label: \"Details\",\n                render: function render(o) {\n                    return renderCell(o, _this2.state.doHighlight, [{\n                        path: \"description.text\",\n                        label: \"Description\"\n                    }, {\n                        path: \"code.text\",\n                        label: \"Code\"\n                    }, {\n                        path: \"code.coding.0.display\",\n                        nlpCodePath: \"code\",\n                        label: \"Display\"\n                    }, {\n                        path: \"medicationCodeableConcept.coding.0.display\",\n                        nlpCodePath: \"medicationCodeableConcept\",\n                        label: \"Medication\"\n                    }, {\n                        path: \"medicationCodeableConcept.coding.0.code\",\n                        nlpCodePath: \"medicationCodeableConcept\",\n                        label: function label(rec) {\n                            return ((0, _lib.getPath)(rec, \"medicationCodeableConcept.coding.0.system\") || \"\").split(/\\b/).pop();\n                        }\n                    }, {\n                        path: \"code.coding.0.code\",\n                        nlpCodePath: \"code\",\n                        label: function label(rec) {\n                            return ((0, _lib.getPath)(rec, \"code.coding.0.system\") || \"\").replace(/\\/$/, \"\").split(/\\//).pop() + \" code\";\n                        }\n                    }, {\n                        path: \"result.0.display\",\n                        label: \"Result\",\n                        render: function render(rec) {\n                            return rec.result.map(function (r) {\n                                return r.display || 0;\n                            }).filter(Boolean).join(\", \");\n                        }\n                    }, {\n                        label: \"Status\",\n                        render: function render(rec) {\n                            return (0, _lib.getCodeOrConcept)(rec.status);\n                        }\n                    }, {\n                        label: \"Clinical Status\",\n                        render: function render(rec) {\n                            return (0, _lib.getCodeOrConcept)(rec.clinicalStatus);\n                        }\n                    }, {\n                        label: \"Verification Status\",\n                        render: function render(rec) {\n                            return (0, _lib.getCodeOrConcept)(rec.verificationStatus);\n                        }\n                    }, {\n                        label: \"Value as String\",\n                        path: \"valueString\"\n                    }, {\n                        label: \"Comment\",\n                        path: \"comment\"\n                    }, {\n                        label: \"Extra Details\",\n                        path: \"extraDetails\"\n                    }, {\n                        label: \"Type\",\n                        path: \"type\",\n                        render: function render(rec) {\n                            if (Array.isArray(rec.type)) {\n                                return rec.type.map(function (t) {\n                                    return t.text || (0, _lib.getPath)(t, \"coding.0.display\") || \"\";\n                                }).filter(Boolean).join(\", \");\n                            }\n                            return String((0, _lib.getPath)(rec, \"type.coding.0.display\") || (0, _lib.getPath)(rec, \"type.text\") || rec.type);\n                        }\n                    }, {\n                        label: \"Criticality\",\n                        path: \"criticality\"\n                    }, {\n                        label: \"Category\",\n                        path: \"category\",\n                        render: function render(rec) {\n                            function renderCategory(c) {\n                                if (!c) {\n                                    return \"N/A\";\n                                }\n\n                                if (typeof c == \"string\") {\n                                    return c;\n                                }\n\n                                if (Array.isArray(c)) {\n                                    return c.map(renderCategory).join(\", \");\n                                }\n\n                                if ((typeof c === \"undefined\" ? \"undefined\" : _typeof(c)) != \"object\") {\n                                    return \"N/A\";\n                                }\n\n                                return c.text || c.display || c.code || renderCategory(c.coding);\n                            }\n\n                            return renderCategory(rec.category);\n                        }\n                    }, {\n                        label: \"Quantity\",\n                        path: \"quantity.value\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\n                                \"span\",\n                                null,\n                                rec.quantity.value,\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"text-muted\" },\n                                    \" \",\n                                    rec.quantity.unit || rec.quantity.units || \"\"\n                                )\n                            );\n                        }\n                    }, {\n                        label: \"Days Supply\",\n                        path: \"daysSupply.value\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\n                                \"span\",\n                                null,\n                                rec.daysSupply.value,\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"text-muted\" },\n                                    \"\\xA0\",\n                                    rec.daysSupply.unit || rec.daysSupply.units || \"\"\n                                )\n                            );\n                        }\n                    }, {\n                        label: \"Medication\",\n                        path: \"medicationReference.reference\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\n                                DataLink,\n                                {\n                                    settings: _this2.props.settings,\n                                    path: rec.medicationReference.reference\n                                },\n                                rec.medicationReference.reference\n                            );\n                        }\n                    }], [{\n                        path: \"text.div\",\n                        label: \"Text\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\"span\", { dangerouslySetInnerHTML: { __html: rec.text.div } });\n                        }\n                    }]);\n                }\n            });\n\n            // 3. Timings ----------------------------------------------------------\n            out.push({\n                label: \"Date\",\n                render: function render(o) {\n                    return renderCell(o, [{\n                        path: \"authoredOn\",\n                        label: \"Authored On\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.authoredOn });\n                        }\n                    }, {\n                        path: \"dateWritten\",\n                        label: \"Date Written\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.dateWritten });\n                        }\n                    }, {\n                        path: \"performedDateTime\",\n                        label: \"Performed At\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.performedDateTime });\n                        }\n                    }, {\n                        path: \"recorded\",\n                        label: \"Recorded\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.recorded });\n                        }\n                    }, {\n                        path: \"performedPeriod\",\n                        label: \"Performed\",\n                        render: function render(rec) {\n                            return (0, _Period2.default)(rec.performedPeriod);\n                        }\n                    }, {\n                        path: \"availableTime\",\n                        label: \"Available Time\",\n                        render: function render(rec) {\n                            if (Array.isArray(rec.availableTime)) {\n                                return rec.availableTime.map(function (t, i) {\n                                    return _react2.default.createElement(\n                                        \"div\",\n                                        { key: i },\n                                        t.availableStartTime && _react2.default.createElement(\n                                            \"span\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"label\",\n                                                null,\n                                                \"from:\\xA0\"\n                                            ),\n                                            _react2.default.createElement(\n                                                \"span\",\n                                                null,\n                                                t.availableStartTime,\n                                                \"\\xA0\"\n                                            )\n                                        ),\n                                        t.availableEndTime && _react2.default.createElement(\n                                            \"span\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"label\",\n                                                null,\n                                                \"to:\\xA0\"\n                                            ),\n                                            _react2.default.createElement(\n                                                \"span\",\n                                                null,\n                                                t.availableEndTime\n                                            )\n                                        )\n                                    );\n                                });\n                            }\n                        }\n                    }, {\n                        path: \"whenHandedOver\",\n                        label: \"Handed Over\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.whenHandedOver });\n                        }\n                    }, {\n                        path: \"issued\",\n                        label: \"Issued\",\n                        raw: function raw(rec) {\n                            return (0, _moment2.default)(rec.issued).format(\"MM/DD/YYYY\");\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.issued });\n                        }\n                    }, {\n                        path: \"effectiveDateTime\",\n                        label: \"Effective\",\n                        raw: function raw(rec) {\n                            return (0, _moment2.default)(rec.effectiveDateTime).format(\"MM/DD/YYYY\");\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.effectiveDateTime });\n                        }\n                    }, {\n                        path: \"assertedDate\",\n                        label: \"Asserted\",\n                        raw: function raw(rec) {\n                            return rec.assertedDate;\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.assertedDate });\n                        }\n                    }], [{\n                        path: \"meta.lastUpdated\",\n                        label: \"Last Updated\",\n                        raw: function raw(rec) {\n                            return rec.meta.lastUpdated;\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.meta.lastUpdated });\n                        }\n                    }]);\n                }\n            });\n\n            // 4. Insights ---------------------------------------------------------\n            out.push({\n                label: _react2.default.createElement(\n                    \"div\",\n                    { className: \"text-center\" },\n                    _react2.default.createElement(\n                        \"button\",\n                        {\n                            title: _lib.highlightToggleButtonText,\n                            onMouseUp: this.toggleHighlight,\n                            className: \"text-center\"\n                        },\n                        _react2.default.createElement(\"i\", { className: \"fa fa-lightbulb-o fa-bold\" })\n                    )\n                ),\n                render: function render(o) {\n                    if ((0, _lib.getInsightSource)(o) != _lib.InsightSource.NONE) {\n                        return _react2.default.createElement(_InsightsDetailButton2.default, { resource: o, settings: _this2.props.settings });\n                    } else {\n                        return _react2.default.createElement(\"div\", null);\n                    }\n                }\n            });\n\n            return out;\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var recs = this.props.resources || [];\n            var length = recs.length;\n            return _react2.default.createElement(_Grid2.default, {\n                rows: recs.map(function (o) {\n                    return o.resource;\n                }),\n                title: length + \" resource\" + (length === 1 ? \"\" : \"s\") + \" of type \" + this.props.type,\n                cols: this.determineSchema(recs[0].resource),\n                comparator: function comparator(a, b) {\n                    var dA = getSortValue(a);\n                    var dB = getSortValue(b);\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                }\n            });\n        }\n    }]);\n\n    return ResourceList;\n}(_react2.default.Component);\n\nResourceList.propTypes = {\n    type: _propTypes2.default.string,\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    settings: _propTypes2.default.object.isRequired\n};\nexports.default = ResourceList;\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Time;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction Time(_ref) {\n    var moment = _ref.moment,\n        _ref$format = _ref.format,\n        format = _ref$format === undefined ? \"HH:mm\" : _ref$format,\n        rest = _objectWithoutProperties(_ref, [\"moment\", \"format\"]);\n\n    return _react2.default.createElement(\n        \"span\",\n        rest,\n        (0, _moment2.default)(moment).format(format)\n    );\n}\n\nTime.propTypes = {\n    format: _propTypes2.default.string,\n    moment: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.instanceOf(Date), _propTypes2.default.object // moment\n    ]).isRequired\n};\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = ValueRange;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ValueRange(_ref) {\n    var range = _ref.range;\n\n    var low = range.low;\n    var high = range.high;\n    return _react2.default.createElement(\n        \"span\",\n        null,\n        low !== undefined && _react2.default.createElement(\n            \"span\",\n            null,\n            _react2.default.createElement(\n                \"span\",\n                { className: \"text-muted\" },\n                \"low: \"\n            ),\n            _react2.default.createElement(\n                \"span\",\n                null,\n                low\n            )\n        ),\n        high !== undefined && _react2.default.createElement(\n            \"span\",\n            null,\n            low !== undefined && _react2.default.createElement(\n                \"span\",\n                null,\n                \"\\xA0\"\n            ),\n            _react2.default.createElement(\n                \"span\",\n                { className: \"text-muted\" },\n                \"high: \"\n            ),\n            _react2.default.createElement(\n                \"span\",\n                null,\n                high\n            )\n        ),\n        high === undefined && low === undefined && _react2.default.createElement(\n            \"small\",\n            { className: \"text-muted\" },\n            \"N/A\"\n        )\n    );\n}\n\nValueRange.propTypes = {\n    range: _propTypes2.default.object.isRequired\n};\n\n/***/ }),\n/* 232 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _query = __webpack_require__(11);\n\nvar _lib = __webpack_require__(3);\n\nvar _DialogFooter = __webpack_require__(43);\n\nvar _DialogFooter2 = _interopRequireDefault(_DialogFooter);\n\n__webpack_require__(330);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Footer = function (_React$Component) {\n    _inherits(Footer, _React$Component);\n\n    function Footer() {\n        _classCallCheck(this, Footer);\n\n        return _possibleConstructorReturn(this, (Footer.__proto__ || Object.getPrototypeOf(Footer)).apply(this, arguments));\n    }\n\n    _createClass(Footer, [{\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var msg = this.props.query.error ? \" Error! \" : \" Loading... \";\n            var bundle = this.props.bundle;\n            var hasPrev = bundle && (0, _lib.getBundleURL)(bundle, \"previous\");\n            var hasNext = bundle && (0, _lib.getBundleURL)(bundle, \"next\");\n\n            if (bundle && !this.props.query.error) {\n                if (this.props.query.params._id) {\n                    msg = \"Showing the selected patients only\";\n                } else {\n                    var len = bundle && bundle.entry ? bundle.entry.length : 0;\n                    if (len) {\n                        var startRec = +(this.props.query.offset || 0) + 1;\n                        var endRec = startRec + len - 1;\n\n                        msg = \" patient \" + startRec + \" to \" + endRec + \" \";\n\n                        if (\"total\" in bundle) {\n                            msg += \" of \" + bundle.total + \" \";\n                        }\n                    } else {\n                        msg = \" No Records! \";\n                    }\n                }\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"app-footer\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"container-fluid\", style: { width: \"100%\" } },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"row\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-3 col-sm-4 text-right\" },\n                            _react2.default.createElement(\n                                \"a\",\n                                {\n                                    href: \"#prev\",\n                                    onClick: function onClick(e) {\n                                        e.preventDefault();_this2.props.dispatch((0, _query.goPrev)());\n                                    },\n                                    disabled: !hasPrev\n                                },\n                                _react2.default.createElement(\"i\", { className: \"fa fa-arrow-left\" }),\n                                \" Prev\"\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-6 col-sm-4 text-center\" },\n                            msg\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-3 col-sm-4 text-left\" },\n                            _react2.default.createElement(\n                                \"a\",\n                                {\n                                    href: \"#next\",\n                                    onClick: function onClick(e) {\n                                        e.preventDefault();_this2.props.dispatch((0, _query.goNext)());\n                                    },\n                                    disabled: !hasNext\n                                },\n                                \"Next \",\n                                _react2.default.createElement(\"i\", { className: \"fa fa-arrow-right\" })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(_DialogFooter2.default, { canShowSelected: this.props.canShowSelected })\n                )\n            );\n        }\n    }]);\n\n    return Footer;\n}(_react2.default.Component);\n\nFooter.propTypes = {\n    bundle: _propTypes2.default.object,\n    query: _propTypes2.default.object.isRequired,\n    dispatch: _propTypes2.default.func.isRequired,\n    selection: _propTypes2.default.object.isRequired,\n    canShowSelected: _propTypes2.default.bool\n};\nexports.default = Footer;\n\n/***/ }),\n/* 233 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(331);\n\nvar _query2 = __webpack_require__(11);\n\nvar _redux = __webpack_require__(21);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _TagSelector = __webpack_require__(238);\n\nvar _TagSelector2 = _interopRequireDefault(_TagSelector);\n\nvar _AgeSelector = __webpack_require__(221);\n\nvar _AgeSelector2 = _interopRequireDefault(_AgeSelector);\n\nvar _SortWidget = __webpack_require__(237);\n\nvar _SortWidget2 = _interopRequireDefault(_SortWidget);\n\nvar _lib = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_React$Component) {\n    _inherits(Header, _React$Component);\n\n    function Header() {\n        _classCallCheck(this, Header);\n\n        return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n    }\n\n    _createClass(Header, [{\n        key: \"fetch\",\n        value: function fetch() {\n            var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n\n            if (this.props.settings.submitStrategy == \"automatic\") {\n                if (this.fetchDelay) {\n                    clearTimeout(this.fetchDelay);\n                }\n                this.fetchDelay = setTimeout(function () {\n                    _redux2.default.dispatch((0, _query2.fetch)());\n                }, delay);\n            }\n            // else {\n            //     store.dispatch(fetch())\n            // }\n        }\n    }, {\n        key: \"renderAdvancedTabContents\",\n        value: function renderAdvancedTabContents() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"form-group\" },\n                _react2.default.createElement(\n                    \"p\",\n                    { className: \"text-warning\", style: { padding: \"0 5px 5px\", margin: 0 } },\n                    _react2.default.createElement(\"i\", { className: \"fa fa-info-circle\" }),\n                    \" In advanced mode, provide a query string to browse and select from a list of matching patients. \",\n                    _react2.default.createElement(\n                        \"a\",\n                        { target: \"_blank\", href: \"http://hl7.org/fhir/patient.html#search\" },\n                        \"More Info...\"\n                    )\n                ),\n                _react2.default.createElement(\n                    \"form\",\n                    { onSubmit: function onSubmit(e) {\n                            e.preventDefault();\n                            _redux2.default.dispatch((0, _query2.fetch)());\n                        } },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"input-group input-group-sm\" },\n                        _react2.default.createElement(\n                            \"span\",\n                            { className: \"input-group-addon\" },\n                            \"/Patient?\"\n                        ),\n                        _react2.default.createElement(\"input\", {\n                            type: \"text\",\n                            className: \"form-control\",\n                            placeholder: \"Patient Search Query String\",\n                            name: \"query\",\n                            onChange: function onChange(e) {\n                                return _redux2.default.dispatch((0, _query2.setQueryString)(e.target.value));\n                            },\n                            value: this.props.query.queryString\n                        }),\n                        _react2.default.createElement(\n                            \"span\",\n                            { className: \"input-group-btn\" },\n                            _react2.default.createElement(\n                                \"button\",\n                                { className: \"btn btn-warning\", type: \"submit\" },\n                                \"Go\"\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderDemographicsTabContents\",\n        value: function renderDemographicsTabContents() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\n                \"form\",\n                { onSubmit: function onSubmit(e) {\n                        e.preventDefault();\n                        _redux2.default.dispatch((0, _query2.fetch)());\n                    } },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"**custom**\" === this.props.query.ageGroup ? \"col-sm-6\" : \"col-sm-12\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"form-group\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"input-group\" },\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"input-group-addon\" },\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        null,\n                                        \"Name:\"\n                                    )\n                                ),\n                                _react2.default.createElement(\"input\", {\n                                    type: \"text\",\n                                    className: \"form-control input-sm\",\n                                    placeholder: \"Search by name...\",\n                                    value: this.props.query.params.name || \"\",\n                                    onChange: function onChange(e) {\n                                        _redux2.default.dispatch((0, _query2.setParam)({\n                                            name: \"name\",\n                                            value: e.target.value\n                                        }));\n                                        _this2.fetch();\n                                    }\n                                })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-sm-6\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"form-group\" },\n                            _react2.default.createElement(\n                                \"select\",\n                                {\n                                    className: \"form-control input-sm\",\n                                    onChange: function onChange(e) {\n                                        _redux2.default.dispatch((0, _query2.setGender)(e.target.value));\n                                        _this2.fetch();\n                                    },\n                                    value: this.props.query.gender || \"\"\n                                },\n                                _react2.default.createElement(\n                                    \"option\",\n                                    { value: \"male\" },\n                                    \"Males\"\n                                ),\n                                _react2.default.createElement(\n                                    \"option\",\n                                    { value: \"female\" },\n                                    \"Females\"\n                                ),\n                                _react2.default.createElement(\n                                    \"option\",\n                                    { value: \"\" },\n                                    \"Any Gender\"\n                                )\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"**custom**\" === this.props.query.ageGroup ? \"col-sm-12\" : \"col-sm-6\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"form-group\" },\n                            _react2.default.createElement(_AgeSelector2.default, {\n                                min: this.props.query.minAge || { value: 0, units: \"years\" },\n                                max: this.props.query.maxAge || { value: 100, units: \"years\" },\n                                onMinChange: function onMinChange(age) {\n                                    _redux2.default.dispatch((0, _query2.setMinAge)(age));\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    _this2.fetch();\n                                    //}\n                                },\n                                onMaxChange: function onMaxChange(age) {\n                                    _redux2.default.dispatch((0, _query2.setMaxAge)(age));\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    _this2.fetch();\n                                    //}\n                                },\n                                onGroupChange: function onGroupChange(group) {\n                                    _redux2.default.dispatch((0, _query2.setAgeGroup)(group));\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    _this2.fetch();\n                                    //}\n                                }\n                                //update={ () => this.fetch() }\n                                , group: this.props.query.ageGroup\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderConditionsTabContents\",\n        value: function renderConditionsTabContents() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"row\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"col-sm-12\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"form-group\" },\n                        _react2.default.createElement(_TagSelector2.default, {\n                            tags: Object.keys(this.props.settings.server.conditions).map(function (key) {\n                                var condition = _this3.props.settings.server.conditions[key];\n                                return {\n                                    key: key,\n                                    label: condition.description,\n                                    data: condition\n                                };\n                            }),\n                            onChange: function onChange(selection) {\n                                var conditions = {};\n                                selection.forEach(function (tag) {\n                                    conditions[tag.key] = tag.data;\n                                });\n                                _redux2.default.dispatch((0, _query2.setConditions)(conditions));\n                                _this3.fetch();\n                            },\n                            label: \"condition code\",\n                            selected: Object.keys(this.props.query.conditions)\n                        })\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderTagsTabContents\",\n        value: function renderTagsTabContents() {\n            var _this4 = this;\n\n            var selected = this.props.query.tags || this.props.settings.server.tags.filter(function (tag) {\n                return !!tag.selected;\n            }).map(function (tag) {\n                return !!tag.key;\n            });\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"row\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"col-sm-12\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"form-group\" },\n                        _react2.default.createElement(_TagSelector2.default, {\n                            tags: this.props.settings.server.tags,\n                            selected: selected,\n                            onChange: function onChange(sel) {\n                                var tags = Object.keys(sel).map(function (k) {\n                                    return sel[k].key;\n                                });\n                                _redux2.default.dispatch((0, _query2.setTags)(tags));\n                                _this4.fetch();\n                            },\n                            label: \"tag\"\n                        })\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _query = (0, _lib.parseQueryString)(this.props.location.search);\n            var _advanced = this.props.query.queryType == \"advanced\";\n            var conditionsCount = Object.keys(this.props.query.conditions).length;\n            var demographicsCount = 0;\n            var tagsCount = Object.keys(this.props.query.tags).length;\n\n            // Compute which the active tab should be\n            var tabs = [\"demographics\", \"conditions\"];\n            if (!this.props.settings.hideTagSelector) {\n                tabs.push(\"tags\");\n            }\n            var _tab = _query._tab || \"\";\n            if (tabs.indexOf(_tab) == -1) {\n                _tab = \"demographics\";\n            }\n\n            // Manually increment the value for the demographics badge depending on\n            // the state of the app\n\n            if (this.props.query.gender) {\n                demographicsCount += 1;\n            }\n\n            if (this.props.query.params.name) {\n                demographicsCount += 1;\n            }\n\n            if (this.props.query.maxAge !== null || this.props.query.minAge !== null) {\n                demographicsCount += 1;\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"app-header\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { style: { flexDirection: \"row\" } },\n                    _react2.default.createElement(\n                        \"label\",\n                        { className: \"pull-right advanced-label text-warning\" },\n                        \"Advanced \",\n                        _react2.default.createElement(\n                            \"span\",\n                            { className: \"hidden-xs\" },\n                            \"Mode \"\n                        ),\n                        \" \",\n                        _react2.default.createElement(\"input\", {\n                            type: \"checkbox\",\n                            checked: _advanced,\n                            onChange: function onChange(e) {\n                                _redux2.default.dispatch((0, _query2.setQueryType)(e.target.checked ? \"advanced\" : \"basic\"));\n                            }\n                        })\n                    ),\n                    _advanced ? _react2.default.createElement(\"ul\", { className: \"nav nav-tabs\" }) : _react2.default.createElement(\n                        \"ul\",\n                        { className: \"nav nav-tabs\" },\n                        _react2.default.createElement(\n                            \"li\",\n                            { className: !_advanced && _tab == \"demographics\" ? \"active\" : null },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"\", onClick: function onClick(e) {\n                                        e.preventDefault();(0, _lib.setHashParam)(\"_tab\", \"demographics\");\n                                    } },\n                                _react2.default.createElement(\n                                    \"b\",\n                                    null,\n                                    \"Demographics\"\n                                ),\n                                demographicsCount ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"hidden-xs\" },\n                                    \" \",\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        { className: \"badge\" },\n                                        demographicsCount\n                                    )\n                                ) : null\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"li\",\n                            { className: !_advanced && _tab == \"conditions\" ? \"active\" : null },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"\", onClick: function onClick(e) {\n                                        e.preventDefault();(0, _lib.setHashParam)(\"_tab\", \"conditions\");\n                                    } },\n                                _react2.default.createElement(\n                                    \"b\",\n                                    null,\n                                    \"Conditions\"\n                                ),\n                                conditionsCount ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"hidden-xs\" },\n                                    \" \",\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        { className: \"badge\" },\n                                        conditionsCount\n                                    )\n                                ) : null\n                            )\n                        ),\n                        this.props.settings.hideTagSelector || this.props.query.params._id ? null : _react2.default.createElement(\n                            \"li\",\n                            { className: !_advanced && _tab == \"tags\" ? \"active\" : null },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"\", onClick: function onClick(e) {\n                                        e.preventDefault();(0, _lib.setHashParam)(\"_tab\", \"tags\");\n                                    } },\n                                _react2.default.createElement(\n                                    \"b\",\n                                    null,\n                                    \"Tags\"\n                                ),\n                                tagsCount ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"hidden-xs\" },\n                                    \" \",\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        { className: \"badge\" },\n                                        tagsCount\n                                    )\n                                ) : null\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"tab-content\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (_advanced ? \"active\" : \"\") },\n                        this.renderAdvancedTabContents()\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (!_advanced && _tab == \"demographics\" ? \"active\" : \"\") },\n                        this.renderDemographicsTabContents()\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (!_advanced && _tab == \"conditions\" ? \"active\" : \"\") },\n                        this.renderConditionsTabContents()\n                    ),\n                    this.props.settings.hideTagSelector || this.props.query.params._id ? null : _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (!_advanced && _tab == \"tags\" ? \"active\" : \"\") },\n                        this.renderTagsTabContents()\n                    ),\n                    !_advanced && this.props.settings.submitStrategy == \"manual\" ? _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-right\", style: { height: 0 } },\n                        _react2.default.createElement(\n                            \"button\",\n                            {\n                                type: \"button\",\n                                onClick: function onClick() {\n                                    return _redux2.default.dispatch((0, _query2.fetch)());\n                                },\n                                className: \"btn btn-primary btn-submit\"\n                            },\n                            _react2.default.createElement(\"i\", { className: \"fa fa-search\" }),\n                            \" Search\"\n                        )\n                    ) : null\n                ),\n                _advanced ? null : _react2.default.createElement(_SortWidget2.default, {\n                    sort: this.props.query.sort,\n                    onChange: function onChange(sort) {\n                        _redux2.default.dispatch((0, _query2.setSort)(sort));\n                        _redux2.default.dispatch((0, _query2.fetch)());\n                    }\n                })\n            );\n        }\n    }]);\n\n    return Header;\n}(_react2.default.Component);\n\nHeader.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    query: _propTypes2.default.object.isRequired,\n    location: _propTypes2.default.object.isRequired,\n    urlParams: _propTypes2.default.object.isRequired\n};\nexports.default = Header;\n\n/***/ }),\n/* 234 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PatientDetail = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _PatientImage = __webpack_require__(46);\n\nvar _PatientImage2 = _interopRequireDefault(_PatientImage);\n\nvar _Loader = __webpack_require__(45);\n\nvar _Loader2 = _interopRequireDefault(_Loader);\n\nvar _reactRedux = __webpack_require__(9);\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactRouterDom = __webpack_require__(28);\n\nvar _DialogFooter = __webpack_require__(43);\n\nvar _DialogFooter2 = _interopRequireDefault(_DialogFooter);\n\nvar _selection = __webpack_require__(22);\n\nvar _redux = __webpack_require__(21);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _query = __webpack_require__(11);\n\nvar _Observation = __webpack_require__(227);\n\nvar _Observation2 = _interopRequireDefault(_Observation);\n\nvar _ImmunizationList = __webpack_require__(226);\n\nvar _ImmunizationList2 = _interopRequireDefault(_ImmunizationList);\n\nvar _ConditionList = __webpack_require__(224);\n\nvar _ConditionList2 = _interopRequireDefault(_ConditionList);\n\nvar _Encounter = __webpack_require__(225);\n\nvar _Encounter2 = _interopRequireDefault(_Encounter);\n\nvar _CarePlan = __webpack_require__(223);\n\nvar _CarePlan2 = _interopRequireDefault(_CarePlan);\n\nvar _Person = __webpack_require__(228);\n\nvar _Person2 = _interopRequireDefault(_Person);\n\nvar _ResourceList = __webpack_require__(229);\n\nvar _ResourceList2 = _interopRequireDefault(_ResourceList);\n\nvar _lib = __webpack_require__(3);\n\n__webpack_require__(333);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Renders the detail page.\n */\nvar PatientDetail = exports.PatientDetail = function (_React$Component) {\n    _inherits(PatientDetail, _React$Component);\n\n    function PatientDetail() {\n        var _ref;\n\n        _classCallCheck(this, PatientDetail);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = PatientDetail.__proto__ || Object.getPrototypeOf(PatientDetail)).call.apply(_ref, [this].concat(args)));\n\n        _this.query = _query.queryBuilder.clone();\n        _this.state = {\n            loading: false,\n            error: null,\n            conditions: [],\n            patient: {},\n            index: 0,\n            hasNext: false,\n            groups: {},\n            selectedSubCat: \"\",\n            bundle: _jquery2.default.isEmptyObject(_this.props.query.bundle) ? null : _extends({}, _this.props.query.bundle)\n        };\n        return _this;\n    }\n\n    _createClass(PatientDetail, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            this.fetch(this.props.match.params.index);\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.match.params.index !== this.props.match.params.index) {\n                this.fetch(newProps.match.params.index);\n            }\n        }\n    }, {\n        key: \"fetch\",\n        value: function fetch(index) {\n            var _this2 = this;\n\n            index = (0, _lib.intVal)(index, -1);\n            if (index < 0) {\n                return this.setState({ error: new Error(\"Invalid patient index\") });\n            }\n\n            this.setState({ loading: true, index: index }, function () {\n                _this2.fetchPatient(_this2.props.settings.server, index).then(function (state) {\n                    // console.log(state);\n                    _this2.setState(_extends({}, state, {\n                        error: null,\n                        loading: false\n                    }));\n                }).catch(function (error) {\n                    _this2.setState({\n                        loading: false,\n                        error: error\n                    });\n                });\n            });\n        }\n\n        /**\n         * This page receives an \"index\" url parameter. It will repeat the same\n         * query from the search page but with limit=1 and offset=index so that the\n         * search returns only one page. The reason for this is that we also have\n         * these \"Prev Patient\" and \"Next Patient\" buttons that allow the user to\n         * walk through the result one patient at a time.\n         * @param {Object} server\n         * @param {Object} server.url\n         * @param {Object} server.type\n         * @param {Number} index\n         */\n\n    }, {\n        key: \"fetchPatient\",\n        value: function fetchPatient(server, index) {\n            var _this3 = this;\n\n            // =====================================================================\n            // Warning! The following are some ugly workarounds for the ugly API\n            // that does not support normal pagination!\n            // =====================================================================\n\n            return Promise.resolve(_extends({}, this.state))\n\n            // Run the main query to fetch the first page\n            .then(function (state) {\n                _this3.query.cacheId = null;\n                _this3.query.offset = null;\n                return _this3.query.fetch(server).then(function (bundle) {\n                    state.bundle = bundle;\n                    return state;\n                });\n            })\n\n            // Try to find the patient by index\n            .then(function (state) {\n                index = (0, _lib.intVal)(index, -1);\n                if (index < 0) {\n                    return Promise.reject(\"Invalid patient index\");\n                }\n\n                state.patient = (0, _lib.getPath)(state, \"bundle.entry.\" + index + \".resource\");\n                state.nextURL = (0, _lib.getBundleURL)(state.bundle, \"next\");\n                state.hasNext = !!state.nextURL || (state.patient ? index < state.bundle.entry.length - 1 : false);\n                return Promise.resolve(state);\n            })\n\n            // if no patient - jump to it's index\n            .then(function (state) {\n                if (!state.patient) {\n                    var params = (0, _lib.parseQueryString)(state.nextURL);\n                    _this3.query.setOffset(params._getpages, index);\n                    return _this3.query.fetch(server).then(function (bundle) {\n                        state.bundle = bundle;\n                        state.patient = (0, _lib.getPath)(state, \"bundle.entry.0.resource\");\n                        state.hasNext = state.patient ? _this3.query.limit && _this3.query.limit > 1 ? state.bundle.entry.length > 1 : (0, _lib.getBundleURL)(state.bundle, \"next\") : false;\n                        return state;\n                    });\n                }\n                return state;\n            }).then(function (state) {\n                return new Promise(function (resolve) {\n                    _this3.setState(state, function () {\n                        return resolve(state);\n                    });\n                });\n            })\n\n            // Find $everything\n            .then(function (state) {\n                return (0, _lib.getAllPages)({ url: server.url + \"/Patient/\" + state.patient.id + \"/$everything?_count=500\" }).then(function (data) {\n                    var groups = {};\n                    data.forEach(function (entry) {\n                        var resourceType = (0, _lib.getPath)(entry, \"resource.resourceType\") || \"Other\";\n                        var type = resourceType;\n\n                        if (type == \"Observation\") {\n                            var subCat = String((0, _lib.getPath)(entry, \"resource.category.0.text\") || (0, _lib.getPath)(entry, \"resource.category.coding.0.code\") || (0, _lib.getPath)(entry, \"resource.category.0.coding.0.code\") || \"Other\").toLowerCase();\n\n                            subCat = subCat.split(/\\-+/).map(function (token) {\n                                return token.charAt(0).toUpperCase() + token.substr(1);\n                            }).join(\" \");\n                            type += \" - \" + subCat;\n                        }\n\n                        if (!Array.isArray(groups[type])) {\n                            groups[type] = [];\n                        }\n                        groups[type].push(entry);\n                    });\n                    state.groups = groups;\n                    return state;\n                });\n            })\n\n            // Feed the results to the app\n            .then(function (state) {\n                return Promise.resolve(state);\n            }, function (error) {\n                return Promise.reject(new Error((0, _lib.getErrorMessage)(error)));\n            });\n        }\n\n        // Rendering methods -------------------------------------------------------\n\n    }, {\n        key: \"renderPatient\",\n        value: function renderPatient() {\n            var _this4 = this;\n\n            if (this.state.error) {\n                return this.state.error + \"\";\n            }\n\n            var idLower = (this.state.patient.id || \"\").toLowerCase();\n            var key = idLower && Object.keys(this.props.selection).find(function (k) {\n                return k.toLowerCase() == idLower;\n            });\n            var selected = key && this.props.selection[key] !== false;\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"panel panel-default patient col-xs-12\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row\" },\n                    this.state.loading ? _react2.default.createElement(_Loader2.default, null) : null,\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-xs-2 col-sm-2 col-md-1\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"embed-responsive\" },\n                            _react2.default.createElement(_PatientImage2.default, {\n                                patient: this.state.patient,\n                                className: \"embed-responsive-item\",\n                                base: this.props.settings.server.url\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-xs-10 col-md-11\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"patient-row\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-7 patient-name\" },\n                                _react2.default.createElement(\n                                    \"h3\",\n                                    { className: \"pull-left text-primary\" },\n                                    (0, _lib.getPatientName)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                                ),\n                                selected ? _react2.default.createElement(\n                                    \"i\",\n                                    { className: \"label label-success pull-left\" },\n                                    \"Selected\"\n                                ) : null\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-5 text-right\", style: { paddingRight: 0 } },\n                                _react2.default.createElement(\n                                    \"button\",\n                                    {\n                                        type: \"button\",\n                                        className: \"btn btn-sm btn-\" + (selected ? \"danger\" : \"primary\"),\n                                        onClick: function onClick() {\n                                            return _redux2.default.dispatch((0, _selection.toggle)({ id: _this4.state.patient.id }));\n                                        }\n                                    },\n                                    selected ? \"Unselect\" : \"Select\"\n                                ),\n                                _react2.default.createElement(\n                                    \"button\",\n                                    {\n                                        type: \"button\",\n                                        className: \"btn btn-default btn-sm\",\n                                        onClick: function onClick() {\n                                            return _this4.fetch(_this4.props.match.params.index);\n                                        }\n                                    },\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-refresh\" }),\n                                    \" Reload\"\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"row\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Gender:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                this.state.patient.gender || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"DOB:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                this.state.patient.birthDate || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Age:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                (0, _lib.getPatientAge)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Email\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                (0, _lib.getPatientEmail)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Phone:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                (0, _lib.getPatientPhone)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Address:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                (0, _lib.getPatientHomeAddress)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"ID:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                this.state.patient.id || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"MRN:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                (0, _lib.getPatientMRN)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ? _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"deceased-label\" },\n                                    \"Deceased:\"\n                                )\n                            ) : null,\n                            this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ? _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                this.state.patient.deceasedDateTime ? _react2.default.createElement(\n                                    \"span\",\n                                    null,\n                                    this.state.patient.deceasedDateTime\n                                ) : _react2.default.createElement(\n                                    \"span\",\n                                    null,\n                                    this.state.patient.deceasedBoolean ? \"Yes\" : \"No\"\n                                )\n                            ) : null\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderResources\",\n        value: function renderResources(type) {\n            var items = this.state.groups[type] || [];\n            if (!items.length) {\n                return _react2.default.createElement(\n                    \"p\",\n                    { className: \"text-center text-muted\" },\n                    \"No items of type \\\"\",\n                    type,\n                    \"\\\" found\"\n                );\n            }\n\n            if (type.indexOf(\"Observation\") === 0) {\n                return _react2.default.createElement(_Observation2.default, { resources: items });\n            }\n\n            switch (type) {\n                case \"Immunization\":\n                    return _react2.default.createElement(_ImmunizationList2.default, { resources: items, settings: this.props.settings });\n                case \"Condition\":\n                    return _react2.default.createElement(_ConditionList2.default, { resources: items, settings: this.props.settings });\n                case \"Encounter\":\n                    return _react2.default.createElement(_Encounter2.default, { resources: items });\n                case \"CarePlan\":\n                    return _react2.default.createElement(_CarePlan2.default, { resources: items });\n                case \"Patient\":\n                case \"Practitioner\":\n                case \"RelatedPerson\":\n                    return _react2.default.createElement(_Person2.default, { resources: items, title: type });\n                default:\n                    return _react2.default.createElement(_ResourceList2.default, { resources: items, type: type, settings: this.props.settings });\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this5 = this;\n\n            var groups = Object.keys(this.state.groups).sort();\n            var selectedSubCat = this.state.selectedSubCat;\n            if (!selectedSubCat || !this.state.groups[selectedSubCat]) {\n                selectedSubCat = Object.keys(this.state.groups)[0] || \"\";\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"page patient-detail-page\" },\n                _react2.default.createElement(\n                    \"nav\",\n                    { className: \"navbar bg-primary navbar-fixed-top\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"container-fluid\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"row navigator\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-4 col-md-3 col-lg-2\" },\n                                _react2.default.createElement(\n                                    _reactRouterDom.Link,\n                                    {\n                                        to: \"/patient/\" + (this.state.index - 1),\n                                        className: \"btn btn-primary btn-block\",\n                                        disabled: this.state.index < 1\n                                    },\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-chevron-left\" }),\n                                    _react2.default.createElement(\n                                        \"b\",\n                                        null,\n                                        \"Prev\",\n                                        _react2.default.createElement(\n                                            \"span\",\n                                            { className: \"hidden-xs\" },\n                                            \"ious Patient\"\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-4 col-md-6 col-lg-8 text-center\" },\n                                _react2.default.createElement(\n                                    _reactRouterDom.Link,\n                                    { className: \"btn btn-block text-center\", to: \"/\" },\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"hidden-xs\" },\n                                        \"Browse Patients\"\n                                    ),\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"visible-xs\" },\n                                        \"Browse\"\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-4 col-md-3 col-lg-2 text-right\" },\n                                _react2.default.createElement(\n                                    _reactRouterDom.Link,\n                                    {\n                                        to: \"/patient/\" + (this.state.index + 1),\n                                        className: \"btn btn-primary btn-block\",\n                                        disabled: !this.state.hasNext\n                                    },\n                                    _react2.default.createElement(\n                                        \"b\",\n                                        null,\n                                        \"Next\",\n                                        _react2.default.createElement(\n                                            \"span\",\n                                            { className: \"hidden-xs\" },\n                                            \" Patient\"\n                                        )\n                                    ),\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-chevron-right\" })\n                                )\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"container\" },\n                    this.renderPatient(),\n                    groups.length ? _react2.default.createElement(\n                        \"div\",\n                        { className: \"row patient-details\" },\n                        _react2.default.createElement(\"br\", null),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-12 col-sm-3\" },\n                            _react2.default.createElement(\n                                \"ul\",\n                                { className: \"list-group\" },\n                                groups.map(function (k, i) {\n                                    return _react2.default.createElement(\n                                        \"a\",\n                                        {\n                                            href: \"#\",\n                                            key: i,\n                                            className: \"list-group-item\" + (k === selectedSubCat ? \" active\" : \"\"),\n                                            onClick: function onClick(e) {\n                                                e.preventDefault();\n                                                _this5.setState({\n                                                    selectedSubCat: k\n                                                });\n                                            }\n                                        },\n                                        _react2.default.createElement(\n                                            \"b\",\n                                            { className: \"badge pull-right\" },\n                                            _this5.state.groups[k].length\n                                        ),\n                                        _react2.default.createElement(\n                                            \"b\",\n                                            null,\n                                            k\n                                        )\n                                    );\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-12 col-sm-9\" },\n                            this.renderResources(selectedSubCat)\n                        )\n                    ) : this.state.loading ? null : _react2.default.createElement(\n                        \"div\",\n                        { className: \"row\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-12 text-muted text-center\" },\n                            \"No additional details for this patient\"\n                        )\n                    )\n                ),\n                window.opener || window.parent && window.parent !== window ? _react2.default.createElement(\n                    \"nav\",\n                    { className: \"navbar navbar-default navbar-fixed-bottom\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"container-fluid\", style: { width: \"100%\" } },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"row\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-12\", style: { paddingTop: 8 } },\n                                _react2.default.createElement(_DialogFooter2.default, null)\n                            )\n                        )\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return PatientDetail;\n}(_react2.default.Component);\n\nPatientDetail.propTypes = {\n    match: _propTypes2.default.object,\n    settings: _propTypes2.default.object,\n    selection: _propTypes2.default.object,\n    query: _propTypes2.default.object\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return state;\n})(PatientDetail);\n\n/***/ }),\n/* 235 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PatientList = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _PatientListItem = __webpack_require__(236);\n\nvar _PatientListItem2 = _interopRequireDefault(_PatientListItem);\n\nvar _selection = __webpack_require__(22);\n\nvar _settings = __webpack_require__(23);\n\nvar _query = __webpack_require__(11);\n\nvar _redux = __webpack_require__(21);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _reactRedux = __webpack_require__(9);\n\nvar _Footer = __webpack_require__(232);\n\nvar _Footer2 = _interopRequireDefault(_Footer);\n\nvar _Header = __webpack_require__(233);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _ErrorMessage = __webpack_require__(44);\n\nvar _ErrorMessage2 = _interopRequireDefault(_ErrorMessage);\n\nvar _Alert = __webpack_require__(42);\n\nvar _Alert2 = _interopRequireDefault(_Alert);\n\n__webpack_require__(335);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PatientList = exports.PatientList = function (_React$Component) {\n    _inherits(PatientList, _React$Component);\n\n    function PatientList() {\n        _classCallCheck(this, PatientList);\n\n        return _possibleConstructorReturn(this, (PatientList.__proto__ || Object.getPrototypeOf(PatientList)).apply(this, arguments));\n    }\n\n    _createClass(PatientList, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"page\" },\n                _react2.default.createElement(_Header2.default, {\n                    query: this.props.query,\n                    settings: this.props.settings,\n                    location: this.props.location,\n                    urlParams: this.props.urlParams\n                }),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"patient-search-results\" },\n                    this.renderContents()\n                ),\n                _react2.default.createElement(_Footer2.default, {\n                    query: this.props.query,\n                    bundle: this.props.query.bundle,\n                    dispatch: this.props.dispatch,\n                    selection: this.props.selection,\n                    canShowSelected: true\n                })\n            );\n        }\n    }, {\n        key: \"renderContents\",\n        value: function renderContents() {\n            if (this.props.query.error) {\n                return _react2.default.createElement(_ErrorMessage2.default, { error: this.props.query.error });\n            }\n\n            if (!this.props.query.bundle || this.props.query.loading) {\n                return _react2.default.createElement(\n                    \"div\",\n                    { className: \"patient-search-loading\" },\n                    _react2.default.createElement(\"i\", { className: \"fa fa-spinner spin\" }),\n                    \" Loading. Please wait...\"\n                );\n            }\n\n            if (!this.props.query.bundle.entry || !this.props.query.bundle.entry.length) {\n                return _react2.default.createElement(\n                    _Alert2.default,\n                    null,\n                    \"No patients found to match this search criteria\"\n                );\n            }\n\n            return this.renderPatientItems();\n        }\n    }, {\n        key: \"renderPatientItems\",\n        value: function renderPatientItems() {\n            var _this2 = this;\n\n            var isSelected = function isSelected(item) {\n                var idLower = (item.resource.id || \"\").toLowerCase();\n                var key = Object.keys(_this2.props.selection).find(function (k) {\n                    return k.toLowerCase() == idLower;\n                });\n                return key && _this2.props.selection[key] !== false;\n            };\n\n            var offset = this.props.query.offset || 0;\n            var items = this.props.query.bundle.entry || [];\n            if (this.props.settings.renderSelectedOnly) {\n                items = items.filter(isSelected);\n            }\n            return items.map(function (o, i) {\n                return _react2.default.createElement(_PatientListItem2.default, _extends({}, o.resource, {\n                    patient: o.resource,\n                    key: o.resource.id,\n                    index: offset + i,\n                    selected: isSelected(o),\n                    onSelectionChange: function onSelectionChange(patient) {\n                        if (_this2.props.settings.renderSelectedOnly && Object.keys(_this2.props.selection).filter(function (k) {\n                            return !!_this2.props.selection[k];\n                        }).length === 1) {\n                            _redux2.default.dispatch((0, _selection.setAll)({}));\n                            _redux2.default.dispatch((0, _settings.showSelectedOnly)(false));\n                            _redux2.default.dispatch((0, _query.setParam)({ name: \"_id\", value: undefined }));\n                            _redux2.default.dispatch((0, _query.fetch)());\n                        } else {\n                            _redux2.default.dispatch((0, _selection.toggle)(patient));\n                        }\n                    },\n                    query: _this2.props.query,\n                    settings: _this2.props.settings\n                }));\n            });\n        }\n    }]);\n\n    return PatientList;\n}(_react2.default.Component);\n\nPatientList.propTypes = {\n    query: _propTypes2.default.object,\n    selection: _propTypes2.default.object,\n    location: _propTypes2.default.object,\n    settings: _propTypes2.default.object,\n    urlParams: _propTypes2.default.object,\n    dispatch: _propTypes2.default.func\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return state;\n})(PatientList);\n\n/***/ }),\n/* 236 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRouterDom = __webpack_require__(28);\n\nvar _PatientImage = __webpack_require__(46);\n\nvar _PatientImage2 = _interopRequireDefault(_PatientImage);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _lib = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PatientListItem = function (_React$Component) {\n    _inherits(PatientListItem, _React$Component);\n\n    function PatientListItem() {\n        _classCallCheck(this, PatientListItem);\n\n        return _possibleConstructorReturn(this, (PatientListItem.__proto__ || Object.getPrototypeOf(PatientListItem)).apply(this, arguments));\n    }\n\n    _createClass(PatientListItem, [{\n        key: \"render\",\n\n        /**\n         * This component expects a Fhir Bundle\n         */\n        value: function render() {\n            var _this2 = this;\n\n            var age = (0, _lib.getPatientAge)(this.props.patient);\n            var name = (0, _lib.getPatientName)(this.props);\n            if (this.props.query.params.name) {\n                name = (0, _lib.renderSearchHighlight)(name, this.props.query.params.name);\n            }\n\n            return _react2.default.createElement(\n                _reactRouterDom.Link,\n                {\n                    to: \"/patient/\" + this.props.index,\n                    className: \"patient\" + (this.props.selected ? \" selected\" : \"\")\n                },\n                _react2.default.createElement(\n                    \"div\",\n                    {\n                        className: \"patient-select-zone\",\n                        onClick: function onClick(e) {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            _this2.props.onSelectionChange(_this2.props.patient);\n                        }\n                    },\n                    _react2.default.createElement(\"i\", { className: this.props.selected ? \"fa fa-check-square-o\" : \"fa fa-square-o\" })\n                ),\n                _react2.default.createElement(_PatientImage2.default, { patient: this.props.patient, base: this.props.settings.server.url }),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"patient-info\" },\n                    _react2.default.createElement(\n                        \"b\",\n                        null,\n                        name,\n                        \" \",\n                        this.props.patient.deceasedBoolean || this.props.patient.deceasedDateTime ? _react2.default.createElement(\n                            \"span\",\n                            { className: \"deceased-label\" },\n                            \"Deceased\"\n                        ) : null\n                    ),\n                    _react2.default.createElement(\n                        \"small\",\n                        null,\n                        _react2.default.createElement(\n                            \"b\",\n                            null,\n                            age\n                        ),\n                        \" old \",\n                        this.renderGender()\n                    ),\n                    _react2.default.createElement(\n                        \"footer\",\n                        { className: \"small\" },\n                        _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \"DOB: \",\n                            this.props.patient.birthDate || \"Unknown\",\n                            this.props.patient.deceasedDateTime ? ' / DOD: ' + (0, _moment2.default)(this.props.patient.deceasedDateTime).format(\"YYYY-MM-DD\") : null\n                        ),\n                        _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \"ID: \",\n                            this.props.patient.id || \"Unknown\"\n                        ),\n                        _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \"MRN: \",\n                            (0, _lib.getPatientMRN)(this.props.patient) || \"Unknown\"\n                        )\n                    )\n                ),\n                _react2.default.createElement(\"i\", { className: \"fa fa-angle-right\" })\n            );\n        }\n    }, {\n        key: \"renderGender\",\n        value: function renderGender() {\n            var gender = this.props.patient.gender;\n            if (!gender) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                \"span\",\n                { className: gender },\n                gender\n            );\n        }\n    }]);\n\n    return PatientListItem;\n}(_react2.default.Component);\n\nPatientListItem.propTypes = {\n    patient: _propTypes2.default.object,\n    query: _propTypes2.default.object,\n    settings: _propTypes2.default.object,\n    selected: _propTypes2.default.bool,\n    onSelectionChange: _propTypes2.default.func,\n    index: _propTypes2.default.number\n};\nPatientListItem.defaultProps = {\n    onSelectionChange: function onSelectionChange() {\n        return 1;\n    }\n};\nexports.default = PatientListItem;\n\n/***/ }),\n/* 237 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(336);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SortWidget = function (_React$Component) {\n    _inherits(SortWidget, _React$Component);\n\n    function SortWidget() {\n        _classCallCheck(this, SortWidget);\n\n        return _possibleConstructorReturn(this, (SortWidget.__proto__ || Object.getPrototypeOf(SortWidget)).apply(this, arguments));\n    }\n\n    _createClass(SortWidget, [{\n        key: \"change\",\n        value: function change(name, value) {\n            // console.log(name, value)\n            if (typeof this.props.onChange == \"function\") {\n                var sort = this.parseSort(this.props.sort);\n                if (!value) {\n                    if (sort.hasOwnProperty(name)) {\n                        delete sort[name];\n                    }\n                } else {\n                    sort[name] = value;\n                }\n                // console.log(sort, this.compileSort(sort))\n                this.props.onChange(this.compileSort(sort));\n            }\n        }\n    }, {\n        key: \"parseSort\",\n        value: function parseSort(input) {\n            var sort = {};\n            String(input || \"\").split(\",\").filter(Boolean).forEach(function (s) {\n                var name = s.replace(/^\\-/, \"\");\n                sort[name] = s.indexOf(\"-\") === 0 ? \"desc\" : \"asc\";\n            });\n            return sort;\n        }\n    }, {\n        key: \"compileSort\",\n        value: function compileSort(sort) {\n            return Object.keys(sort).map(function (k) {\n                return sort[k] == \"desc\" ? \"-\" + k : k;\n            }).join(\",\");\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var sort = this.parseSort(this.props.sort);\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"sort-widget small\" },\n                _react2.default.createElement(\n                    \"span\",\n                    { className: \"pull-left\" },\n                    \"Sort\",\n                    _react2.default.createElement(\n                        \"span\",\n                        { className: \"hidden-xs\" },\n                        \" by\"\n                    ),\n                    \":\"\n                ),\n                _react2.default.createElement(\n                    \"ul\",\n                    { className: \"nav nav-pills\" },\n                    this.props.options.map(function (o, i) {\n                        return _react2.default.createElement(\n                            \"li\",\n                            {\n                                key: i,\n                                role: \"presentation\",\n                                className: o.value in sort ? \"active\" : null\n                            },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"#\", onClick: function onClick(e) {\n                                        e.preventDefault();\n                                        var _sort = _this2.parseSort(_this2.props.sort);\n                                        switch (_sort[o.value]) {\n                                            case \"asc\":\n                                                return _this2.change(o.value, \"desc\");\n                                            case \"desc\":\n                                                return _this2.change(o.value, \"\");\n                                            default:\n                                                return _this2.change(o.value, \"asc\");\n                                        }\n                                    } },\n                                o.label || o.name,\n                                sort[o.value] == \"asc\" ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"sort\" },\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"hidden-xs\" },\n                                        \" Asc\"\n                                    ),\n                                    \" \",\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-sort-amount-asc\" })\n                                ) : sort[o.value] == \"desc\" ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"sort\" },\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"hidden-xs\" },\n                                        \" Desc\"\n                                    ),\n                                    \" \",\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-sort-amount-desc\" })\n                                ) : null\n                            )\n                        );\n                    })\n                )\n            );\n        }\n    }]);\n\n    return SortWidget;\n}(_react2.default.Component);\n\nSortWidget.propTypes = {\n    /**\n     * Fhir sort string like \"status,-date,category\"\n     */\n    sort: _propTypes2.default.string,\n\n    options: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        name: _propTypes2.default.string,\n        value: _propTypes2.default.string\n    })),\n\n    onChange: _propTypes2.default.func\n};\nSortWidget.defaultProps = {\n    sort: \"name,-birthdate\",\n    options: [{\n        label: _react2.default.createElement(\n            \"span\",\n            null,\n            _react2.default.createElement(\n                \"span\",\n                { className: \"hidden-xs\" },\n                \"Patient \"\n            ),\n            \"ID\"\n        ),\n        name: \"Patient ID\",\n        value: \"_id\"\n    }, {\n        name: \"Name\",\n        value: \"given\"\n    }, {\n        name: \"Gender\",\n        value: \"gender\"\n    }, {\n        name: \"DOB\",\n        value: \"birthdate\"\n    }]\n};\nexports.default = SortWidget;\n\n/***/ }),\n/* 238 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(3);\n\n__webpack_require__(337);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TagSelector = function (_React$Component) {\n    _inherits(TagSelector, _React$Component);\n\n    function TagSelector() {\n        var _ref;\n\n        _classCallCheck(this, TagSelector);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = TagSelector.__proto__ || Object.getPrototypeOf(TagSelector)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            // the selected items as a map of unique keys and tag objects\n            selected: [],\n\n            // is the menu currently visible?\n            open: false,\n\n            // the index of the currently selected option (-1 means no\n            // selection).\n            selectedIndex: -1,\n\n            // The search therm (the value of the input field)\n            search: \"\"\n        };\n\n        _this.stateFromProps(_this.state, _this.props);\n\n        // bind the event handlers to preserve the \"this\" context\n        _this.addTag = _this.addTag.bind(_this);\n        _this.removeTag = _this.removeTag.bind(_this);\n        _this.onFocus = _this.onFocus.bind(_this);\n        _this.onBlur = _this.onBlur.bind(_this);\n        _this.onKeyDown = _this.onKeyDown.bind(_this);\n        _this.onInput = _this.onInput.bind(_this);\n        return _this;\n    }\n\n    _createClass(TagSelector, [{\n        key: \"stateFromProps\",\n        value: function stateFromProps(state, nextProps) {\n            var _this2 = this;\n\n            var hasChanged = false;\n            if (nextProps.search) {\n                state.search = nextProps.search;\n                hasChanged = true;\n            }\n\n            if (nextProps.selected) {\n                state.selected = [].concat(_toConsumableArray(nextProps.selected.map(function (t) {\n                    return _this2.props.tags.find(function (tag) {\n                        return tag.key === t;\n                    }) || {\n                        key: t,\n                        label: t,\n                        custom: true,\n                        data: {\n                            description: t,\n                            codes: {\n                                \"\": [t]\n                            }\n                        }\n                    };\n                })));\n                hasChanged = true;\n            }\n\n            return hasChanged;\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            var nextState = {};\n            if (this.stateFromProps(nextState, nextProps)) {\n                this.setState(nextState);\n            }\n        }\n\n        /**\n         * Updates the scroll position of the menu if it is opened and if some of\n         * it's options is selected so that the selected option is always in view.\n         */\n\n    }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n            var _this3 = this;\n\n            var menu = this.refs.menu;\n            if (menu) {\n                var menuHeight = menu.clientHeight;\n                var menuScrollTop = menu.scrollTop;\n                var paddingTop = parseInt((0, _jquery2.default)(menu).css(\"paddingTop\"), 10);\n                var paddingBottom = parseInt((0, _jquery2.default)(menu).css(\"paddingBottom\"), 10);\n                var selected = (0, _jquery2.default)(\".selected\", this.refs.menu);\n\n                if (selected.length) {\n                    var selectedTop = selected[0].offsetTop;\n                    var selectedHeight = selected[0].offsetHeight;\n                    if (selectedTop < menuScrollTop) {\n                        requestAnimationFrame(function () {\n                            return _this3.refs.menu.scrollTop = selectedTop - paddingTop;\n                        });\n                    } else if (selectedTop + selectedHeight - menuScrollTop > menuHeight) {\n                        requestAnimationFrame(function () {\n                            return _this3.refs.menu.scrollTop = selectedTop + selectedHeight + paddingBottom - menuHeight;\n                        });\n                    }\n                }\n            }\n        }\n\n        // Event handlers ----------------------------------------------------------\n\n    }, {\n        key: \"onFocus\",\n        value: function onFocus() {\n            this.setState({ open: true });\n        }\n    }, {\n        key: \"onBlur\",\n        value: function onBlur() {\n            this.setState({ open: false });\n        }\n    }, {\n        key: \"onInput\",\n        value: function onInput(e) {\n            var listed = this.filterTags(e.target.value);\n            this.setState({\n                search: e.target.value,\n                open: true,\n                selectedIndex: listed.length && this.state.selectedIndex == -1 ? 0 : this.state.selectedIndex\n            });\n        }\n\n        /**\n         * This will handle special keys like Enter, Escape and arrows for scrolling\n         */\n\n    }, {\n        key: \"onKeyDown\",\n        value: function onKeyDown(e) {\n            var _this4 = this;\n\n            var listed = this.filterTags(this.state.search);\n            switch (e.keyCode) {\n\n                case 27:\n                    // Esc\n                    this.setState({ open: false });\n                    break;\n\n                case 13:\n                    {\n                        // Enter\n                        // make sure we don't submit the form (if in any)\n                        e.preventDefault();\n\n                        if (listed.length < 2) {\n                            this.setState({ open: false });\n                        }\n\n                        var index = this.state.selectedIndex;\n                        if (index === listed.length - 1) {\n                            this.setState({ selectedIndex: index - 1 }, function () {\n                                _this4.addTag(listed[index]);\n                            });\n                        } else {\n                            this.addTag(listed[index]);\n                        }\n\n                        break;\n                    }\n\n                case 40:\n                    {\n                        // Down arrow\n                        e.preventDefault();\n                        var maxIndex = listed.length - 1;\n                        this.setState({\n                            open: true,\n                            selectedIndex: Math.min(this.state.selectedIndex + 1, maxIndex)\n                        });\n                        break;\n                    }\n\n                case 38:\n                    // Up arrow\n                    e.preventDefault();\n                    if (this.state.selectedIndex > 0) {\n                        this.setState({\n                            selectedIndex: this.state.selectedIndex - 1\n                        });\n                    } else if (this.state.open) {\n                        this.setState({\n                            open: false,\n                            selectedIndex: -1\n                        });\n                    }\n                    break;\n            }\n        }\n\n        /**\n         * Happens when the user clicks on an option (or hits the enter key on\n         * selected option)\n         * @param {*} tag\n         * @returns {void}\n         */\n\n    }, {\n        key: \"addTag\",\n        value: function addTag(tag) {\n            var _this5 = this;\n\n            if (!tag || !tag.key) {\n                return;\n            }\n\n            // this.shouldn't happen but just in case, check if somebody is trying\n            // to select something that is already selected\n            if (this.state.selected.find(function (t) {\n                return t.key === tag.key;\n            })) {\n                return;\n            }\n\n            this.setState(_extends({}, this.state, {\n                selected: [].concat(_toConsumableArray(this.state.selected), [tag]),\n                search: \"\",\n                open: false,\n                selectedIndex: -1\n            }), function () {\n                return _this5.props.onChange(_this5.state.selected);\n            });\n        }\n\n        /**\n         * Happens when the user clicks a close button on a selected tag\n         * @param {*} key\n         */\n\n    }, {\n        key: \"removeTag\",\n        value: function removeTag(key) {\n            var _this6 = this;\n\n            if (!key) return;\n            var idx = this.state.selected.findIndex(function (t) {\n                return t.key === key;\n            });\n            if (idx > -1) {\n                this.state.selected.splice(idx, 1);\n                this.setState({}, function () {\n                    return _this6.props.onChange(_this6.state.selected);\n                });\n            }\n        }\n\n        // Private helper methods --------------------------------------------------\n\n    }, {\n        key: \"filterTags\",\n        value: function filterTags(search) {\n            var _this7 = this;\n\n            var tags = this.props.tags.filter(function (t) {\n\n                // skip the already selected options\n                if (_this7.state.selected.find(function (tag) {\n                    return t.key === tag.key;\n                })) {\n                    return false;\n                }\n\n                // search for matches\n                if (search) {\n\n                    // first search by name\n                    var index = t.label.toLowerCase().indexOf(search.toLowerCase());\n                    if (index > -1) {\n                        return true;\n                    }\n\n                    // then search by code\n                    if (t.data && t.data.codes && _typeof(t.data.codes) == \"object\") {\n                        for (var system in t.data.codes) {\n                            return t.data.codes[system].some(function (c) {\n                                return c.toLowerCase().indexOf(search.toLowerCase()) > -1;\n                            });\n                        }\n                    }\n\n                    return false;\n                }\n                return true;\n            }).sort(function (a, b) {\n                if (a.label > b.label) return 1;\n                if (a.label < b.label) return -1;\n                return 0;\n            }).map(function (t) {\n                return _extends({}, t);\n            });\n\n            if (this.state.search) {\n                tags.unshift({\n                    key: this.state.search,\n                    label: this.state.search,\n                    custom: true,\n                    data: {\n                        description: this.state.search,\n                        codes: {\n                            \"\": [this.state.search]\n                        }\n                    }\n                });\n            }\n\n            return tags;\n        }\n\n        // Rendering methods -------------------------------------------------------\n\n    }, {\n        key: \"renderTagCode\",\n        value: function renderTagCode(tag) {\n            if (!tag || !tag.data || !tag.data.codes) {\n                return null;\n            }\n\n            var code = \"\",\n                codes = tag.data.codes;\n            if (codes[\"SNOMED-CT\"]) {\n                code = codes[\"SNOMED-CT\"].join(\"|\");\n            } else {\n                for (var system in codes) {\n                    code = codes[system].join(\",\") + \" (\" + system + \")\";\n                    break;\n                }\n            }\n\n            if (this.state.search) {\n                code = (0, _lib.renderSearchHighlight)(code, this.state.search);\n            }\n\n            return code ? _react2.default.createElement(\n                \"small\",\n                { key: tag.key, className: \"text-muted code\" },\n                code,\n                \":\"\n            ) : null;\n        }\n    }, {\n        key: \"renderTag\",\n        value: function renderTag(tag, index) {\n            var _this8 = this;\n\n            return _react2.default.createElement(\n                \"div\",\n                {\n                    className: \"menu-item\" + (this.state.selectedIndex === index ? \" selected\" : \"\") + (tag.custom ? \" custom text-primary\" : \"\"),\n                    key: tag.key,\n                    onMouseDown: function onMouseDown(e) {\n                        e.preventDefault();_this8.addTag(tag);\n                    },\n                    title: tag.label\n                },\n                tag.custom ? _react2.default.createElement(\n                    \"span\",\n                    null,\n                    \"Search for \",\n                    _react2.default.createElement(\n                        \"b\",\n                        { className: \"tag custom\" },\n                        this.state.search\n                    ),\n                    this.props.label ? \" \" + this.props.label : \"\"\n                ) : null,\n                tag.custom ? null : this.renderTagCode(tag),\n                tag.custom ? null : (0, _lib.renderSearchHighlight)(tag.label, this.state.search)\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this9 = this;\n\n            var menuItems = this.filterTags(this.state.search).map(this.renderTag, this);\n            var emptyMenu = menuItems.length === 0;\n            var tags = this.state.selected.map(function (tag) {\n                return _react2.default.createElement(\n                    \"div\",\n                    { className: \"tag\" + (tag.custom ? \" custom\" : \"\"), key: tag.key },\n                    tag.label,\n                    _react2.default.createElement(\"i\", {\n                        className: \"tag-remove fa fa-times-circle\",\n                        title: \"Remove\",\n                        onMouseDown: function onMouseDown(e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            _this9.removeTag(tag.key);\n                        }\n                    })\n                );\n            });\n\n            var placeholder = \"Type to search\";\n            if (this.props.label) {\n                placeholder += \" for \" + this.props.label + \"s\";\n            }\n            placeholder += ' ...';\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"tag-selector\" + (this.state.open ? \" open\" : \"\") },\n                tags.length ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"tags\" },\n                    tags\n                ) : null,\n                _react2.default.createElement(\"input\", {\n                    className: \"input form-control input-sm\",\n                    placeholder: placeholder,\n                    onFocus: this.onFocus,\n                    onClick: this.onFocus,\n                    onBlur: this.onBlur,\n                    onKeyDown: this.onKeyDown,\n                    onInput: this.onInput,\n                    onChange: function onChange() {\n                        return 1;\n                    },\n                    value: this.state.search\n                }),\n                _react2.default.createElement(\"i\", { className: \"fa fa-caret-down\" }),\n                emptyMenu && !this.state.search ? null : _react2.default.createElement(\n                    \"div\",\n                    { className: \"menu dropdown-menu\", ref: \"menu\" },\n                    menuItems\n                )\n            );\n        }\n    }]);\n\n    return TagSelector;\n}(_react2.default.Component);\n\nTagSelector.propTypes = {\n    tags: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    selected: _propTypes2.default.arrayOf(_propTypes2.default.string),\n    onChange: _propTypes2.default.func,\n    search: _propTypes2.default.string,\n    label: _propTypes2.default.string\n};\nTagSelector.defaultProps = {\n    onChange: function onChange() {\n        return 1;\n    },\n    tags: [],\n    selected: [],\n    search: \"\"\n};\nexports.default = TagSelector;\n\n/***/ }),\n/* 239 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    server: {\n        type: \"STU-3\", // \"DSTU-2\" or \"STU-3\" or \"R4\"\n\n        url: \"https://r3.smarthealthit.org\",\n\n        conditions: {},\n\n        tags: []\n    },\n\n    hideTagSelector: false,\n\n    patientsPerPage: 25,\n\n    // AJAX requests timeout\n    timeout: 20000,\n\n    // Only the selected patients are rendered. Should be false or the\n    // preselected patient IDs should be passed to the window. Otherwise\n    // It will result in rendering no patients at all.\n    renderSelectedOnly: false,\n\n    // If enabled is true (then url and param MUST be set) then clicking on the\n    // patient-related resources in detail view will open their source in that\n    // external viewer. Otherwise they will just be opened in new browser tab.\n    fhirViewer: {\n        enabled: true,\n        url: \"http://docs.smarthealthit.org/fhir-viewer/index.html\",\n        param: \"url\"\n    },\n\n    // What to send when the OK dialog button is clicked. Possible values:\n    // \"id-list\"  - comma-separated list of patient IDs (default)\n    // \"id-array\" - array of patient IDs\n    // \"patients\" - array of patient JSON objects\n    outputMode: \"id-list\",\n\n    // \"automatic\" -> onChange plus defer in some cases\n    // \"manual\" -> render a submit button\n    submitStrategy: \"manual\"\n};\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _constants = __webpack_require__(47);\n\nvar _ = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This is just a helper class that is used as a query builder. It has some\n * dedicated setter methods for various query parameters and knows how to\n * compile those into a query string that can be passed to the Patient endpoint\n * of a fhir api server.\n */\nvar PatientSearch = function () {\n    /**\n     * The constructor just creates an empty instance. Use the setter methods\n     * to set query params and then call compile to build the query string.\n     */\n    function PatientSearch() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, PatientSearch);\n\n        this.__cache__ = {};\n\n        this.__scheduled__ = {};\n\n        /**\n         * The list of conditions that should be included in the query.\n         * @type {Object} A map of unique keys and condition objects\n         * @private\n         */\n        this.conditions = _extends({}, options.conditions || {});\n\n        /**\n         * The desired minimal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.minAge = null;\n\n        /**\n         * The desired maximal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.maxAge = null;\n\n        /**\n         * The patient gender to search for (male|female)\n         * @type {String}\n         * @private\n         */\n        this.gender = options.gender || null;\n\n        /**\n         * How many patients to fetch per page. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.limit = options.limit || null;\n\n        /**\n         * How many patients to skip. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.offset = null;\n\n        /**\n         * A collection of additional parameters\n         * @type {Object}\n         * @private\n         */\n        this.params = {};\n\n        /**\n         * This is like a flag that toggle the instance to different modes\n         * (currently only advanced and default are supported)\n         * @type {String} \"advanced\" or \"default\"\n         * @private\n         */\n        this.queryType = options.queryType || \"default\";\n\n        /**\n         * The query string to use if in advanced mode\n         * @type {String}\n         * @private\n         */\n        this.queryString = options.queryString || \"\";\n\n        /**\n         * The sort parameters list\n         * @type {String}\n         * @private\n         */\n        this.sort = options.sort || \"\";\n\n        /**\n         * All the tags that the patients should be filtered by\n         * @type {Array<String>}\n         * @private\n         */\n        this.tags = String(options.tags || \"\").split(/\\s*,\\s*/).filter(Boolean);\n    }\n\n    /**\n     * Schedule a prop change to be made before the next compile\n     * @param {Object} props\n     */\n\n\n    _createClass(PatientSearch, [{\n        key: \"schedule\",\n        value: function schedule(props) {\n            this.__scheduled__ = _extends({}, this.__scheduled__, props);\n        }\n    }, {\n        key: \"hasParam\",\n        value: function hasParam(name) {\n            return this.params.hasOwnProperty(name);\n        }\n\n        /**\n         * Sets a param by name. Note that this is a lower level interface. It does\n         * not know anything about the parameter thus it will not handle UI\n         * dependencies (eg. it won't reset the offset for you)\n         * @param {Name} name The name of the parameter to set\n         * @param {*} value The value to set. Use undefined to remove a parameter\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setParam\",\n        value: function setParam(name, value) {\n            var has = this.hasParam(name);\n            if (value === undefined) {\n                if (has) {\n                    delete this.params[name];\n                }\n            } else {\n                this.params[name] = value;\n            }\n            this.offset = null;\n            this.cacheId = null;\n            return this;\n        }\n\n        /**\n         * Sets the query type. In advanced mode a query string is provided and\n         * parsed and all the other parameters are ignored. In default mode the\n         * query string is ignored and only the other params are used.\n         * @param {String} type \"advanced\" or anything else for \"default\"\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setQueryType\",\n        value: function setQueryType(type) {\n            this.queryType = type == \"advanced\" ? \"advanced\" : \"default\";\n            return this;\n        }\n\n        /**\n         * Sets the query string to be used while in advanced mode. Note that this\n         * will not be used if not in advanced mode but the query string will still\n         * be persisted so that if the user switches the UI to advanced the last\n         * query can be displayed...\n         * @param {String} query The query string to use if in advanced mode\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setQueryString\",\n        value: function setQueryString(query) {\n            this.queryString = String(query || \"\");\n            return this;\n        }\n\n        /**\n         * Adds a condition to the list of patient conditions\n         * @param {String} key Unique string identifier for that condition\n         * @param {Object} condition The condition to add\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"addCondition\",\n        value: function addCondition(key, condition) {\n            this.conditions[key] = condition;\n            this.__cache__.patientIDs = null;\n            return this;\n        }\n\n        /**\n         * Removes the condition identified by it's key. If that condition is not\n         * currently included it does nothing\n         * @param {*} key Unique string identifier for that condition\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"removeCondition\",\n        value: function removeCondition(key) {\n            if (this.conditions.hasOwnProperty(key)) {\n                delete this.conditions[key];\n                this.__cache__.patientIDs = null;\n            }\n            return this;\n        }\n\n        /**\n         * Replaces the entire set of conditions at once\n         * @param {Object} conditions The new conditions to set\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setConditions\",\n        value: function setConditions(conditions) {\n            this.conditions = _extends({}, conditions);\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            this.__cache__.patientIDs = null;\n            return this;\n        }\n    }, {\n        key: \"addTag\",\n        value: function addTag(tag) {\n            if (this.tags.findIndex(tag) == -1) {\n                this.tags.push(tag);\n            }\n            return this;\n        }\n    }, {\n        key: \"removeTag\",\n        value: function removeTag(tag) {\n            var index = this.tags.findIndex(tag);\n            if (index > -1) {\n                this.tags.splice(index, 1);\n            }\n            return this;\n        }\n    }, {\n        key: \"setTags\",\n        value: function setTags(tags) {\n            this.tags = [].concat(_toConsumableArray(tags));\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            return this;\n        }\n\n        /**\n         * Sets the desired min age af the patients. This can also be set to null\n         * (or other falsy value) to exclude the minAge restrictions from the query.\n         * @param {object} age The age\n         * @param {number} age.value The age as number of units\n         * @param {string} age.units The units for the value (years|months|days)\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setMinAge\",\n        value: function setMinAge(age) {\n            this.minAge = age;\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            return this;\n        }\n\n        /**\n         * Sets the desired max age af the patients. This can also be set to null\n         * (or other falsy value) to exclude the maxAge restrictions from the query.\n         * @param {object} age The age\n         * @param {number} age.value The age as number of units\n         * @param {string} age.units The units for the value (years|months|days)\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setMaxAge\",\n        value: function setMaxAge(age) {\n            this.maxAge = age;\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            return this;\n        }\n\n        /**\n         * Sets the min and max ages depending on the specified age group keyword\n         * @param {*} group Can be one of infant, child, adult, elderly.\n         *                  Anything else will clear the age constraints!\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setAgeGroup\",\n        value: function setAgeGroup(group) {\n            this.ageGroup = group;\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n\n            switch (group) {\n\n                // infant - 0 to 12 months\n                case \"infant\":\n                    this.setMinAge(null);\n                    this.setMaxAge({ value: 1, units: \"years\" });\n                    break;\n\n                // child - 1 to 18 years\n                case \"child\":\n                    this.setMinAge({ value: 1, units: \"years\" });\n                    this.setMaxAge({ value: 18, units: \"years\" });\n                    break;\n\n                // adult - 18 to 65 years\n                case \"adult\":\n                    this.setMinAge({ value: 18, units: \"years\" });\n                    this.setMaxAge({ value: 65, units: \"years\" });\n                    break;\n\n                // Elderly - 65+\n                case \"elderly\":\n                    this.setMinAge({ value: 65, units: \"years\" });\n                    this.setMaxAge(null);\n                    break;\n\n                // Anything else clears the birthdate param\n                default:\n                    this.setMinAge(null);\n                    this.setMaxAge(null);\n                    // this.ageGroup = null;\n                    break;\n            }\n            return this;\n        }\n\n        /**\n         * Sets the gender to search for. Can be \"male\" or \"female\". Any falsy value\n         * will clear the gender param\n         * @param {String} gender \"male\" or \"female\"\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setGender\",\n        value: function setGender(gender) {\n            if (gender !== this.gender) {\n                this.gender = gender;\n                this.schedule({\n                    offset: null,\n                    cacheId: null\n                });\n            }\n            return this;\n        }\n\n        /**\n         * Sets how many patients will be fetched per page\n         * @param {number|string} limit The number of records to fetch\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setLimit\",\n        value: function setLimit(limit) {\n            this.limit = (0, _.intVal)(limit);\n            if (this.limit < 1) {\n                this.limit = null;\n            }\n            return this;\n        }\n\n        /**\n         * Sets how many patients will be skipped\n         * @param {string} cacheId The id generated by the server (_getpages)\n         * @param {number|string} offset The number of records to skip\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setOffset\",\n        value: function setOffset(cacheId, offset) {\n            this.offset = (0, _.intVal)(offset);\n            this.cacheId = cacheId;\n            if (this.offset < 1) {\n                this.offset = null;\n                this.cacheId = null;\n            }\n            return this;\n        }\n\n        /**\n         * Sets the sorting to use\n         * @param {string} sort A fhir sort string like \"status,-date,category\"\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setSort\",\n        value: function setSort(sort) {\n            this.sort = sort;\n            this.offset = null;\n            this.cacheId = null;\n            return this;\n        }\n\n        /**\n         * Returns another PatientSearch instance with the exact same state as this.\n         * @returns {PatientSearch} Returns the new copy\n         */\n\n    }, {\n        key: \"clone\",\n        value: function clone() {\n            var inst = new PatientSearch();\n\n            inst.conditions = _extends({}, this.conditions);\n            inst.params = _extends({}, this.params);\n            inst.tags = [].concat(_toConsumableArray(this.tags));\n\n            inst.setSort(this.sort).setAgeGroup(this.ageGroup).setMinAge(this.minAge).setMaxAge(this.maxAge).setGender(this.gender).setLimit(this.limit).setOffset(this.cacheId, this.offset).setQueryType(this.queryType).setQueryString(this.queryString);\n\n            return inst;\n        }\n\n        /**\n         * Clear all params. If you call compile after clear only the \"_format=json\"\n         * part should be returned\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"reset\",\n        value: function reset() {\n            this.conditions = {};\n            this.minAge = null;\n            this.maxAge = null;\n            this.gender = null;\n            this.limit = null;\n            this.offset = null;\n            this.cacheId = null;\n            this.ageGroup = null;\n            this.params = {};\n            this.queryString = \"\";\n            this.queryType = \"default\";\n            this.sort = \"\";\n            this.tags = [];\n            return this;\n        }\n\n        /**\n         * Returns an object representing the current state of the instance.\n         * The object contains COPIES of the current param values.\n         * @returns {Object}\n         */\n\n    }, {\n        key: \"getState\",\n        value: function getState() {\n            return {\n                conditions: this.conditions,\n                minAge: this.minAge,\n                maxAge: this.maxAge,\n                gender: this.gender,\n                limit: this.limit,\n                offset: this.offset,\n                cacheId: this.cacheId,\n                ageGroup: this.ageGroup,\n                params: _extends({}, this.params),\n                queryString: this.queryString,\n                queryType: this.queryType,\n                sort: this.sort,\n                tags: [].concat(_toConsumableArray(this.tags))\n            };\n        }\n\n        /**\n         * Compiles and returns the query string that can be send to the Patient\n         * endpoint.\n         * @return {String} The compiled query string (without the \"?\" in front)\n         */\n\n    }, {\n        key: \"compile\",\n        value: function compile() {\n            var _this = this;\n\n            var encode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            var params = [];\n\n            [\n            // conditions\n            \"minAge\", \"maxAge\", \"gender\", \"limit\", \"offset\",\n            // \"params\",\n            \"queryType\", \"queryString\", \"sort\" //,\n            // tags\n            ].forEach(function (prop) {\n                if (_this.__scheduled__.hasOwnProperty(prop)) {\n                    _this[prop] = _this.__scheduled__[prop];\n                    delete _this.__scheduled__[prop];\n                }\n            });\n\n            // Tags ----------------------------------------------------------------\n            if (this.tags.length && !this.params._id) {\n                params.push({ name: \"_tag\", value: this.tags.join(\",\") });\n            }\n\n            // Advanced query ------------------------------------------------------\n            if (this.queryType == \"advanced\") {\n                var str = this.queryString.trim();\n                if (str) {\n                    var _query = (0, _.parseQueryString)(str);\n                    for (var name in _query) {\n                        params.push({ name: name, value: _query[name] });\n                    }\n                }\n            }\n\n            // Default query -------------------------------------------------------\n            else {\n\n                    // Custom params ---------------------------------------------------\n                    Object.keys(this.params).forEach(function (k) {\n                        if (String(_this.params[k]).trim()) {\n                            params.push({\n                                name: k,\n                                value: _this.params[k]\n                            });\n                        }\n                    });\n\n                    // sort ------------------------------------------------------------\n                    if (this.sort) {\n                        String(this.sort).split(\",\").forEach(function (token) {\n                            if (token.indexOf(\"-\") === 0) {\n                                params.push({\n                                    name: \"_sort:desc\",\n                                    value: token.substring(1)\n                                });\n                            } else {\n                                params.push({\n                                    name: \"_sort:asc\",\n                                    value: token\n                                });\n                            }\n                        });\n                        // params.push({\n                        //     name : \"_sort\",\n                        //     value: this.sort\n                        // })\n                    }\n\n                    if (!this.params._id) {\n\n                        // Min age -----------------------------------------------------\n                        if (this.minAge) {\n                            var d = (0, _moment2.default)().subtract(this.minAge.value, this.minAge.units);\n                            params.push({\n                                name: \"birthdate\",\n                                value: \"le\" + d.format('YYYY-MM-DD')\n                            });\n                        }\n\n                        // Max age -----------------------------------------------------\n                        if (this.maxAge) {\n                            var _d = (0, _moment2.default)().subtract(this.maxAge.value, this.maxAge.units);\n                            params.push({\n                                name: \"birthdate\",\n                                value: \"ge\" + _d.format('YYYY-MM-DD')\n                            });\n                        }\n\n                        // exclude deceased patients if age is specified ---------------\n                        if (this.maxAge || this.minAge) {\n                            var existing = params.find(function (p) {\n                                return p.name === \"deceased\";\n                            });\n                            if (existing) {\n                                existing.value = false;\n                            } else {\n                                params.push({\n                                    name: \"deceased\",\n                                    value: false\n                                });\n                            }\n                        }\n\n                        // Gender ------------------------------------------------------\n                        if (this.gender) {\n                            params.push({\n                                name: \"gender\",\n                                value: this.gender\n                            });\n                        }\n                    }\n                }\n\n            // limit ---------------------------------------------------------------\n            if (this.limit) {\n                params.push({\n                    name: \"_count\",\n                    value: this.limit\n                });\n            }\n\n            // offset --------------------------------------------------------------\n            if (this.offset && this.cacheId) {\n                params.push({\n                    name: \"_getpages\",\n                    value: this.cacheId\n                }, {\n                    name: \"_getpagesoffset\",\n                    value: this.offset\n                });\n            }\n\n            // Compile and return --------------------------------------------------\n            return params.map(function (p) {\n                return encode ? encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value) : p.name + \"=\" + p.value;\n            }).join(\"&\");\n        }\n\n        /**\n         * Checks if there are any conditions chosen at the moment\n         * @returns {Boolean}\n         */\n\n    }, {\n        key: \"hasConditions\",\n        value: function hasConditions() {\n            for (var key in this.conditions) {\n                if (this.conditions.hasOwnProperty(key)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        /**\n         * Compiles the current conditions into URL-encoded parameter list\n         * @returns {String}\n         */\n\n    }, {\n        key: \"compileConditions\",\n        value: function compileConditions() {\n            var _this2 = this;\n\n            // let params = [];\n\n            // for (let key in this.conditions) {\n            //     let condition = this.conditions[key]\n\n            //     // system\n            //     let value = [];\n            //     for (let system in condition.codes) {\n            //         let systemUrl = (CODE_SYSTEMS[system] || {}).url;\n\n            //         // system.code[n] - OR\n            //         condition.codes[system].forEach(c => {\n            //             value.push( systemUrl ? systemUrl + \"|\" + c : c );\n            //         })\n            //     }\n\n            //     if (value.length) {\n            //         params.push({\n            //             name : \"code\",\n            //             value: value.join(\",\")\n            //         })\n            //     }\n            // }\n\n            // return params.map(p => (\n            //     encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value)\n            // )).join(\"&\");\n            var out = [];\n\n            var _loop = function _loop(key) {\n                var condition = _this2.conditions[key];\n\n                // system\n                var value = [];\n\n                var _loop2 = function _loop2(system) {\n                    var systemUrl = (_constants.CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                    // system.code[n] - OR\n                    condition.codes[system].forEach(function (c) {\n                        value.push(systemUrl + \"|\" + c);\n                    });\n                };\n\n                for (var system in condition.codes) {\n                    _loop2(system);\n                }\n\n                if (value.length) {\n                    out.push(value.join(\",\"));\n                }\n            };\n\n            for (var key in this.conditions) {\n                _loop(key);\n            }\n            return out.length ? \"code=\" + encodeURIComponent(out.join(\",\")) : \"\";\n        }\n    }, {\n        key: \"getConditionKeys\",\n        value: function getConditionKeys() {\n            var _this3 = this;\n\n            var out = [];\n\n            var _loop3 = function _loop3(key) {\n                var condition = _this3.conditions[key];\n\n                // system\n                var value = [];\n\n                var _loop4 = function _loop4(system) {\n                    var systemUrl = (_constants.CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                    // system.code[n] - OR\n                    condition.codes[system].forEach(function (c) {\n                        value.push(systemUrl + \"|\" + c);\n                    });\n                };\n\n                for (var system in condition.codes) {\n                    _loop4(system);\n                }\n\n                if (value.length) {\n                    out.push(value.join(\",\"));\n                }\n            };\n\n            for (var key in this.conditions) {\n                _loop3(key);\n            }\n            return out;\n        }\n\n        /**\n         * Returns a promise resolved with a list of patient IDs that have the\n         * specified condition(s)\n         * @param {String} baseURL\n         * @returns {Promise<String[]>}\n         */\n\n    }, {\n        key: \"getPatientIDs\",\n        value: function getPatientIDs(server) {\n            var _this4 = this;\n\n            if (this.__cache__.patientIDs) {\n                return Promise.resolve(this.__cache__.patientIDs);\n            }\n\n            var conditions = this.compileConditions();\n\n            if (!conditions) {\n                return Promise.resolve([]);\n            }\n\n            /**\n             * The keys (eg: \"http://snomed.info/sct|44054006\") that were set by the\n             * user.\n             * @type {Array<String>}\n             * @private\n             */\n            var conditionKeys = this.getConditionKeys();\n\n            /**\n             * Map of patient IDs as keys and array of condition keys as values.\n             * @private\n             */\n            var patientIDs = {};\n\n            /**\n             * Handles the JSON response (single page) of the conditions query.\n             * Collects the patient IDs and their condition codes into the\n             * patientIDs local variable. When all the pages are fetched, cleans up\n             * the IDs to only contain those that have all the conditions specified\n             * by the user.\n             * @param {Object} response The JSON Conditions bundle response\n             * @returns {Promise<any>} Array of patient ID strings (can be empty)\n             */\n            var handleConditionsResponse = function handleConditionsResponse(response) {\n\n                // Collect the data\n                if (response.entry) {\n                    response.entry.forEach(function (condition) {\n                        var patientID = server.type == \"DSTU-2\" ? condition.resource.patient.reference.split(\"/\").pop() : condition.resource.subject.reference.split(\"/\").pop();\n                        if (!patientIDs[patientID]) {\n                            patientIDs[patientID] = [];\n                        }\n                        patientIDs[patientID].push(((0, _.getPath)(condition, \"resource.code.coding.0.system\") || \"http://snomed.info/sct\") + \"|\" + (0, _.getPath)(condition, \"resource.code.coding.0.code\"));\n                    });\n\n                    var nextLink = (response.link || []).find(function (l) {\n                        return l.relation == \"next\";\n                    });\n                    if (nextLink) {\n                        return (0, _.request)({ url: nextLink.url }).then(handleConditionsResponse);\n                    }\n                }\n                // console.log(conditionKeys, patientIDs)\n                // Clean up and only leave patients having all the conditions\n                patientIDs = Object.keys(patientIDs).filter(function (key) {\n                    return conditionKeys.every(function (conditionKey) {\n                        return patientIDs[key].indexOf(conditionKey) > -1;\n                    });\n                });\n                // console.log(patientIDs)\n\n                // finally return a promise resolved with the compiled ID array\n                return Promise.resolve(patientIDs);\n            };\n\n            // The conditions to search for\n            var params = [conditions];\n\n            // only need the patient - skip the rest to reduce the response\n            params.push(server.type == \"DSTU-2\" ? \"_elements=patient,code\" : \"_elements=subject,code\");\n\n            // Set bigger limit here to reduce the chance of having to\n            // make other queries to fetch subsequent pages\n            params.push(\"_count=500\");\n\n            // Tags (not currently available in STU2)\n            if (this.tags.length) {\n                params.push(\"_tag=\" + encodeURIComponent(this.tags.join(\",\")));\n            }\n\n            return (0, _.request)({\n                url: server.url + \"/Condition?\" + params.join(\"&\")\n            }).then(handleConditionsResponse).then(function (ids) {\n                _this4.__cache__.patientIDs = ids;\n                return ids;\n            });\n        }\n\n        /**\n         * Fetches the patients matching the user-defined conditions. The actual\n         * strategy may vary but regardless of the implementation, a promise is\n         * returned that should eventually be resolved with the result bundle.\n         * @param {String} baseURL\n         * @returns {Promise<Bundle>}\n         */\n\n    }, {\n        key: \"fetch\",\n        value: function fetch(server) {\n            var _this5 = this;\n\n            var data = this.compile();\n\n            // STU2 does not work with the deceased param\n            if (server.type == \"DSTU-2\") {\n                data = data.replace(/\\bdeceased=(true|false)\\b/gi, \"\");\n            }\n\n            // prepare the base options for the patient ajax request\n            var options = {\n                url: this.offset && this.cacheId ? server.url : server.url + \"/Patient/_search\",\n                method: this.offset && this.cacheId ? \"GET\" : \"POST\",\n                processData: false,\n                data: data,\n                headers: {\n                    accept: \"application/fhir+json\",\n                    \"content-type\": \"application/x-www-form-urlencoded\"\n                }\n            };\n\n            return this.getPatientIDs(server).then(function (ids) {\n                if (ids.length) {\n                    // if IDs were found - add them to the patient query\n                    options.data = [options.data, \"_id=\" + encodeURIComponent(ids.join(\",\"))].filter(Boolean).join(\"&\");\n                } else {\n                    // If conditions were specified but no patients were found to\n                    // have those conditions, then we should exit early.\n                    if (_this5.hasConditions()) {\n                        return Promise.reject(\"No patients found with the specified conditions!\");\n                    }\n                }\n                return options;\n            }).then(_.request);\n        }\n    }]);\n\n    return PatientSearch;\n}();\n\nexports.default = PatientSearch;\n\n/***/ }),\n/* 241 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function () {\n    return _extends({}, INITIAL_STATE);\n};\n\nvar _lib = __webpack_require__(3);\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nvar INITIAL_STATE = (0, _lib.parseQueryString)(location.hash.replace(/^.*\\?/, \"\"));\n\n// Export the reducer as default\n\n/***/ }),\n/* 242 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".age-widget-wrap {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  white-space: nowrap;\\n  padding: 0;\\n  position: relative;\\n  font-size: 12px;\\n}\\n.age-widget-wrap > * {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  margin: 0;\\n  height: 100%;\\n  font-size: 13px;\\n}\\n.age-widget-wrap select {\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  height: 100%;\\n}\\n.age-widget-wrap.custom > select {\\n  flex-grow: 0;\\n  min-width: 0;\\n  flex-basis: 180px;\\n}\\n.age-widget-wrap input {\\n  height: 100%;\\n  border: 1px solid transparent;\\n}\\n.age-widget {\\n  display: flex;\\n  flex-basis: 30%;\\n  min-width: 0;\\n  overflow: hidden;\\n  align-items: center;\\n  box-shadow: 2px 1px 2px -2px #BBB inset;\\n}\\n.age-widget:last-of-type {\\n  border-radius: 0 3px 3px 0;\\n}\\n.age-widget span {\\n  display: flex;\\n  white-space: nowrap;\\n  flex-basis: 7ex;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n  margin: 0 1ex 0 0;\\n  flex-direction: column;\\n  align-content: flex-end;\\n  background: rgba(0, 0, 0, 0.06);\\n  box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  line-height: 2.1em;\\n  padding: 0 1ex;\\n  text-align: right;\\n  height: 100%;\\n  font-weight: 500;\\n}\\n.age-widget input {\\n  flex-shrink: 1;\\n  flex-grow: 2;\\n  flex-basis: 30px;\\n  display: flex;\\n  margin: 0;\\n  background: transparent;\\n  min-width: 32px;\\n  border-right: 1px dotted rgba(0, 0, 0, 0.2);\\n}\\n.age-widget select {\\n  display: flex;\\n  flex-shrink: 1;\\n  flex-grow: 1;\\n  flex-basis: 6em;\\n  min-width: 6em;\\n}\\n.age-widget:hover {\\n  box-shadow: 0 0 0 1px #369;\\n  background: #ebf0f5;\\n}\\n.age-widget.invalid {\\n  background: rgba(255, 0, 0, 0.1);\\n  background: rgba(255, 0, 0, 0.03) repeating-linear-gradient(-45deg, rgba(255, 50, 0, 0), rgba(255, 50, 0, 0) 2.5px, rgba(255, 0, 0, 0.2) 3px, rgba(255, 50, 0, 0) 3.5px);\\n  background-size: 40px 40px;\\n}\\n@media (max-width: 600px) {\\n  .age-widget-wrap.custom {\\n    flex-wrap: wrap;\\n    white-space: normal;\\n    height: auto;\\n  }\\n  .age-widget-wrap.custom > select {\\n    flex-basis: 600px;\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    width: 100%;\\n    line-height: 2.1em;\\n    height: 2.1em;\\n  }\\n  .age-widget-wrap.custom .age-widget {\\n    flex-basis: 50%;\\n    flex-grow: 1;\\n    min-width: none;\\n    box-shadow: 0px 3px 0px -2px #DDD inset;\\n  }\\n  .age-widget-wrap.custom .age-widget:hover {\\n    box-shadow: 0 0 0 1px #369;\\n    background: #ebf0f5;\\n  }\\n  .age-widget-wrap.custom .age-widget:last-of-type {\\n    border-radius: 0 0 3px 0;\\n  }\\n  .age-widget-wrap.custom .age-widget ~ .age-widget span {\\n    box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 0 0 rgba(0, 0, 0, 0.1) inset, 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 243 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"* {\\n  box-sizing: border-box;\\n}\\nhtml {\\n  height: 100%;\\n  display: block;\\n}\\nbody {\\n  background: linear-gradient(#F6F6F6, #FFF);\\n  color: #444;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  height: 100%;\\n  font-family: \\\"Helvetica Neue\\\", Arial, sans-serif;\\n  font-size: 14px;\\n  line-height: normal;\\n}\\na {\\n  text-decoration: none;\\n  color: #369;\\n}\\na:disabled,\\na[disabled] {\\n  pointer-events: none;\\n  opacity: 0.4 !important;\\n}\\nhr {\\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\\n}\\n*:focus {\\n  outline: none !important;\\n}\\n.tab-content {\\n  background: linear-gradient(#FFF, transparent);\\n  border: 1px solid #DDD;\\n  border-top: 0;\\n  padding: 15px 15px 0;\\n  border-radius: 0 0 5px 5px;\\n}\\n#overlay {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(150, 150, 150, 0.1);\\n  z-index: 1000000000;\\n}\\n#main {\\n  height: 100%;\\n}\\n.app {\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n  height: 100%;\\n}\\n.page {\\n  display: flex;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n.page {\\n  display: flex;\\n}\\n.patient-search-loading {\\n  display: flex;\\n  flex-grow: 1;\\n  align-content: center;\\n  align-items: center;\\n  align-self: center;\\n}\\n.patient-search-loading .fa {\\n  margin: 1ex;\\n}\\n.spin {\\n  animation: spin 2s linear infinite;\\n}\\n@keyframes spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(359deg);\\n  }\\n}\\n.page {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n.pre {\\n  white-space: pre;\\n  font-family: monospace;\\n  font-size: 12px;\\n  display: block;\\n}\\n.search-match {\\n  background: #FFCF39;\\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.8) inset, 0 0 1px rgba(0, 0, 0, 0.99) !important;\\n  border-radius: 2px;\\n  text-shadow: 0 0 1px #FFF !important;\\n  color: #000 !important;\\n}\\n.small.pull-left,\\n.small.pull-right,\\nsmall.pull-left,\\nsmall.pull-right {\\n  margin-top: 0.5ex;\\n}\\nlabel[disabled] {\\n  color: rgba(0, 0, 0, 0.4);\\n  cursor: not-allowed;\\n  user-select: none;\\n}\\n.deceased-label {\\n  vertical-align: baseline;\\n  color: #e45f00;\\n  font-size: 11px;\\n  padding: 0px 4px 1px;\\n  border-radius: 3px;\\n  border: 1px solid #ff6a00;\\n  box-shadow: 0 1px 4px 0px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(255, 255, 255, 0.31) inset;\\n}\\nselect,\\nselect.form-control {\\n  padding: 0 10px;\\n  line-height: 30px;\\n  font: inherit;\\n  background-color: transparent;\\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAxMDAwIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTSA5Ni4wMCw5Ni4wMGwtOTYuMDAsOTYuMDBsIDI1Ni4wMCwyNTYuMDBsIDI1Ni4wMC0yNTYuMDBsLTk2LjAwLTk2LjAwTCAyNTYuMDAsMjU2LjAwTCA5Ni4wMCw5Ni4wMHoiID48L3BhdGg+PC9zdmc+');\\n  background-position: 100% 50%;\\n  background-repeat: no-repeat;\\n  background-size: 15px;\\n  position: relative;\\n  padding-right: 20px;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  -ms-appearance: none;\\n}\\nselect::-ms-expand,\\nselect.form-control::-ms-expand {\\n  display: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".dialog-buttons button {\\n  min-width: 10em;\\n  margin: 0 0 0 1em;\\n}\\n.dialog-buttons label {\\n  margin: 2px 0;\\n  display: flex;\\n  align-items: center;\\n  min-height: 30px;\\n}\\n.dialog-buttons .btn-group {\\n  display: inline-flex;\\n  flex: 0 1 18em;\\n  line-height: 1;\\n  flex-direction: row;\\n  box-shadow: 0 1px 1px #FFF;\\n  margin: 0 6px;\\n}\\n.dialog-buttons .btn-group > .btn {\\n  display: flex;\\n  flex: 1 1 120px;\\n  align-items: center;\\n  align-content: center;\\n  align-self: center;\\n  flex-direction: column;\\n  min-width: 4em;\\n  margin: 0;\\n  border: 1px solid #BBB;\\n  padding: 4px 2ex;\\n  background: linear-gradient(#F9F9F9, #E9E9E9);\\n  font-weight: normal;\\n  color: #666;\\n  text-shadow: 0 1px 0 #FFF;\\n  box-shadow: 0 1px 1px #FFF inset;\\n  overflow: hidden;\\n}\\n.dialog-buttons .btn-group > .btn:hover {\\n  background: linear-gradient(#FFF, #EEE);\\n}\\n.dialog-buttons .btn-group > .btn:active,\\n.dialog-buttons .btn-group > .btn.active {\\n  background: linear-gradient(#CCC, #DDD);\\n  box-shadow: 0 1px 1px #BBB inset;\\n  border-color: #999 #AAA #BBB;\\n}\\n.dialog-buttons .btn-group > .btn + .btn {\\n  margin-left: -1px;\\n}\\n.dialog-buttons .btn-group > .btn:first-child {\\n  border-radius: 4px 0 0 4px;\\n}\\n.dialog-buttons .btn-group > .btn:last-child {\\n  border-radius: 0 4px 4px 0;\\n}\\n.dialog-buttons :disabled .btn-group,\\n.dialog-buttons [disabled] .btn-group,\\n.dialog-buttons .disabled .btn-group {\\n  opacity: 0.5;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".app-footer {\\n  position: relative;\\n  z-index: 3;\\n  display: flex;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  justify-content: center;\\n  align-items: center;\\n  box-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.25);\\n  text-shadow: 0 1px 0 #FFF;\\n  background: #F0F0F0;\\n  white-space: nowrap;\\n}\\n.app-footer .row {\\n  padding: 4px 0;\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset;\\n}\\n.app-footer .row + .row {\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset, 0 1px 0 0 rgba(255, 255, 255, 0.9) inset;\\n}\\n.app-footer .row:first-child .col-xs-6 {\\n  padding: 6px 0px;\\n}\\n.app-footer a {\\n  display: block;\\n  padding: 5px 0px;\\n  text-align: center;\\n  border-radius: 4px;\\n  border: 1px solid transparent;\\n}\\n.app-footer a:hover {\\n  background: rgba(51, 122, 183, 0.15);\\n  border: 1px solid rgba(51, 122, 183, 0.29);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".app-header {\\n  color: #1f3d5c;\\n  padding: 5px 0 0;\\n  background: linear-gradient(#DFDFDF, #EEE 5px, #e2e2e2);\\n  position: relative;\\n  z-index: 3;\\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.5);\\n  text-shadow: 0 1px 0 #FFF;\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: column;\\n}\\n.app-header .nav.nav-tabs {\\n  padding-left: 5px;\\n}\\n.app-header .nav.nav-tabs a {\\n  padding: 5px 10px;\\n}\\n.app-header .tab-content {\\n  background: linear-gradient(#FFF, #F6F6F6);\\n  border: 0;\\n  border-bottom: 1px solid #BBB;\\n  padding: 5px 5px 0;\\n  border-radius: 0;\\n  font-size: small;\\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.1);\\n}\\n.app-header .badge {\\n  text-shadow: 0 0 1px #FFF;\\n  background: rgba(0, 0, 0, 0.08);\\n  color: #444;\\n  font-weight: 400;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.2) inset;\\n}\\n.app-header .advanced-label {\\n  margin: 7px 6px 0 0;\\n}\\n.app-header .advanced-label input[type=\\\"checkbox\\\"] {\\n  margin: 0;\\n  vertical-align: middle;\\n}\\n.app-header .form-group {\\n  margin-bottom: 5px;\\n}\\n.app-header label,\\n.app-header .alert {\\n  margin-bottom: 3px;\\n}\\n.app-header .alert {\\n  padding: 5px 10px;\\n}\\n.app-header .btn-submit {\\n  margin: 4px 5px 0 auto;\\n  padding: 3px 8px;\\n  box-shadow: -13px 3px 0px -6px #e3e3e3, 13px 3px 0px -6px #e3e3e3, 0px 1px 0px 2px #e3e3e3, 0 2px 0 2px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.4), 0px 1px 1px -1px #FFF inset, 0px -17px 0px -5px rgba(0, 0, 0, 0.05) inset;\\n  border-radius: 30px;\\n  text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.25), 0 0 1px rgba(0, 0, 0, 0.5);\\n  border-color: rgba(0, 0, 0, 0.5);\\n  position: relative;\\n  z-index: 100000000;\\n  min-width: 10%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".loader {\\n  background: rgba(255, 255, 255, 0.5);\\n  text-align: center;\\n  position: absolute;\\n  z-index: 2;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  border-radius: inherit;\\n}\\n.loader div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  font-size: 18px;\\n  transform: translate(-50%, -50%);\\n  background: #FFF;\\n  border-radius: 5px;\\n  padding: 1ex 2em;\\n  box-shadow: 0 0 1px 0px rgba(0, 0, 0, 0.5), 0 0 15px 1px rgba(0, 0, 0, 0.15);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".patient-detail-page {\\n  overflow: auto;\\n  padding: 65px 0 50px;\\n  display: block;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-detail-page > .container {\\n  width: 100%;\\n}\\n.patient-detail-page .navigator {\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a {\\n  white-space: nowrap;\\n  padding: 8px 15px;\\n  margin: 5px 0;\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-detail-page .navigator .fa {\\n  margin: 0 5px;\\n}\\n.patient-detail-page .embed-responsive {\\n  padding-bottom: 100%;\\n}\\n.patient-detail-page .page-header {\\n  margin: 0;\\n  padding-bottom: 1.5ex;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient {\\n  background: transparent;\\n  padding: 0;\\n  border: 0;\\n  box-shadow: none;\\n  position: relative;\\n}\\n.patient-detail-page .patient .text-left {\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient-row {\\n  background: rgba(0, 0, 0, 0.05);\\n  border-radius: 3px;\\n  margin-bottom: 5px;\\n  padding: 5px;\\n}\\n.patient-detail-page .patient-row:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.patient-detail-page .patient-row ~ .row > div {\\n  padding: 3px 5px;\\n}\\n.patient-detail-page .patient-row h3 {\\n  margin: 0;\\n  line-height: 1.45em;\\n}\\n.patient-detail-page .patient-row .label {\\n  margin: 8px 0 0 12px;\\n  font-size: 13px;\\n}\\n.patient-detail-page .patient-row .btn {\\n  min-width: 7em;\\n  margin: 2px;\\n}\\n.patient-detail-page .patient-image-wrap {\\n  margin-right: 1ex;\\n}\\n.patient-detail-page .patient-name {\\n  font-size: 24px;\\n}\\n.patient-detail-page td,\\n.patient-detail-page th {\\n  font-size: 13px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .text-muted,\\n.patient-detail-page th .text-muted {\\n  font-weight: 400;\\n}\\n.patient-detail-page td b,\\n.patient-detail-page th b {\\n  font-weight: 500;\\n}\\n.patient-detail-page td label,\\n.patient-detail-page th label {\\n  margin-bottom: 0;\\n}\\n.patient-detail-page td td,\\n.patient-detail-page th td {\\n  vertical-align: top;\\n  font-size: 12px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .label-cell,\\n.patient-detail-page th .label-cell {\\n  color: #888;\\n  white-space: nowrap;\\n  text-align: right;\\n  font-weight: 400;\\n  padding-right: 1ex;\\n}\\n.patient-detail-page td .label-cell:after,\\n.patient-detail-page th .label-cell:after {\\n  content: \\\": \\\";\\n}\\n.patient-detail-page td {\\n  font-weight: 500;\\n}\\n.patient-detail-page th {\\n  font-weight: 700;\\n}\\n.patient-detail-page thead th .glyphicon,\\n.patient-detail-page thead th .fa {\\n  text-shadow: 0 1px 2px #FFF, 0 0 0px #214b6f;\\n  color: rgba(51, 122, 183, 0.3);\\n}\\n.patient-detail-page .patient-details {\\n  white-space: normal;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .badge {\\n  opacity: 0.75;\\n  margin: 0 0 0 2px;\\n}\\n.patient-detail-page .patient-details table a {\\n  white-space: normal;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .panel-heading {\\n  text-shadow: 0 1px 0 #FFF;\\n}\\n.patient-detail-page .list-group-item {\\n  padding-top: 7px;\\n  padding-bottom: 7px;\\n}\\n.patient-detail-page .group-header {\\n  cursor: pointer;\\n  background: linear-gradient(90deg, #ebf2f8, #f5f8fb);\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-header .glyphicon-triangle-bottom {\\n  position: relative;\\n  top: 2px;\\n}\\n.patient-detail-page .group-header ~ tr > td:first-child {\\n  text-indent: 17px;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child {\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child:before {\\n  content: \\\"\\\\E250\\\";\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  font-family: 'Glyphicons Halflings';\\n  font-style: normal;\\n  font-weight: 400;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  margin-right: 3px;\\n  opacity: 0.3;\\n}\\n.patient-detail-page .table-responsive {\\n  border: none !important;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".patient-image-wrap {\\n  height: 80px;\\n  width: 80px;\\n  background: #F6F6F6;\\n  border-radius: 3px;\\n  text-align: center;\\n  position: relative;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.5) inset, 0 0 1px 1px #FFF;\\n  background-size: cover;\\n  background-position: center;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".patient-search-results {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  background: #FFF;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-search-results .male {\\n  color: #369;\\n}\\n.patient-search-results .female {\\n  color: #936;\\n}\\n.patient-search-results .patient {\\n  position: relative;\\n  padding: 1ex;\\n  cursor: pointer;\\n  flex-flow: 0;\\n  flex-shrink: 0;\\n  align-items: center;\\n  display: flex;\\n  transition: background 0.1s;\\n  color: #444;\\n  text-decoration: none;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.85) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n}\\n.patient-search-results .patient:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-search-results .patient .patient-select-zone {\\n  display: inline-block;\\n  vertical-align: middle;\\n  height: 54px;\\n  line-height: 54px;\\n  width: 30px;\\n  border-radius: 3px;\\n  text-align: center;\\n  color: #369;\\n  min-width: 30px;\\n}\\n.patient-search-results .patient .patient-select-zone:hover {\\n  background: rgba(51, 102, 153, 0.1);\\n}\\n.patient-search-results .patient .fa-angle-right {\\n  opacity: 0.5;\\n  font-size: 20px;\\n  display: flex;\\n  flex-basis: 1em;\\n}\\n.patient-search-results .patient .patient-image-wrap {\\n  height: 54px;\\n  width: 54px;\\n  margin: 0 1ex;\\n}\\n.patient-search-results .patient .patient-info {\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info > b {\\n  font-size: 16px;\\n  line-height: 1;\\n  display: block;\\n  margin-bottom: 2px;\\n}\\n.patient-search-results .patient .patient-info small {\\n  opacity: 0.7;\\n  display: block;\\n}\\n.patient-search-results .patient .patient-info footer {\\n  opacity: 0.7;\\n  display: flex;\\n  flex-direction: row;\\n  margin-top: 5px;\\n}\\n.patient-search-results .patient .patient-info footer > span {\\n  display: flex;\\n  flex-basis: 14em;\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info footer > span + span {\\n  margin-left: 2em;\\n}\\n.patient-search-results .patient.selected {\\n  background: #369;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.05) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n  text-shadow: 0 0 1px #000;\\n}\\n.patient-search-results .patient.selected,\\n.patient-search-results .patient.selected * {\\n  color: #FFF;\\n}\\n.patient-search-results .patient.selected .patient-image-wrap {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 0 0.5px rgba(255, 255, 255, 0.5) inset;\\n}\\n.patient-search-results .patient.selected .patient-select-zone:hover {\\n  background: rgba(255, 255, 255, 0.07);\\n}\\n.patient-search-results .patient.selected:hover {\\n  background: #2f5e8e;\\n}\\n@media (max-width: 480px) {\\n  .patient-search-results .patient .patient-info footer span + span {\\n    display: none;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 251 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sort-widget {\\n  padding: 0 5px;\\n  float: left;\\n  width: 100%;\\n}\\n.sort-widget > span {\\n  padding: 6px 1ex 0 0;\\n  font-weight: bold;\\n}\\n.sort-widget .nav.nav-pills li {\\n  margin: 3px 3px 3px 0;\\n}\\n.sort-widget .nav.nav-pills li a {\\n  padding: 4px 8px;\\n}\\n.sort-widget .nav.nav-pills li a .sort {\\n  opacity: 0.6;\\n}\\n.sort-widget .nav.nav-pills li.active a,\\n.sort-widget .nav.nav-pills li:hover a,\\n.sort-widget .nav.nav-pills li:active a,\\n.sort-widget .nav.nav-pills li a:focus {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2) inset;\\n}\\n.sort-widget .nav.nav-pills li.active a {\\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 252 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tag-selector {\\n  position: relative;\\n  display: block;\\n  width: 100%;\\n  color: #000;\\n  min-width: 200px;\\n  font-size: small;\\n}\\n.tag-selector .tags {\\n  margin-bottom: 4px;\\n}\\n.tag-selector input {\\n  padding-right: 24px;\\n}\\n.tag-selector .tag {\\n  margin: 1px 6px 1px 0px;\\n  padding: 3px 26px 3px 6px;\\n  background: #DC9;\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5) inset;\\n  border-radius: 3px;\\n  color: #520;\\n  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);\\n  display: inline-block;\\n  position: relative;\\n  font-weight: 500;\\n  line-height: 1.2;\\n  font-size: 12px;\\n  cursor: default;\\n}\\n.tag-selector .tag:last-of-type {\\n  margin-right: 0;\\n}\\n.tag-selector .tag .tag-remove {\\n  position: absolute;\\n  top: 4px;\\n  right: 5px;\\n  color: rgba(0, 0, 0, 0.4);\\n  text-shadow: none;\\n  opacity: 0.6;\\n}\\n.tag-selector .tag:hover {\\n  background-color: #d7c286;\\n}\\n.tag-selector .tag:hover .tag-remove {\\n  opacity: 0.5;\\n}\\n.tag-selector .tag:hover .tag-remove:hover {\\n  opacity: 1;\\n  color: #900;\\n}\\n.tag-selector .tag.custom {\\n  background: #adc2d6;\\n  color: #19334d;\\n}\\n.tag-selector .tag.custom:hover {\\n  background-color: #9cb5ce;\\n}\\n.tag-selector .menu {\\n  padding: 4px;\\n  top: 100%;\\n  width: 100%;\\n  text-align: left;\\n  max-height: 50vh;\\n  overflow: auto;\\n  z-index: 10000000000;\\n}\\n.tag-selector .menu-item {\\n  padding: 5px 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  cursor: default;\\n}\\n.tag-selector .menu-item small {\\n  line-height: 1.4;\\n  font-weight: 400;\\n}\\n.tag-selector .menu-item .code {\\n  width: 110px;\\n  display: inline-block;\\n  text-align: right;\\n  padding-right: 1ex;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  float: left;\\n  margin: 1px 0 -1px;\\n}\\n.tag-selector .menu-item:hover {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n.tag-selector .menu-item.selected {\\n  color: #FFF;\\n  background: #369;\\n  text-shadow: 0 0 1px #000000;\\n}\\n.tag-selector .menu-item.selected small {\\n  color: rgba(255, 255, 255, 0.6);\\n  text-shadow: none;\\n}\\n.tag-selector .menu-item.selected .tag.custom {\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5);\\n}\\n.tag-selector .menu-item.custom {\\n  font-weight: bold;\\n  cursor: pointer;\\n  padding: 3px 10px;\\n}\\n.tag-selector .menu-item.custom + .menu-item {\\n  position: relative;\\n  overflow: visible;\\n  margin-top: 9px;\\n}\\n.tag-selector .menu-item.custom + .menu-item:before {\\n  content: \\\"\\\";\\n  display: block;\\n  height: 1px;\\n  background: #CCC;\\n  position: absolute;\\n  top: -5px;\\n  left: 0;\\n  right: 0;\\n}\\n.tag-selector .menu-item.custom .tag {\\n  margin: 0 1px;\\n  padding: 3px 6px;\\n  line-height: 1;\\n}\\n.tag-selector.open {\\n  outline: none;\\n}\\n.tag-selector .fa.fa-caret-down {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 253 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n\n\n/***/ }),\n/* 254 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * for-in <https://github.com/jonschlinkert/for-in>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nmodule.exports = function forIn(obj, fn, thisArg) {\n  for (var key in obj) {\n    if (fn.call(thisArg, obj[key], key, obj) === false) {\n      break;\n    }\n  }\n};\n\n\n/***/ }),\n/* 255 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nfunction _interopDefault(t){return t&&\"object\"==typeof t&&\"default\"in t?t.default:t}Object.defineProperty(exports,\"__esModule\",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(215)),valueEqual=_interopDefault(__webpack_require__(218));__webpack_require__(217);var invariant=_interopDefault(__webpack_require__(216));function _extends(){return(_extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}).apply(this,arguments)}function addLeadingSlash(t){return\"/\"===t.charAt(0)?t:\"/\"+t}function stripLeadingSlash(t){return\"/\"===t.charAt(0)?t.substr(1):t}function hasBasename(t,n){return 0===t.toLowerCase().indexOf(n.toLowerCase())&&-1!==\"/?#\".indexOf(t.charAt(n.length))}function stripBasename(t,n){return hasBasename(t,n)?t.substr(n.length):t}function stripTrailingSlash(t){return\"/\"===t.charAt(t.length-1)?t.slice(0,-1):t}function parsePath(t){var n=t||\"/\",e=\"\",a=\"\",r=n.indexOf(\"#\");-1!==r&&(a=n.substr(r),n=n.substr(0,r));var o=n.indexOf(\"?\");return-1!==o&&(e=n.substr(o),n=n.substr(0,o)),{pathname:n,search:\"?\"===e?\"\":e,hash:\"#\"===a?\"\":a}}function createPath(t){var n=t.pathname,e=t.search,a=t.hash,r=n||\"/\";return e&&\"?\"!==e&&(r+=\"?\"===e.charAt(0)?e:\"?\"+e),a&&\"#\"!==a&&(r+=\"#\"===a.charAt(0)?a:\"#\"+a),r}function createLocation(t,n,e,a){var r;\"string\"==typeof t?(r=parsePath(t)).state=n:(void 0===(r=_extends({},t)).pathname&&(r.pathname=\"\"),r.search?\"?\"!==r.search.charAt(0)&&(r.search=\"?\"+r.search):r.search=\"\",r.hash?\"#\"!==r.hash.charAt(0)&&(r.hash=\"#\"+r.hash):r.hash=\"\",void 0!==n&&void 0===r.state&&(r.state=n));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname \"'+r.pathname+'\" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(r.key=e),a?r.pathname?\"/\"!==r.pathname.charAt(0)&&(r.pathname=resolvePathname(r.pathname,a.pathname)):r.pathname=a.pathname:r.pathname||(r.pathname=\"/\"),r}function locationsAreEqual(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&valueEqual(t.state,n.state)}function createTransitionManager(){var o=null;var a=[];return{setPrompt:function(t){return o=t,function(){o===t&&(o=null)}},confirmTransitionTo:function(t,n,e,a){if(null!=o){var r=\"function\"==typeof o?o(t,n):o;\"string\"==typeof r?\"function\"==typeof e?e(r,a):a(!0):a(!1!==r)}else a(!0)},appendListener:function(t){var n=!0;function e(){n&&t.apply(void 0,arguments)}return a.push(e),function(){n=!1,a=a.filter(function(t){return t!==e})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];a.forEach(function(t){return t.apply(void 0,n)})}}}var canUseDOM=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);function getConfirmation(t,n){n(window.confirm(t))}function supportsHistory(){var t=window.navigator.userAgent;return(-1===t.indexOf(\"Android 2.\")&&-1===t.indexOf(\"Android 4.0\")||-1===t.indexOf(\"Mobile Safari\")||-1!==t.indexOf(\"Chrome\")||-1!==t.indexOf(\"Windows Phone\"))&&(window.history&&\"pushState\"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf(\"Trident\")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf(\"Firefox\")}function isExtraneousPopstateEvent(t){return void 0===t.state&&-1===navigator.userAgent.indexOf(\"CriOS\")}var PopStateEvent=\"popstate\",HashChangeEvent=\"hashchange\";function getHistoryState(){try{return window.history.state||{}}catch(t){return{}}}function createBrowserHistory(t){void 0===t&&(t={}),canUseDOM||invariant(!1);var s=window.history,c=supportsHistory(),n=!supportsPopStateOnHashChange(),e=t,a=e.forceRefresh,h=void 0!==a&&a,r=e.getUserConfirmation,u=void 0===r?getConfirmation:r,o=e.keyLength,i=void 0===o?6:o,f=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):\"\";function l(t){var n=t||{},e=n.key,a=n.state,r=window.location,o=r.pathname+r.search+r.hash;return f&&(o=stripBasename(o,f)),createLocation(o,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(t){_extends(T,t),T.length=s.length,v.notifyListeners(T.location,T.action)}function g(t){isExtraneousPopstateEvent(t)||w(l(t.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(n){if(m)m=!1,p();else{v.confirmTransitionTo(n,\"POP\",u,function(t){t?p({action:\"POP\",location:n}):function(t){var n=T.location,e=H.indexOf(n.key);-1===e&&(e=0);var a=H.indexOf(t.key);-1===a&&(a=0);var r=e-a;r&&(m=!0,L(r))}(n)})}}var y=l(getHistoryState()),H=[y.key];function x(t){return f+createPath(t)}function L(t){s.go(t)}var O=0;function E(t){1===(O+=t)&&1===t?(window.addEventListener(PopStateEvent,g),n&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),n&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:s.length,action:\"POP\",location:y,createHref:x,push:function(t,n){var i=createLocation(t,n,d(),T.location);v.confirmTransitionTo(i,\"PUSH\",u,function(t){if(t){var n=x(i),e=i.key,a=i.state;if(c)if(s.pushState({key:e,state:a},null,n),h)window.location.href=n;else{var r=H.indexOf(T.location.key),o=H.slice(0,r+1);o.push(i.key),H=o,p({action:\"PUSH\",location:i})}else window.location.href=n}})},replace:function(t,n){var o=\"REPLACE\",i=createLocation(t,n,d(),T.location);v.confirmTransitionTo(i,o,u,function(t){if(t){var n=x(i),e=i.key,a=i.state;if(c)if(s.replaceState({key:e,state:a},null,n),h)window.location.replace(n);else{var r=H.indexOf(T.location.key);-1!==r&&(H[r]=i.key),p({action:o,location:i})}else window.location.replace(n)}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var n=v.setPrompt(t);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),n()}},listen:function(t){var n=v.appendListener(t);return E(1),function(){E(-1),n()}}};return T}var HashChangeEvent$1=\"hashchange\",HashPathCoders={hashbang:{encodePath:function(t){return\"!\"===t.charAt(0)?t:\"!/\"+stripLeadingSlash(t)},decodePath:function(t){return\"!\"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(t){var n=t.indexOf(\"#\");return-1===n?t:t.slice(0,n)}function getHashPath(){var t=window.location.href,n=t.indexOf(\"#\");return-1===n?\"\":t.substring(n+1)}function pushHashPath(t){window.location.hash=t}function replaceHashPath(t){window.location.replace(stripHash(window.location.href)+\"#\"+t)}function createHashHistory(t){void 0===t&&(t={}),canUseDOM||invariant(!1);var n=window.history,e=(supportsGoWithoutReloadUsingHash(),t),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,r=e.hashType,o=void 0===r?\"slash\":r,s=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):\"\",c=HashPathCoders[o],h=c.encodePath,u=c.decodePath;function f(){var t=u(getHashPath());return s&&(t=stripBasename(t,s)),createLocation(t)}var l=createTransitionManager();function d(t){_extends(E,t),E.length=n.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var t=getHashPath(),n=h(t);if(t!==n)replaceHashPath(n);else{var e=f(),a=E.location;if(!v&&function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash}(a,e))return;if(p===createPath(e))return;p=null,function(n){if(v)v=!1,d();else{l.confirmTransitionTo(n,\"POP\",i,function(t){t?d({action:\"POP\",location:n}):function(t){var n=E.location,e=y.lastIndexOf(createPath(n));-1===e&&(e=0);var a=y.lastIndexOf(createPath(t));-1===a&&(a=0);var r=e-a;r&&(v=!0,H(r))}(n)})}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(t){n.go(t)}var x=0;function L(t){1===(x+=t)&&1===t?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:n.length,action:\"POP\",location:w,createHref:function(t){var n=document.querySelector(\"base\"),e=\"\";return n&&n.getAttribute(\"href\")&&(e=stripHash(window.location.href)),e+\"#\"+h(s+createPath(t))},push:function(t,n){var o=createLocation(t,void 0,void 0,E.location);l.confirmTransitionTo(o,\"PUSH\",i,function(t){if(t){var n=createPath(o),e=h(s+n);if(getHashPath()!==e){p=n,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),r=y.slice(0,a+1);r.push(n),y=r,d({action:\"PUSH\",location:o})}else d()}})},replace:function(t,n){var r=\"REPLACE\",o=createLocation(t,void 0,void 0,E.location);l.confirmTransitionTo(o,r,i,function(t){if(t){var n=createPath(o),e=h(s+n);getHashPath()!==e&&(p=n,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=n),d({action:r,location:o})}})},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(t){void 0===t&&(t=!1);var n=l.setPrompt(t);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),n()}},listen:function(t){var n=l.appendListener(t);return L(1),function(){L(-1),n()}}};return E}function clamp(t,n,e){return Math.min(Math.max(t,n),e)}function createMemoryHistory(t){void 0===t&&(t={});var n=t,r=n.getUserConfirmation,e=n.initialEntries,a=void 0===e?[\"/\"]:e,o=n.initialIndex,i=void 0===o?0:o,s=n.keyLength,c=void 0===s?6:s,h=createTransitionManager();function u(t){_extends(g,t),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,c)}var l=clamp(i,0,a.length-1),d=a.map(function(t){return createLocation(t,void 0,\"string\"==typeof t?f():t.key||f())}),v=createPath;function p(t){var n=clamp(g.index+t,0,g.entries.length-1),e=g.entries[n];h.confirmTransitionTo(e,\"POP\",r,function(t){t?u({action:\"POP\",location:e,index:n}):u()})}var g={length:d.length,action:\"POP\",location:d[l],index:l,entries:d,createHref:v,push:function(t,n){var a=createLocation(t,n,f(),g.location);h.confirmTransitionTo(a,\"PUSH\",r,function(t){if(t){var n=g.index+1,e=g.entries.slice(0);e.length>n?e.splice(n,e.length-n,a):e.push(a),u({action:\"PUSH\",location:a,index:n,entries:e})}})},replace:function(t,n){var e=\"REPLACE\",a=createLocation(t,n,f(),g.location);h.confirmTransitionTo(a,e,r,function(t){t&&(g.entries[g.index]=a,u({action:e,location:a}))})},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(t){var n=g.index+t;return 0<=n&&n<g.entries.length},block:function(t){return void 0===t&&(t=!1),h.setPrompt(t)},listen:function(t){return h.appendListener(t)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath;\n\n\n/***/ }),\n/* 256 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n__webpack_require__(258)('createHashHistory');\nmodule.exports = __webpack_require__(257).createHashHistory;\n\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (true) {\n  module.exports = __webpack_require__(255);\n} else {\n  module.exports = require('./cjs/history.js');\n}\n\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar printWarning = function() {};\n\nif (false) {\n  printWarning = function(format, subs) {\n    var index = 0;\n    var message =\n      'Warning: ' +\n      (subs.length > 0\n        ? format.replace(/%s/g, function() {\n            return subs[index++];\n          })\n        : format);\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging history ---\n      // This error was thrown as a convenience so that you can use the\n      // stack trace to find the callsite that triggered this warning.\n      throw new Error(message);\n    } catch (e) {}\n  };\n}\n\nmodule.exports = function(member) {\n  printWarning(\n    'Please use `require(\"history\").%s` instead of `require(\"history/%s\")`. ' +\n      'Support for the latter will be removed in the next major release.',\n    [member, member]\n  );\n};\n\n\n/***/ }),\n/* 259 */,\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nvar isPlainObject = __webpack_require__(261);\n\nmodule.exports = function isExtendable(val) {\n  return isPlainObject(val) || typeof val === 'function' || Array.isArray(val);\n};\n\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nvar isObject = __webpack_require__(263);\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n\n\n/***/ }),\n/* 262 */,\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// json5.js\n// Modern JSON. See README.md for details.\n//\n// This file is based directly off of Douglas Crockford's json_parse.js:\n// https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js\n\nvar JSON5 = ( true ? exports : {});\n\nJSON5.parse = (function () {\n    \"use strict\";\n\n// This is a function that can parse a JSON5 text, producing a JavaScript\n// data structure. It is a simple, recursive descent parser. It does not use\n// eval or regular expressions, so it can be used as a model for implementing\n// a JSON5 parser in other languages.\n\n// We are defining the function inside of another function to avoid creating\n// global variables.\n\n    var at,           // The index of the current character\n        lineNumber,   // The current line number\n        columnNumber, // The current column number\n        ch,           // The current character\n        escapee = {\n            \"'\":  \"'\",\n            '\"':  '\"',\n            '\\\\': '\\\\',\n            '/':  '/',\n            '\\n': '',       // Replace escaped newlines in strings w/ empty string\n            b:    '\\b',\n            f:    '\\f',\n            n:    '\\n',\n            r:    '\\r',\n            t:    '\\t'\n        },\n        ws = [\n            ' ',\n            '\\t',\n            '\\r',\n            '\\n',\n            '\\v',\n            '\\f',\n            '\\xA0',\n            '\\uFEFF'\n        ],\n        text,\n\n        renderChar = function (chr) {\n            return chr === '' ? 'EOF' : \"'\" + chr + \"'\";\n        },\n\n        error = function (m) {\n\n// Call error when something is wrong.\n\n            var error = new SyntaxError();\n            // beginning of message suffix to agree with that provided by Gecko - see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\n            error.message = m + \" at line \" + lineNumber + \" column \" + columnNumber + \" of the JSON5 data. Still to read: \" + JSON.stringify(text.substring(at - 1, at + 19));\n            error.at = at;\n            // These two property names have been chosen to agree with the ones in Gecko, the only popular\n            // environment which seems to supply this info on JSON.parse\n            error.lineNumber = lineNumber;\n            error.columnNumber = columnNumber;\n            throw error;\n        },\n\n        next = function (c) {\n\n// If a c parameter is provided, verify that it matches the current character.\n\n            if (c && c !== ch) {\n                error(\"Expected \" + renderChar(c) + \" instead of \" + renderChar(ch));\n            }\n\n// Get the next character. When there are no more characters,\n// return the empty string.\n\n            ch = text.charAt(at);\n            at++;\n            columnNumber++;\n            if (ch === '\\n' || ch === '\\r' && peek() !== '\\n') {\n                lineNumber++;\n                columnNumber = 0;\n            }\n            return ch;\n        },\n\n        peek = function () {\n\n// Get the next character without consuming it or\n// assigning it to the ch varaible.\n\n            return text.charAt(at);\n        },\n\n        identifier = function () {\n\n// Parse an identifier. Normally, reserved words are disallowed here, but we\n// only use this for unquoted object keys, where reserved words are allowed,\n// so we don't check for those here. References:\n// - http://es5.github.com/#x7.6\n// - https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Variables\n// - http://docstore.mik.ua/orelly/webprog/jscript/ch02_07.htm\n// TODO Identifiers can have Unicode \"letters\" in them; add support for those.\n\n            var key = ch;\n\n            // Identifiers must start with a letter, _ or $.\n            if ((ch !== '_' && ch !== '$') &&\n                    (ch < 'a' || ch > 'z') &&\n                    (ch < 'A' || ch > 'Z')) {\n                error(\"Bad identifier as unquoted key\");\n            }\n\n            // Subsequent characters can contain digits.\n            while (next() && (\n                    ch === '_' || ch === '$' ||\n                    (ch >= 'a' && ch <= 'z') ||\n                    (ch >= 'A' && ch <= 'Z') ||\n                    (ch >= '0' && ch <= '9'))) {\n                key += ch;\n            }\n\n            return key;\n        },\n\n        number = function () {\n\n// Parse a number value.\n\n            var number,\n                sign = '',\n                string = '',\n                base = 10;\n\n            if (ch === '-' || ch === '+') {\n                sign = ch;\n                next(ch);\n            }\n\n            // support for Infinity (could tweak to allow other words):\n            if (ch === 'I') {\n                number = word();\n                if (typeof number !== 'number' || isNaN(number)) {\n                    error('Unexpected word for number');\n                }\n                return (sign === '-') ? -number : number;\n            }\n\n            // support for NaN\n            if (ch === 'N' ) {\n              number = word();\n              if (!isNaN(number)) {\n                error('expected word to be NaN');\n              }\n              // ignore sign as -NaN also is NaN\n              return number;\n            }\n\n            if (ch === '0') {\n                string += ch;\n                next();\n                if (ch === 'x' || ch === 'X') {\n                    string += ch;\n                    next();\n                    base = 16;\n                } else if (ch >= '0' && ch <= '9') {\n                    error('Octal literal');\n                }\n            }\n\n            switch (base) {\n            case 10:\n                while (ch >= '0' && ch <= '9' ) {\n                    string += ch;\n                    next();\n                }\n                if (ch === '.') {\n                    string += '.';\n                    while (next() && ch >= '0' && ch <= '9') {\n                        string += ch;\n                    }\n                }\n                if (ch === 'e' || ch === 'E') {\n                    string += ch;\n                    next();\n                    if (ch === '-' || ch === '+') {\n                        string += ch;\n                        next();\n                    }\n                    while (ch >= '0' && ch <= '9') {\n                        string += ch;\n                        next();\n                    }\n                }\n                break;\n            case 16:\n                while (ch >= '0' && ch <= '9' || ch >= 'A' && ch <= 'F' || ch >= 'a' && ch <= 'f') {\n                    string += ch;\n                    next();\n                }\n                break;\n            }\n\n            if(sign === '-') {\n                number = -string;\n            } else {\n                number = +string;\n            }\n\n            if (!isFinite(number)) {\n                error(\"Bad number\");\n            } else {\n                return number;\n            }\n        },\n\n        string = function () {\n\n// Parse a string value.\n\n            var hex,\n                i,\n                string = '',\n                delim,      // double quote or single quote\n                uffff;\n\n// When parsing for string values, we must look for ' or \" and \\ characters.\n\n            if (ch === '\"' || ch === \"'\") {\n                delim = ch;\n                while (next()) {\n                    if (ch === delim) {\n                        next();\n                        return string;\n                    } else if (ch === '\\\\') {\n                        next();\n                        if (ch === 'u') {\n                            uffff = 0;\n                            for (i = 0; i < 4; i += 1) {\n                                hex = parseInt(next(), 16);\n                                if (!isFinite(hex)) {\n                                    break;\n                                }\n                                uffff = uffff * 16 + hex;\n                            }\n                            string += String.fromCharCode(uffff);\n                        } else if (ch === '\\r') {\n                            if (peek() === '\\n') {\n                                next();\n                            }\n                        } else if (typeof escapee[ch] === 'string') {\n                            string += escapee[ch];\n                        } else {\n                            break;\n                        }\n                    } else if (ch === '\\n') {\n                        // unescaped newlines are invalid; see:\n                        // https://github.com/aseemk/json5/issues/24\n                        // TODO this feels special-cased; are there other\n                        // invalid unescaped chars?\n                        break;\n                    } else {\n                        string += ch;\n                    }\n                }\n            }\n            error(\"Bad string\");\n        },\n\n        inlineComment = function () {\n\n// Skip an inline comment, assuming this is one. The current character should\n// be the second / character in the // pair that begins this inline comment.\n// To finish the inline comment, we look for a newline or the end of the text.\n\n            if (ch !== '/') {\n                error(\"Not an inline comment\");\n            }\n\n            do {\n                next();\n                if (ch === '\\n' || ch === '\\r') {\n                    next();\n                    return;\n                }\n            } while (ch);\n        },\n\n        blockComment = function () {\n\n// Skip a block comment, assuming this is one. The current character should be\n// the * character in the /* pair that begins this block comment.\n// To finish the block comment, we look for an ending */ pair of characters,\n// but we also watch for the end of text before the comment is terminated.\n\n            if (ch !== '*') {\n                error(\"Not a block comment\");\n            }\n\n            do {\n                next();\n                while (ch === '*') {\n                    next('*');\n                    if (ch === '/') {\n                        next('/');\n                        return;\n                    }\n                }\n            } while (ch);\n\n            error(\"Unterminated block comment\");\n        },\n\n        comment = function () {\n\n// Skip a comment, whether inline or block-level, assuming this is one.\n// Comments always begin with a / character.\n\n            if (ch !== '/') {\n                error(\"Not a comment\");\n            }\n\n            next('/');\n\n            if (ch === '/') {\n                inlineComment();\n            } else if (ch === '*') {\n                blockComment();\n            } else {\n                error(\"Unrecognized comment\");\n            }\n        },\n\n        white = function () {\n\n// Skip whitespace and comments.\n// Note that we're detecting comments by only a single / character.\n// This works since regular expressions are not valid JSON(5), but this will\n// break if there are other valid values that begin with a / character!\n\n            while (ch) {\n                if (ch === '/') {\n                    comment();\n                } else if (ws.indexOf(ch) >= 0) {\n                    next();\n                } else {\n                    return;\n                }\n            }\n        },\n\n        word = function () {\n\n// true, false, or null.\n\n            switch (ch) {\n            case 't':\n                next('t');\n                next('r');\n                next('u');\n                next('e');\n                return true;\n            case 'f':\n                next('f');\n                next('a');\n                next('l');\n                next('s');\n                next('e');\n                return false;\n            case 'n':\n                next('n');\n                next('u');\n                next('l');\n                next('l');\n                return null;\n            case 'I':\n                next('I');\n                next('n');\n                next('f');\n                next('i');\n                next('n');\n                next('i');\n                next('t');\n                next('y');\n                return Infinity;\n            case 'N':\n              next( 'N' );\n              next( 'a' );\n              next( 'N' );\n              return NaN;\n            }\n            error(\"Unexpected \" + renderChar(ch));\n        },\n\n        value,  // Place holder for the value function.\n\n        array = function () {\n\n// Parse an array value.\n\n            var array = [];\n\n            if (ch === '[') {\n                next('[');\n                white();\n                while (ch) {\n                    if (ch === ']') {\n                        next(']');\n                        return array;   // Potentially empty array\n                    }\n                    // ES5 allows omitting elements in arrays, e.g. [,] and\n                    // [,null]. We don't allow this in JSON5.\n                    if (ch === ',') {\n                        error(\"Missing array element\");\n                    } else {\n                        array.push(value());\n                    }\n                    white();\n                    // If there's no comma after this value, this needs to\n                    // be the end of the array.\n                    if (ch !== ',') {\n                        next(']');\n                        return array;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad array\");\n        },\n\n        object = function () {\n\n// Parse an object value.\n\n            var key,\n                object = {};\n\n            if (ch === '{') {\n                next('{');\n                white();\n                while (ch) {\n                    if (ch === '}') {\n                        next('}');\n                        return object;   // Potentially empty object\n                    }\n\n                    // Keys can be unquoted. If they are, they need to be\n                    // valid JS identifiers.\n                    if (ch === '\"' || ch === \"'\") {\n                        key = string();\n                    } else {\n                        key = identifier();\n                    }\n\n                    white();\n                    next(':');\n                    object[key] = value();\n                    white();\n                    // If there's no comma after this pair, this needs to be\n                    // the end of the object.\n                    if (ch !== ',') {\n                        next('}');\n                        return object;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad object\");\n        };\n\n    value = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n        white();\n        switch (ch) {\n        case '{':\n            return object();\n        case '[':\n            return array();\n        case '\"':\n        case \"'\":\n            return string();\n        case '-':\n        case '+':\n        case '.':\n            return number();\n        default:\n            return ch >= '0' && ch <= '9' ? number() : word();\n        }\n    };\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\n    return function (source, reviver) {\n        var result;\n\n        text = String(source);\n        at = 0;\n        lineNumber = 1;\n        columnNumber = 1;\n        ch = ' ';\n        result = value();\n        white();\n        if (ch) {\n            error(\"Syntax error\");\n        }\n\n// If there is a reviver function, we recursively walk the new structure,\n// passing each name/value pair to the reviver function for possible\n// transformation, starting with a temporary root object that holds the result\n// in an empty key. If there is not a reviver function, we simply return the\n// result.\n\n        return typeof reviver === 'function' ? (function walk(holder, key) {\n            var k, v, value = holder[key];\n            if (value && typeof value === 'object') {\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = walk(value, k);\n                        if (v !== undefined) {\n                            value[k] = v;\n                        } else {\n                            delete value[k];\n                        }\n                    }\n                }\n            }\n            return reviver.call(holder, key, value);\n        }({'': result}, '')) : result;\n    };\n}());\n\n// JSON5 stringify will not quote keys where appropriate\nJSON5.stringify = function (obj, replacer, space) {\n    if (replacer && (typeof(replacer) !== \"function\" && !isArray(replacer))) {\n        throw new Error('Replacer must be a function or an array');\n    }\n    var getReplacedValueOrUndefined = function(holder, key, isTopLevel) {\n        var value = holder[key];\n\n        // Replace the value with its toJSON value first, if possible\n        if (value && value.toJSON && typeof value.toJSON === \"function\") {\n            value = value.toJSON();\n        }\n\n        // If the user-supplied replacer if a function, call it. If it's an array, check objects' string keys for\n        // presence in the array (removing the key/value pair from the resulting JSON if the key is missing).\n        if (typeof(replacer) === \"function\") {\n            return replacer.call(holder, key, value);\n        } else if(replacer) {\n            if (isTopLevel || isArray(holder) || replacer.indexOf(key) >= 0) {\n                return value;\n            } else {\n                return undefined;\n            }\n        } else {\n            return value;\n        }\n    };\n\n    function isWordChar(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            (c >= '0' && c <= '9') ||\n            c === '_' || c === '$';\n    }\n\n    function isWordStart(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            c === '_' || c === '$';\n    }\n\n    function isWord(key) {\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (!isWordStart(key[0])) {\n            return false;\n        }\n        var i = 1, length = key.length;\n        while (i < length) {\n            if (!isWordChar(key[i])) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    }\n\n    // export for use in tests\n    JSON5.isWord = isWord;\n\n    // polyfills\n    function isArray(obj) {\n        if (Array.isArray) {\n            return Array.isArray(obj);\n        } else {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        }\n    }\n\n    function isDate(obj) {\n        return Object.prototype.toString.call(obj) === '[object Date]';\n    }\n\n    var objStack = [];\n    function checkForCircular(obj) {\n        for (var i = 0; i < objStack.length; i++) {\n            if (objStack[i] === obj) {\n                throw new TypeError(\"Converting circular structure to JSON\");\n            }\n        }\n    }\n\n    function makeIndent(str, num, noNewLine) {\n        if (!str) {\n            return \"\";\n        }\n        // indentation no more than 10 chars\n        if (str.length > 10) {\n            str = str.substring(0, 10);\n        }\n\n        var indent = noNewLine ? \"\" : \"\\n\";\n        for (var i = 0; i < num; i++) {\n            indent += str;\n        }\n\n        return indent;\n    }\n\n    var indentStr;\n    if (space) {\n        if (typeof space === \"string\") {\n            indentStr = space;\n        } else if (typeof space === \"number\" && space >= 0) {\n            indentStr = makeIndent(\" \", space, true);\n        } else {\n            // ignore space parameter\n        }\n    }\n\n    // Copied from Crokford's implementation of JSON\n    // See https://github.com/douglascrockford/JSON-js/blob/e39db4b7e6249f04a195e7dd0840e610cc9e941e/json2.js#L195\n    // Begin\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        meta = { // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    };\n    function escapeString(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string' ?\n                c :\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n    // End\n\n    function internalStringify(holder, key, isTopLevel) {\n        var buffer, res;\n\n        // Replace the value, if necessary\n        var obj_part = getReplacedValueOrUndefined(holder, key, isTopLevel);\n\n        if (obj_part && !isDate(obj_part)) {\n            // unbox objects\n            // don't unbox dates, since will turn it into number\n            obj_part = obj_part.valueOf();\n        }\n        switch(typeof obj_part) {\n            case \"boolean\":\n                return obj_part.toString();\n\n            case \"number\":\n                if (isNaN(obj_part) || !isFinite(obj_part)) {\n                    return \"null\";\n                }\n                return obj_part.toString();\n\n            case \"string\":\n                return escapeString(obj_part.toString());\n\n            case \"object\":\n                if (obj_part === null) {\n                    return \"null\";\n                } else if (isArray(obj_part)) {\n                    checkForCircular(obj_part);\n                    buffer = \"[\";\n                    objStack.push(obj_part);\n\n                    for (var i = 0; i < obj_part.length; i++) {\n                        res = internalStringify(obj_part, i, false);\n                        buffer += makeIndent(indentStr, objStack.length);\n                        if (res === null || typeof res === \"undefined\") {\n                            buffer += \"null\";\n                        } else {\n                            buffer += res;\n                        }\n                        if (i < obj_part.length-1) {\n                            buffer += \",\";\n                        } else if (indentStr) {\n                            buffer += \"\\n\";\n                        }\n                    }\n                    objStack.pop();\n                    if (obj_part.length) {\n                        buffer += makeIndent(indentStr, objStack.length, true)\n                    }\n                    buffer += \"]\";\n                } else {\n                    checkForCircular(obj_part);\n                    buffer = \"{\";\n                    var nonEmpty = false;\n                    objStack.push(obj_part);\n                    for (var prop in obj_part) {\n                        if (obj_part.hasOwnProperty(prop)) {\n                            var value = internalStringify(obj_part, prop, false);\n                            isTopLevel = false;\n                            if (typeof value !== \"undefined\" && value !== null) {\n                                buffer += makeIndent(indentStr, objStack.length);\n                                nonEmpty = true;\n                                key = isWord(prop) ? prop : escapeString(prop);\n                                buffer += key + \":\" + (indentStr ? ' ' : '') + value + \",\";\n                            }\n                        }\n                    }\n                    objStack.pop();\n                    if (nonEmpty) {\n                        buffer = buffer.substring(0, buffer.length-1) + makeIndent(indentStr, objStack.length) + \"}\";\n                    } else {\n                        buffer = '{}';\n                    }\n                }\n                return buffer;\n            default:\n                // functions and undefined should be ignored\n                return undefined;\n        }\n    }\n\n    // special case...when undefined is used inside of\n    // a compound object/array, return null.\n    // but when top-level, return undefined\n    var topLevelHolder = {\"\":obj};\n    if (obj === undefined) {\n        return getReplacedValueOrUndefined(topLevelHolder, '', true);\n    }\n    return internalStringify(topLevelHolder, '', true);\n};\n\n\n/***/ }),\n/* 265 */,\n/* 266 */,\n/* 267 */,\n/* 268 */,\n/* 269 */,\n/* 270 */,\n/* 271 */,\n/* 272 */,\n/* 273 */,\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isExtendable = __webpack_require__(260);\nvar forIn = __webpack_require__(254);\n\nfunction mixinDeep(target, objects) {\n  var len = arguments.length, i = 0;\n  while (++i < len) {\n    var obj = arguments[i];\n    if (isObject(obj)) {\n      forIn(obj, copy, target);\n    }\n  }\n  return target;\n}\n\n/**\n * Copy properties from the source object to the\n * target object.\n *\n * @param  {*} `val`\n * @param  {String} `key`\n */\n\nfunction copy(val, key) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  var obj = this[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    this[key] = val;\n  }\n}\n\n/**\n * Returns true if `val` is an object or function.\n *\n * @param  {any} val\n * @return {Boolean}\n */\n\nfunction isObject(val) {\n  return isExtendable(val) && !Array.isArray(val);\n}\n\n/**\n * Returns true if `key` is a valid key to use when extending objects.\n *\n * @param  {String} `key`\n * @return {Boolean}\n */\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\n/**\n * Expose `mixinDeep`\n */\n\nmodule.exports = mixinDeep;\n\n\n/***/ }),\n/* 275 */,\n/* 276 */,\n/* 277 */,\n/* 278 */,\n/* 279 */,\n/* 280 */,\n/* 281 */,\n/* 282 */,\n/* 283 */,\n/* 284 */,\n/* 285 */,\n/* 286 */,\n/* 287 */,\n/* 288 */,\n/* 289 */,\n/* 290 */,\n/* 291 */,\n/* 292 */,\n/* 293 */,\n/* 294 */,\n/* 295 */,\n/* 296 */,\n/* 297 */,\n/* 298 */,\n/* 299 */,\n/* 300 */,\n/* 301 */,\n/* 302 */,\n/* 303 */,\n/* 304 */,\n/* 305 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Popup\", function() { return Popup; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler(event);\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? __WEBPACK_IMPORTED_MODULE_0_react__[\"useLayoutEffect\"] : __WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"];\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (false) {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"forwardRef\"])(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(null);\n  var contentRef = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(null);\n  var arrowRef = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(null);\n  var focusedElBeforeOpen = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(null);\n  var popupId = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup(event) {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(function () {\n      return onOpen(event);\n    }, 0);\n  };\n\n  var closePopup = function closePopup(event) {\n    var _focusedElBeforeOpen$;\n\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) (_focusedElBeforeOpen$ = focusedElBeforeOpen.current) === null || _focusedElBeforeOpen$ === void 0 ? void 0 : _focusedElBeforeOpen$.focus();\n    setTimeout(function () {\n      return onClose(event);\n    }, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup(event);else closePopup(event);\n  };\n\n  var onMouseEnter = function onMouseEnter(event) {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(function () {\n      return openPopup(event);\n    }, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave(event) {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(function () {\n      return closePopup(event);\n    }, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__[\"useImperativeHandle\"])(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && __WEBPACK_IMPORTED_MODULE_0_react___default.a.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && __WEBPACK_IMPORTED_MODULE_0_react___default.a.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment, null, renderTrigger(), isOpen && __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.createPortal(content, getRootPopup()));\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Popup);\n\n//# sourceMappingURL=reactjs-popup.esm.js.map\n\n\n/***/ }),\n/* 306 */,\n/* 307 */,\n/* 308 */,\n/* 309 */,\n/* 310 */,\n/* 311 */,\n/* 312 */,\n/* 313 */,\n/* 314 */,\n/* 315 */,\n/* 316 */,\n/* 317 */,\n/* 318 */,\n/* 319 */,\n/* 320 */,\n/* 321 */,\n/* 322 */,\n/* 323 */,\n/* 324 */,\n/* 325 */,\n/* 326 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 327 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(242);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 328 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(243);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 329 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(244);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 330 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(245);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 331 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(246);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 332 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(247);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 333 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(248);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 334 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(249);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 335 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(250);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 336 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(251);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 337 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(252);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(6)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 338 */,\n/* 339 */,\n/* 340 */,\n/* 341 */,\n/* 342 */,\n/* 343 */,\n/* 344 */,\n/* 345 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(220);\n\n\n/***/ })\n],[345]);\n\n\n// WEBPACK FOOTER //\n// index.js","import * as React from \"react\"\nimport moment     from \"moment\"\nimport $          from \"jquery\"\n\n/**\n * Returns the int representation of the first argument or the\n * \"defaultValue\" if the int conversion is not possible.\n * @param {number|string} x The argument to convert\n * @param {number} defaultValue The fall-back return value. This will be\n *                              converted to integer too.\n * @return {Number} The resulting integer.\n */\nexport function intVal(x, defaultValue = 0) {\n    var out = parseInt(x + \"\", 10);\n    if (isNaN(out) || !isFinite(out)) {\n        out = intVal(defaultValue);\n    }\n    return out;\n}\n\n/**\n * Converts the argument to boolean value. \"0\" and \"no\" are recognized as false.\n * \"1\" and \"yes\" are recognized as true. Everything else is just !!var\n * @param {*} x The argument to convert\n * @returns {Boolean} The argument converted to boolean\n */\nexport function boolVal(x) {\n    return (/^(false|0|no)$/i).test(String(x)) ?\n        false :\n        (/^(true|1|yes)$/i).test(String(x)) ?\n            true :\n            !!x;\n}\n\n/**\n * Given some input argument, this function tries to treat it like an error and\n * extract an error message out of it. Supported input types are:\n * - String\n * - Error\n * - AJAX JSON response\n * - FHIR JSON response\n * - Object map of error messages\n * @param {*} input The input to analyse\n * @param {String|JSX.Element} error(s)\n */\nexport function getErrorMessage(input) {\n    if (input && typeof input == \"string\") {\n        return input;\n    }\n\n    let out = \"Unknown error\"\n\n    if (input && input instanceof Error) {\n        out = String(input);\n    }\n\n    else if (input && input.responseJSON) {\n        if (Array.isArray(input.responseJSON.issue) && input.responseJSON.issue.length) {\n            out = input.responseJSON.issue.map(o => o.diagnostics || \"-\").join(\"\\n\")\n        }\n        else {\n            out = (\n                input.responseJSON.message ||\n                input.responseJSON.error ||\n                \"Unknown error\"\n            )\n        }\n    }\n\n    else if (input && input.responseText) {\n        out = ( input.responseText + \" - \" + input.statusText) || \"Unknown error\"\n    }\n\n    else if (input && input.statusText) {\n        if (input.statusText == \"timeout\") {\n            out = \"The server failed to respond in the desired number of seconds\"\n        }\n        else {\n            out = input.statusText || \"Unknown error\"\n        }\n    }\n\n    if (out && typeof out == \"object\") {\n        let out2 = []\n        for (let key in (out)) {\n            out2.push(React.createElement(\"li\", { key }, out[key]));\n        }\n        return React.createElement(\"div\", null, [\n            \"Multiple errors\",\n            React.createElement(\"ul\", null, out2)\n        ])\n    }\n\n    return String(out).replace(/(Error\\:\\s)+/, \"Error: \");\n}\n\n/**\n * Walks thru an object (ar array) and returns the value found at the provided\n * path. This function is very simple so it intentionally does not support any\n * argument polymorphism, meaning that the path can only be a dot-separated\n * string. If the path is invalid returns undefined.\n * @param {Object} obj The object (or Array) to walk through\n * @param {String} path The path (eg. \"a.b.4.c\")\n * @returns {*} Whatever is found in the path or undefined\n */\nexport function getPath(obj, path = \"\") {\n    return path.split(\".\").reduce((out, key) => out ? out[key] : undefined, obj)\n}\n\nexport function compileQueryString(params) {\n    let query = []\n\n    for (let key in params) {\n        let p = params[key]\n\n        // If the parameter value is falsy (and other than 0) just don't include\n        // it in the query\n        if (!p && p !== 0) {\n            continue;\n        }\n\n        // if the value is an array then include that parameter multiple times\n        // with different values\n        if (Array.isArray(p)) {\n            p.forEach(v => {\n\n                // skip falsy not 0 values same as above\n                if (v || v === 0) {\n                    query.push(\n                        encodeURIComponent(key) + \"=\"\n                        + encodeURIComponent(v)\n                    )\n                }\n            })\n        }\n\n        // Add normal param to the query string\n        else {\n            query.push(\n                encodeURIComponent(key) + \"=\"\n                + encodeURIComponent(p)\n            )\n        }\n    }\n\n    return query.join(\"&\")\n}\n\nexport function parseQueryString(str) {\n    let out = {};\n    str = String(str || \"\").trim().split(\"?\").pop();\n    str.split(/&/).forEach(pair => {\n        let tokens = pair.split(\"=\")\n        let key    = decodeURIComponent(tokens[0])\n        if (key) {\n            let value = decodeURIComponent(tokens[1] || \"true\")\n            if (out.hasOwnProperty(key)) {\n                if (!Array.isArray(out[key])) {\n                    out[key] = [out[key]]\n                }\n                out[key].push(value)\n            }\n            else {\n                out[key] = value\n            }\n        }\n    })\n    return out\n}\n\nexport function setHashParam(name, value) {\n    let query = location.hash.split(\"?\")[1] || \"\";\n    let hash  = location.hash.replace(/\\?.*/, \"\");\n    // console.warn(query)\n    query = parseQueryString(query || \"\");\n    if (value === undefined) {\n        if (query.hasOwnProperty(name)) {\n            delete query[name]\n        }\n    }\n    else {\n        query[name] = value\n    }\n\n    query = compileQueryString(query)\n    location.hash = hash + (query ? \"?\" + query : \"\")\n}\n\n// Fhir parsing helpers --------------------------------------------------------\n\n/**\n * Given an array of Coding objects finds and returns the one that contains\n * an MRN (using a code == \"MR\" check)\n * @export\n * @param {Object[]} codings Fhir.Coding[]\n * @returns {Object} Fhir.Coding | undefined\n */\nexport function findMRNCoding(codings) {\n    if (Array.isArray(codings)) {\n        return codings.find(coding => coding.code == \"MR\");\n    }\n}\n\n/**\n * Given an array of identifier objects finds and returns the one that contains an MRN\n * @export\n * @param {Object[]} identifiers\n * @returns {Object}\n */\nexport function findMRNIdentifier(identifiers) {\n    return identifiers.find(\n        identifier => !!findMRNCoding(getPath(identifier, \"type.coding\"))\n    );\n}\n\n/**\n * Given a patient returns his MRN\n * @export\n * @param {Object} patient\n * @returns {string}\n */\nexport function getPatientMRN(patient) {\n    let mrn = null;\n\n    if (Array.isArray(patient.identifier) && patient.identifier.length) {\n        mrn = findMRNIdentifier(patient.identifier);\n        if (mrn) {\n            return mrn.value;\n        }\n    }\n\n    return mrn;\n}\n\n/**\n * Extracts and returns a human-readable name string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's name or an empty string\n */\nexport function getPatientName(patient) {\n    if (!patient) {\n        return \"\"\n    }\n\n    let name = patient.name;\n    if (!Array.isArray(name)) {\n        name = [name];\n    }\n    name = name[0];\n    if (!name) {\n        return \"\";\n    }\n\n    let family = Array.isArray(name.family) ? name.family : [ name.family ];\n    let given  = Array.isArray(name.given ) ? name.given  : [ name.given  ];\n    let prefix = Array.isArray(name.prefix) ? name.prefix : [ name.prefix ];\n    let suffix = Array.isArray(name.suffix) ? name.suffix : [ name.suffix ];\n\n    return [\n        prefix.map(t => String(t || \"\").trim()).join(\" \"),\n        given .map(t => String(t || \"\").trim()).join(\" \"),\n        family.map(t => String(t || \"\").trim()).join(\" \"),\n        suffix.map(t => String(t || \"\").trim()).join(\" \")\n    ].filter(Boolean).join(\" \");\n}\n\n/**\n * Given a FHIR patient object, returns the patient's phone number (or empty string).\n * Note that if the patient have multiple phones this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's phone or an empty string\n */\nexport function getPatientPhone(patient = {}) {\n    let phone = (patient.telecom || []).find(c => c.system == \"phone\");\n    return phone ? phone.value : \"\";\n}\n\n/**\n * Given a FHIR patient object, returns the patient's email (or an empty string).\n * Note that if the patient have multiple emails this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's email address or an empty string\n */\nexport function getPatientEmail(patient = {}) {\n    let phone = (patient.telecom || []).find(c => c.system == \"email\");\n    return phone ? phone.value || \"\" : \"\";\n}\n\n/**\n * Extracts and returns a human-readable address string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's address or an empty string\n */\nexport function getPatientHomeAddress(patient = {}) {\n    let a = (patient.address || []);\n    a = a.find(c => c.use == \"home\") || a[0] || {};\n    var l = [a.line, a.postalCode, a.city, a.country]\n        .map(x => String(x || \"\").trim())\n        .filter(Boolean)\n        .join(\" \");\n    return l ? l : a.text || \"\";\n}\n\n/**\n * Extracts and returns a human-readable age string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's age\n */\nexport function getPatientAge(patient) {\n    let from  = moment(patient.birthDate);\n    let to    = moment(patient.deceasedDateTime || undefined);\n    let age   = to - from;\n\n    let seconds = Math.round(age / 1000)\n    if (seconds < 60) {\n        return seconds + \" second\"\n    }\n\n    let minutes = Math.round(seconds / 60)\n    if (minutes < 60) {\n        return minutes + \" minute\"\n    }\n\n    let hours = Math.round(minutes / 60)\n    if (hours < 24) {\n        return hours + \" hour\"\n    }\n\n    let days = Math.round(hours / 24)\n    if (days < 30) {\n        return days + \" day\"\n    }\n\n    let months = Math.round(days / 30)\n    if (months < 24) {\n        return months + \" month\"\n    }\n\n    let years = Math.round(days / 365)\n    return years + \" year\"\n}\n\n/**\n * Extracts and returns an URL pointing to the patient photo (or an empty string)\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's image URL\n */\nexport function getPatientImageUri(patient, base=\"\") {\n    let data = getPath(patient, \"photo.0.data\") || \"\";\n    let url  = getPath(patient, \"photo.0.url\") || \"\";\n    let type = getPath(patient, \"photo.0.contentType\") || \"\";\n    if (url.indexOf(\"/\") === 0) {\n        url = base + \"\" + url;\n    }\n    let http = url && url.match(/^https?:\\/\\//);\n    if (!http && data) {\n        if (type && data.indexOf(\"data:\") !== 0) {\n            data = `data:${type};base64,${data}`;\n        }\n        url = data;\n    }\n    else if (type && !http) {\n        url = `data:${type};base64,${url}`;\n    }\n    return url;\n}\n\n/**\n * Text for highlight toggle button\n */\nexport const highlightToggleButtonText = \"Highlight NLP Codes\"\n\n/**\n * Return the display text for the given CodeableConcept\n * @param {Object} concept CodeableConcept\n * @returns {String}\n */\nexport function getCodeableConcept(concept, defaultValue = \"-\") {\n    return String(\n        getPath(concept, \"coding.0.display\") ||\n        getPath(concept, \"coding.0.code\") ||\n        concept.text ||\n        defaultValue\n    );\n}\n\n/**\n * Some elements are of type `code` in older FHIR versions, but have been\n * converted to CodeableConcept in later versions\n * @param {String|Object} data Code or CodeableConcept\n * @returns {String}\n */\nexport function getCodeOrConcept(data, defaultValue = \"-\") {\n    if (typeof data == \"string\") return data || defaultValue;\n    return getCodeableConcept(data, defaultValue);\n}\n\n/**\n * Returns whether a codeOrConcept is the result of NLP insight\n * @param {Object} data Code or CodeableConcept\n * @returns {Boolean}\n */\nexport function codeIsNLPInsight(data) {\n    return getPath(data, \"coding.0.extension.0.url\") == \"http://ibm.com/fhir/cdm/insight/reference\";\n}\n\nexport const InsightSource = {\n    NONE: \"None\",\n    SELF: \"Self\",\n    DOCUMENT: \"Document\"\n}\n\n/**\n * Gets data.meta.extension.*.extension\n * @param {Object} data FHIR Resource\n * @returns {Object}\n */\nfunction getInnerExtentsion(data) {\n    let meta = getPath(data, \"meta\");\n    if (meta) {\n        let ext_outer = getPath(meta, \"extension\")\n        if (ext_outer && Array.isArray(ext_outer)) {\n            for (let item_outer in ext_outer) {\n                if (getPath(ext_outer[item_outer], \"url\") == \"http://ibm.com/fhir/cdm/insight/result\") {\n                    let ext_inner = getPath(ext_outer[item_outer], \"extension\")\n                    return ext_inner\n                }\n            }\n        }\n    }\n    return null\n}\n\n/**\n * Gets details for an http://ibm.com/fhir/cdm/insight/insight-entry\n * @param {Object} item dictionary\n * @returns {Object}\n */\nfunction getInsightEntryDetails(item) {\n    let result = {}\n    let entry_arr = getPath(item, \"extension\");\n    for (let arr_ext_outer in entry_arr) {\n        let url = getPath(entry_arr[arr_ext_outer], \"url\")\n        if (url == \"http://ibm.com/fhir/cdm/insight/confidence\") {\n            // This is gonna be gross, but name and score are stored side-by-side so we gotta iterate twice\n            let arr_ext_inner = getPath(entry_arr[arr_ext_outer], \"extension\")\n            for (let e in arr_ext_inner) {\n                if (getPath(arr_ext_inner[e], \"url\") == \"http://ibm.com/fhir/cdm/insight/confidence-name\") {\n                    if (getPath(arr_ext_inner[e], \"valueString\") == \"Explicit Score\") {\n                        for (let e in arr_ext_inner) {\n                            if (getPath(arr_ext_inner[e], \"url\") == \"http://ibm.com/fhir/cdm/insight/confidence-score\") {\n                                result.confidence = getPath(arr_ext_inner[e], \"valueString\")\n                            }\n                        }\n                    }\n                }\n            }\n        } else if (url == \"http://ibm.com/fhir/cdm/insight/span\") {\n            let arr_ext_inner = getPath(entry_arr[arr_ext_outer], \"extension\")\n            for (let e in arr_ext_inner) {\n                if (getPath(arr_ext_inner[e], \"url\") == \"http://ibm.com/fhir/cdm/insight/covered-text\") {\n                    result.coveredText = getPath(arr_ext_inner[e], \"valueString\")\n                } else if (getPath(arr_ext_inner[e], \"url\") == \"http://ibm.com/fhir/cdm/insight/offset-begin\") {\n                    result.offsetBegin = getPath(arr_ext_inner[e], \"valueInteger\")\n                } else if (getPath(arr_ext_inner[e], \"url\") == \"http://ibm.com/fhir/cdm/insight/offset-end\") {\n                    result.offsetEnd = getPath(arr_ext_inner[e], \"valueInteger\")\n                }\n            }\n        }\n    }\n    return result\n}\n\n/**\n * Gets the details of an insight\n * @param {Object} data FHIR Resource\n * @returns {Object}\n */\n export function getInsightDetails(data) {\n    var result = {}\n    result.lastUpdated = getPath(data, \"meta.lastUpdated\")\n\n    let ext_inner = getInnerExtentsion(data)\n    if (ext_inner && Array.isArray(ext_inner)) {\n        for (let item in ext_inner) {\n            let url = getPath(ext_inner[item], \"url\")\n            // now that we've got the url, find all the different bits\n            if (url == \"http://ibm.com/fhir/cdm/StructureDefinition/process-type\") {\n                result.processType = getPath(ext_inner[item], \"valueString\");\n            } else if (url == \"http://ibm.com/fhir/cdm/StructureDefinition/process-name\") {\n                result.processName = getPath(ext_inner[item], \"valueString\");\n            } else if (url == \"http://ibm.com/fhir/cdm/StructureDefinition/process-version\") {\n                result.processVersion = getPath(ext_inner[item], \"valueString\");\n            } else if (url == \"http://ibm.com/fhir/cdm/insight/basedOn\") {\n                result.basedOn = getPath(ext_inner[item], \"valueReference.reference\");\n            } else if (url == \"http://ibm.com/fhir/cdm/insight/insight-entry\") {\n                let insightEntryDetails = getInsightEntryDetails(ext_inner[item])\n                for (let key in insightEntryDetails) {\n                    result[key] = insightEntryDetails[key]\n                }\n            }\n        }\n    }\n\n    // get insightSource from processType\n    if (typeof result.processType != 'string') {\n        result.insightSource = InsightSource.NONE;\n    } else {\n        let processTypeArr = result.processType.toLowerCase().split(\" \");\n        if (processTypeArr.includes(\"unstructured\")) {\n            result.insightSource = InsightSource.DOCUMENT;\n        } else if (processTypeArr.includes(\"structured\")) {\n            result.insightSource = InsightSource.SELF;\n        } else {\n            // It's not good if this happens\n            result.insightSource = InsightSource.NONE;\n        }\n    }\n\n    return result\n}\n\n/**\n * Gets the source type of an insight\n * @param {Object} data FHIR Resource\n * @returns {InsightSource}\n */\nexport function getInsightSource(data) {\n    return getInsightDetails(data).insightSource\n}\n\n/**\n * Given some input string (@input) and a string to search for (@query), this\n * function will highlight all the occurrences by wrapping them in\n * \"<span class=\"search-match\"></span>\" tag.\n * @param {String} input The input string\n * @param {String} query The string to search for\n * @param {Boolean} caseSensitive Defaults to false\n * @returns {String} The input string with the matches highlighted\n */\nexport function searchHighlight(input, query, caseSensitive = false) {\n    let s = String(input);\n    let q = String(query);\n    let x = s;\n\n    if (!caseSensitive) {\n        x = x.toLowerCase();\n        q = q.toLowerCase();\n    }\n\n    let i = x.indexOf(q);\n\n    if (i > -1) {\n        return (\n            s.substr(0, i) +\n            `<span class=\"search-match\">` +\n            s.substr(i, q.length) +\n            \"</span>\" +\n            s.substr(i + q.length)\n        );\n    }\n\n    return input;\n}\n\n/**\n * Uses searchHighlight() to generate and return a JSX.span element containing\n * the @html string with @search highlighted\n * @param {String} html The input string\n * @param {String} search The string to search for\n * @returns {JSX.span} SPAN element with the matches highlighted\n */\nexport function renderSearchHighlight(html, search) {\n    return (\n        <span dangerouslySetInnerHTML={{\n            __html: search ? searchHighlight(html, search) : html\n        }}/>\n    )\n}\n\n/**\n * Given a fhir bundle fins it's link having the given rel attribute.\n * @param {Object} bundle FHIR JSON Bundle object\n * @param {String} rel The rel attribute to look for: prev|next|self... (see\n * http://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1)\n * @returns {String|null} Returns the url of the link or null if the link was\n *                        not found.\n */\nexport function getBundleURL(bundle, rel) {\n    let nextLink = bundle.link;\n    if (nextLink) {\n        nextLink = nextLink.find(l => l.relation === rel);\n        return nextLink && nextLink.url ? nextLink.url : null\n    }\n    return null;\n}\n\nexport function request(options) {\n    options = typeof options == \"string\" ? { url : options } : options || {};\n    let cfg = $.extend(true, options, {\n        headers: {\n            Accept: \"application/fhir+json\"\n        }\n    })\n\n    return new Promise((resolve, reject) => {\n        // console.info(\"Requesting \" + decodeURIComponent(cfg.url))\n        $.ajax(cfg).then(\n            resolve,\n            xhr => {\n                let message = getErrorMessage(xhr)\n                if (message && typeof message == \"string\") {\n                    return reject(new Error(message))\n                }\n                else {\n                    return reject({ message })\n                }\n            }\n        )\n    })\n}\n\nexport function getAllPages(options, result = []) {\n    return request(options).then(bundle => {\n        (bundle.entry || []).forEach(item => {\n            if (item.fullUrl && result.findIndex(o => (o.fullUrl === item.fullUrl)) == -1) {\n                result.push(item);\n            }\n        })\n        let nextUrl = getBundleURL(bundle, \"next\");\n        if (nextUrl) {\n            return getAllPages({ ...options, url: nextUrl }, result);\n        }\n        return result;\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader/lib/css-base.js\n// module id = 5\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader \n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t}),\n\tgetElement = (function(fn) {\n\t\tvar memo = {};\n\t\treturn function(selector) {\n\t\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t\t}\n\t\t\treturn memo[selector]\n\t\t};\n\t})(function (styleTarget) {\n\t\treturn document.querySelector(styleTarget)\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = require(\"./fixUrls\");\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (typeof options.insertInto === \"undefined\") options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar styleTarget = getElement(options.insertInto)\n\tif (!styleTarget) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\tstyleTarget.insertBefore(styleElement, styleTarget.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\tstyleTarget.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\tstyleTarget.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\tstyleTarget.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/style-loader/addStyles.js\n// module id = 6\n// module chunks = 0","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport { getPath } from \"../../../lib\"\nimport { connect } from \"react-redux\"\n\n/**\n * Renders group of resources in a grid (table) where each component represents\n * one row...\n */\nexport class Grid extends React.Component\n{\n    static propTypes = {\n        rows      : PropTypes.arrayOf(PropTypes.object).isRequired,\n        cols      : PropTypes.arrayOf(PropTypes.object).isRequired,\n        settings  : PropTypes.object.isRequired,\n        title     : PropTypes.string,\n        groupBy   : PropTypes.string,\n        comparator: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            __rows: this.sortRows(this.props.rows, this.props.comparator)\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (Array.isArray(newProps.rows)) {\n            this.setState({\n                __rows: this.sortRows(newProps.rows, newProps.comparator)\n            });\n        }\n    }\n\n    sortRows(rows, comparator) {\n        if (!comparator) {\n            return rows\n        }\n        return rows.sort(comparator)\n    }\n\n    renderResource(res, i)\n    {\n        let url = `${this.props.settings.server.url}/${res.resourceType}/${res.id}`;\n        if (this.props.settings.fhirViewer.enabled) {\n            url = this.props.settings.fhirViewer.url +\n                (this.props.settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") +\n                this.props.settings.fhirViewer.param + \"=\" +\n                encodeURIComponent(url);\n        } else {\n            url += \"?_format=json&_pretty=true\"\n        }\n\n        return (\n            <tr key={i}>\n                {\n                    this.props.cols.map((col, i) => {\n                        let { render, path, cellProps, defaultValue } = col\n                        cellProps = { ...cellProps, key: i }\n                        if (typeof render == \"function\") {\n                            return (\n                                <td {...cellProps}>\n                                    { render(res) }\n                                </td>\n                            )\n                        }\n                        return (\n                            <td {...cellProps}>\n                                {\n                                    getPath(res, path) ||\n                                    <small className=\"text-muted\">{ defaultValue || \"-\" }</small>\n                                }\n                            </td>\n                        )\n                    })\n                }\n                <td>\n                    <div className=\"text-primary text-center\">\n                        <button onClick={ () => window.open(url, \"_blank\", \"noopener,noreferrer\") }>\n                            <i className=\"fa fa-eye fas fa-bold\"/>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        )\n    }\n\n    renderRows() {\n        if (!this.state.__enableGrouping) {\n            return this.state.__rows.map(this.renderResource, this);\n        }\n\n        let groupColIndex = this.props.groupBy ?\n            this.props.cols.findIndex(c => c.name === this.props.groupBy || c.label === this.props.groupBy) :\n            -1;\n        let groupPath = groupColIndex > -1 ? this.props.cols[groupColIndex].path : null;\n\n        if (!groupPath) {\n            return this.state.__rows.map(this.renderResource, this);\n        }\n\n        const groups = {};\n        this.state.__rows.forEach((rec, i) => {\n            let groupValue = typeof groupPath == \"function\" ? groupPath(rec) : getPath(rec, groupPath);\n            groupValue = groupValue || \"Empty Group\";\n            if (!groups.hasOwnProperty(groupValue)) {\n                groups[groupValue] = []\n            }\n            groups[groupValue].push(this.renderResource(rec, i));\n        });\n\n        let out = [];\n        for (let group in groups) {\n            if (groups[group].length > 1) {\n                out.push(\n                    <tr className=\"group-header\" key={group}>\n                        <th colSpan={this.props.cols.length} onClick={() => this.setState({[group] : this.state[group] === false ? true : false })}>\n                        <i className={\"glyphicon glyphicon-triangle-\" + (\n                            this.state[group] !== false ? \"bottom\" : \"right\")\n                        }/> {group} <small className=\"badge\">{groups[group].length}</small>\n                        </th>\n                    </tr>\n                );\n                if (this.state[group] !== false) {\n                    out = out.concat(groups[group])\n                }\n            }\n            else {\n                out.push(<tr className=\"group-clear\" key={group}/>)\n                out = out.concat(groups[group])\n            }\n        }\n        return out;\n    }\n\n    render()\n    {\n        return (\n            <div className={\"panel panel-default\" + (this.state.__enableGrouping ? \" grouped\" : \"\")}>\n                {\n                    this.props.title ?\n                    <div className=\"panel-heading\">\n                        {\n                            this.props.groupBy && this.state.__rows.length > 1 &&\n                            <label className=\"pull-right\">\n                                Group by {this.props.groupBy\n                                } <input\n                                    type=\"checkbox\"\n                                    checked={!!this.state.__enableGrouping}\n                                    onChange={e => this.setState({\n                                        __enableGrouping: e.target.checked\n                                    })}\n                                />\n                            </label>\n                        }\n                        <b className=\"text-primary\">\n                            <i className=\"fa fa-address-card-o\"/> { this.props.title }\n                        </b>\n                    </div> :\n                    null\n                }\n                <div className=\"table-responsive\">\n                    <table className=\"table table-condensed table-hover table-striped table-bordered\" style={{\n                        minWidth: this.props.cols.length * 200\n                    }}>\n                        <thead>\n                            <tr>\n                                {\n                                    this.props.cols.map((col, i) => {\n                                        let { headerProps, label } = col\n                                        headerProps = { ...headerProps, key: i }\n                                        return (\n                                            <th {...headerProps}>\n                                                { label || \"\" }\n                                            </th>\n                                        )\n                                    })\n                                }\n                                <th><div className=\"text-center\">View</div></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            { this.renderRows() }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(state => ({\n    settings: state.settings\n}))(Grid);\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Grid/index.js","import { createAction, handleActions } from \"redux-actions\"\nimport PatientSearch from \"../lib/PatientSearch\"\nimport {\n    parseQueryString,\n    getBundleURL\n} from \"../lib\"\n\nexport const queryBuilder = new PatientSearch(\n    parseQueryString(window.location.hash.split(\"?\")[1] || \"\")\n);\n\n/**\n * The initial state is just an empty object that will be filled\n * with query parameters.\n */\nconst INITIAL_STATE = {\n    ...queryBuilder.getState(),\n    loading: false,\n    error  : null,\n    bundle : null\n}\n\n// Private action constants\nconst SET_LOADING      = \"app/search/SET_LOADING\"\nconst SET_ERROR        = \"app/search/SET_ERROR\"\nconst SET_DATA         = \"app/search/SET_DATA\"\nconst SET_MIN_AGE      = \"app/search/SET_MIN_AGE\"\nconst SET_MAX_AGE      = \"app/search/SET_MAX_AGE\"\nconst SET_AGE_GROUP    = \"app/search/SET_AGE_GROUP\"\nconst ADD_CONDITION    = \"app/search/ADD_CONDITION\"\nconst DEL_CONDITION    = \"app/search/DEL_CONDITION\"\nconst ADD_TAG          = \"app/search/ADD_TAG\"\nconst DEL_TAG          = \"app/search/DEL_TAG\"\nconst SET_CONDITIONS   = \"app/search/SET_CONDITIONS\"\nconst SET_GENDER       = \"app/search/SET_GENDER\"\nconst SET_PARAM        = \"app/search/SET_PARAM\"\nconst SET_QUERY_STRING = \"app/search/SET_QUERY_STRING\"\nconst SET_QUERY_TYPE   = \"app/search/SET_QUERY_TYPE\"\nconst SET_SORT         = \"app/search/SET_SORT\"\nconst SET_TAGS         = \"app/search/SET_TAGS\"\nconst SET_LIMIT        = \"app/search/SET_LIMIT\"\n\n\n// Create (and export) the redux actions ---------------------------------------\nexport const setLoading     = createAction(SET_LOADING)\nexport const setError       = createAction(SET_ERROR)\nexport const setData        = createAction(SET_DATA)\nexport const setMinAge      = createAction(SET_MIN_AGE)\nexport const setMaxAge      = createAction(SET_MAX_AGE)\nexport const setAgeGroup    = createAction(SET_AGE_GROUP)\nexport const addCondition   = createAction(ADD_CONDITION)\nexport const delCondition   = createAction(DEL_CONDITION)\nexport const setConditions  = createAction(SET_CONDITIONS)\nexport const setGender      = createAction(SET_GENDER)\nexport const setParam       = createAction(SET_PARAM)\nexport const setQueryString = createAction(SET_QUERY_STRING)\nexport const setQueryType   = createAction(SET_QUERY_TYPE)\nexport const setSort        = createAction(SET_SORT)\nexport const addTag         = createAction(ADD_TAG)\nexport const delTag         = createAction(DEL_TAG)\nexport const setTags        = createAction(SET_TAGS)\nexport const setLimit       = createAction(SET_LIMIT)\n\n\nexport const fetch = function() {\n    return (dispatch, getState) => {\n        dispatch(setLoading(true))\n        dispatch(setError(null))\n        const { settings } = getState()\n        queryBuilder.fetch(settings.server).then(\n            bundle => {\n                dispatch(setData(bundle))\n                dispatch(setLoading(false))\n            },\n            function(error) {\n                dispatch(setError(error))\n                dispatch(setLoading(false))\n            }\n        )\n    }\n}\n\nexport const goNext = function() {\n    return (dispatch, getState) => {\n        const { bundle } = getState().query;\n        let url = getBundleURL(bundle, \"next\");\n        if (url) {\n            url = parseQueryString(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    }\n}\n\nexport const goPrev = function() {\n    return (dispatch, getState) => {\n        const { bundle } = getState().query;\n        let url = getBundleURL(bundle, \"previous\");\n        if (url) {\n            url = parseQueryString(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    }\n}\n\n\n\n\n// Export the reducer as default\nexport default handleActions({\n\n    [SET_SORT]: (state, action) => {\n        queryBuilder.setSort(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_QUERY_STRING]: (state, action) => {\n        queryBuilder.setQueryString(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_QUERY_TYPE]: (state, action) => {\n        queryBuilder.setQueryType(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_PARAM]: (state, action) => {\n        queryBuilder.setParam(action.payload.name, action.payload.value)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_MIN_AGE]: (state, action) => {\n        queryBuilder.setMinAge(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_MAX_AGE]: (state, action) => {\n        queryBuilder.setMaxAge(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_AGE_GROUP]: (state, action) => {\n        queryBuilder.setAgeGroup(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [ADD_CONDITION]: (state, action) => {\n        queryBuilder.addCondition(action.payload.key, action.payload.value)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_CONDITIONS]: (state, action) => {\n        queryBuilder.setConditions(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [DEL_CONDITION]: (state, action) => {\n        queryBuilder.removeCondition(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [ADD_TAG]: (state, action) => {\n        queryBuilder.addTag(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [DEL_TAG]: (state, action) => {\n        queryBuilder.removeTag(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_TAGS]: (state, action) => {\n        queryBuilder.setTags(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_GENDER]: (state, action) => {\n        queryBuilder.setGender(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_LIMIT]: (state, action) => {\n        queryBuilder.setLimit(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    /**\n     * Sets the loading state of the query\n     */\n    [SET_LOADING]: (state, action) => ({\n        ...state,\n        ...queryBuilder.getState(),\n        loading: !!action.payload\n    }),\n\n    /**\n     * Sets the error state of the query\n     */\n    [SET_ERROR]: (state, action) => ({\n        ...state,\n        ...queryBuilder.getState(),\n        error: action.payload\n    }),\n\n    /**\n     * Sets the data fetched by the query\n     */\n    [SET_DATA]: (state, action) => ({\n        ...state,\n        ...queryBuilder.getState(),\n        bundle: action.payload\n    })\n\n}, INITIAL_STATE)\n\n\n\n// WEBPACK FOOTER //\n// ./redux/query.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport Moment    from \"moment\"\n\nexport default function Date({ moment, format=\"MM/DD/YYYY\", ...rest }) {\n    return <span {...rest}>{ Moment(moment).format(format) }</span>;\n}\n\nDate.propTypes = {\n    format: PropTypes.string,\n    moment: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n        PropTypes.object // moment\n    ]).isRequired\n};\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Date.js","import React  from \"react\"\nimport moment from \"moment\"\n\nexport default function Period(period) {\n    let from = period.start || \"\";\n    let to   = period.end   || \"\";\n\n    if (from && to) {\n        from = moment(from);\n        to = moment(to);\n\n        if (from.isSame(to, \"day\")) {\n            return (\n                <span>\n                    {\n                        from.format(\"MM/DD/YYYY\")\n                    }\n                    {   from.isSame(to, \"hour\") ?\n                        null :\n                        <span>\n                            <small className=\"text-muted\"> from </small>\n                            { from.format(\"HH:mm\") }\n                            <small className=\"text-muted\"> to </small>\n                            { to.format(\"HH:mm\") }\n                        </span>\n                    }\n                </span>\n            )\n        }\n        else {\n            return (\n                <span>\n                    <small className=\"text-muted\"> from </small>\n                    { from.format(\"MM/DD/YYYY\") }\n                    <small className=\"text-muted\"> to </small>\n                    { to.format(\"MM/DD/YYYY\") }\n                </span>\n            )\n        }\n    }\n    else {\n        if (from) {\n            from = moment(from);\n            return (\n                <span>\n                    <small className=\"text-muted\"> from </small>\n                    { from.format(\"MM/DD/YYYY\") }\n                </span>\n            )\n        }\n        else if (to) {\n            to = moment(to);\n            return (\n                <span>\n                    <small className=\"text-muted\"> to </small>\n                    { to.format(\"MM/DD/YYYY\") }\n                </span>\n            )\n        }\n    }\n    return <small className=\"text-muted\">N/A</small>\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Period.js","/**\n * The purpose of this file is to combine reducers and create the single store.\n * One should use it simply like so:\n *\n * ```import STORE from \"./redux\"```\n */\nimport { createStore, applyMiddleware, combineReducers } from \"redux\"\nimport thunk     from \"redux-thunk\"\nimport selection from \"./selection\"\nimport query     from \"./query\"\nimport settings  from \"./settings\"\nimport urlParams from \"./urlParams\"\n\nconst middleWares = [thunk]\n\n// Create logger middleware that will log all redux action but only\n// use that in development env.\nif (process.env.NODE_ENV == \"development\" && console && console.groupCollapsed) {\n    let logger = _store => next => action => {\n        let result;\n        if (!action.__no_log) {\n            console.groupCollapsed(action.type)\n            console.info(\"dispatching\", action)\n            result = next(action)\n            console.log(\"next state\", _store.getState())\n            console.groupEnd(action.type)\n        }\n        else {\n            result = next(action)\n        }\n        return result\n    }\n\n    middleWares.push(logger)\n}\n\nexport default createStore(\n    combineReducers({\n        selection,\n        query,\n        settings,\n        urlParams\n    }),\n    applyMiddleware(...middleWares)\n);\n\n\n\n// WEBPACK FOOTER //\n// ./redux/index.js","import { createAction, handleActions } from \"redux-actions\"\nimport { setHashParam, parseQueryString, boolVal } from \"../lib\"\n\nconst PARAMS = parseQueryString(location.hash)\nconst SINGLE = boolVal(PARAMS[\"single-selection\"])\n\n/**\n * For the initial selection state parse the query portion of the URL hash (if\n * any). Note that this is not enough! The hash query can provide list of\n * patient IDs but we initialize them as true. Later they should be updated to\n * contain actual patient objects instead of true!\n */\nlet initialSelection = {};\n(PARAMS._selection || \"\").split(/\\s*,\\s*/).forEach(k => {\n    if (k) {\n\n        // In single mode the last id will become the selected one!\n        if (SINGLE) {\n            initialSelection = {\n                [k]: true\n            };\n        }\n        else {\n            initialSelection[k] = true;\n        }\n    }\n})\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nconst INITIAL_STATE = {\n    ...initialSelection,\n    selectionCleared: false\n}\n\n// Private action constants\nconst TOGGLE  = \"app/selection/TOGGLE\"\nconst SET_ALL = \"app/selection/SET_ALL\"\nconst SELECTION_CLEARED = \"app/selection/SELECTION_CLEARED\"\n\n// Create (and export) the redux actions\nexport const toggle = createAction(TOGGLE)\nexport const setAll = createAction(SET_ALL)\nexport const setSelectionCleared = createAction(SELECTION_CLEARED)\n\n/**\n * Update the \"_selection\" hash parameter whenever the selection changes\n * @param {Object} selection The selection to set\n */\nfunction setHashSelection(selection) {\n    setHashParam(\n        \"_selection\",\n        Object.keys(selection).filter(\n            k => selection.hasOwnProperty(k) && !!selection[k]\n        ).join(\",\")\n    )\n}\n\n// Export the reducer as default\nexport default handleActions({\n\n    /**\n     * Toggle the selected state of action.payload.id\n     */\n    [TOGGLE]: (state, action) => {\n        let id = String(action.payload.id);\n        let newState = {\n            [id]: state[id] ? false : action.payload,\n            selectionCleared: false\n        };\n\n        if (!SINGLE) {\n            newState = { ...state, ...newState }\n        }\n        setHashSelection(newState)\n        return newState\n    },\n\n    /**\n     * If user's most recent action was to clear selection,\n     * track that so we can skip showing warning dialog on close\n     */\n    [SELECTION_CLEARED]: (state, action) => {\n        return { ...state, selectionCleared: true }\n    },\n\n    /**\n     * Set the entire selection. Useful if an initial selection\n     * needs to be provided from the host application.\n     */\n    [SET_ALL]: (_, action) => {\n        let newState = { ...action.payload, selectionCleared: false }\n        setHashSelection(newState)\n        return newState\n    }\n\n}, INITIAL_STATE)\n\n\n\n// WEBPACK FOOTER //\n// ./redux/selection.js","import { createAction, handleActions } from \"redux-actions\"\nimport INITIAL_STATE                   from \"../config.default.js\"\nimport mixinDeep from \"mixin-deep\";\n\n// Private action constants\nconst MERGE                = \"app/settings/MERGE\"\nconst REPLACE              = \"app/settings/REPLACE\"\nconst RENDER_SELECTED_ONLY = \"app/settings/RENDER_SELECTED_ONLY\"\n\n// Create (and export) the redux actions\nexport const merge            = createAction(MERGE)\nexport const replace          = createAction(REPLACE)\nexport const showSelectedOnly = createAction(RENDER_SELECTED_ONLY)\n\n// Export the reducer as default\nexport default handleActions({\n\n    [MERGE]: (state, action) => mixinDeep(state, action.payload, { loaded: true }),\n\n    [RENDER_SELECTED_ONLY]: (state, action) => ({\n        ...state,\n        renderSelectedOnly: !!action.payload\n    }),\n\n    // Replace the entire state (useful for testing)\n    [REPLACE]: (_, action) => ({ ...action.payload })\n}, INITIAL_STATE)\n\n\n\n// WEBPACK FOOTER //\n// ./redux/settings.js","import React         from \"react\"\nimport PropTypes     from \"prop-types\"\nimport Popup         from \"reactjs-popup\"\nimport { \n    getInsightDetails,\n    InsightSource\n} from \"../../lib\"\n\nexport default class InsightsDetailButton extends React.Component {\n    static PropTypes = {\n        settings: PropTypes.object.isRequired,\n        resource: PropTypes.object\n    }\n\n    render() {\n        let rec = this.props.resource\n        let details = getInsightDetails(rec)\n        let isDocument = details.insightSource==InsightSource.DOCUMENT\n        let prettyDate = new Date(details.lastUpdated).toUTCString()\n\n        let sourceUrl\n        if (isDocument) {\n            sourceUrl = `${this.props.settings.server.url}/${details.basedOn}`;\n            if (this.props.settings.fhirViewer.enabled) {\n                sourceUrl = this.props.settings.fhirViewer.url +\n                    (this.props.settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") +\n                    this.props.settings.fhirViewer.param + \"=\" +\n                    encodeURIComponent(sourceUrl);\n            } else {\n                sourceUrl += \"?_format=json&_pretty=true\"\n            }\n        }\n\n        return (\n            <div className=\"text-primary text-center\">\n                <Popup\n                    trigger={\n                        <button>\n                            <i className=\"fa fa-lightbulb-o fas fa-bold\"/>\n                        </button>\n                    }\n                    position=\"left center\"\n                    on={['hover', 'click', \"focus\"]}\n                >\n                    <div className=\"drop-shadow panel panel-default\">\n                        <div className=\"panel-heading\">\n                            <b className=\"text-primary\">\n                                <i className=\"fa fa-lightbulb-o fas fa-bold\" style={{paddingRight: 10}}/>Insights for {rec.resourceType} {rec.id}\n                            </b>\n                        </div>\n                        <div className=\"table-responsive\" role=\"presentation\">\n                            <table className=\"table table-condensed table-hover table-striped table-bordered\">\n                                <tbody>\n                                    <tr>\n                                        <td><strong>Last Updated</strong></td>\n                                        <td>{prettyDate}</td>\n                                    </tr>\n                                    <tr>\n                                        <td><strong>Process Name</strong></td>\n                                        <td>{details.processName}</td>\n                                    </tr>\n                                    <tr>\n                                        <td><strong>Process Type</strong></td>\n                                        <td>{details.processType}</td>\n                                    </tr>\n                                    <tr>\n                                        <td><strong>Process Version</strong></td>\n                                        <td>{details.processVersion}</td>\n                                    </tr>\n                                    <tr>\n                                        <td><strong>Insight Source</strong></td>\n                                        <td>{isDocument ? <a href={sourceUrl} target=\"_blank\" rel=\"noopener noreferrer\">{details.basedOn.replace(\"/\", \" \")}</a> : details.insightSource}</td>\n                                    </tr>\n                                </tbody>\n                                { isDocument ?\n                                <tbody>\n                                    <tr>\n                                        <td><strong>Covered Text</strong></td>\n                                        <td>\"...<em>{details.coveredText}</em>...\" [{details.offsetBegin}:{details.offsetEnd}]</td>\n                                    </tr>\n                                    <tr>\n                                        <td><strong>Confidence</strong></td>\n                                        <td>{Number(details.confidence)*100}%</td>\n                                    </tr>\n                                </tbody>\n                                : null }\n                            </table>\n                        </div>\n                    </div>\n                </Popup>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/InsightsDetailButton.js","import React     from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ICONS = {\n    info   : \"fa fa-info-circle\",\n    warning: \"fa fa-exclamation-circle\",\n    danger : \"fa fa-exclamation-triangle\",\n    success: \"fa fa-thumbs-up\"\n};\n\nexport default class Alert extends React.Component\n{\n    static propTypes = {\n        type    : PropTypes.oneOf([\"info\", \"warning\", \"danger\", \"success\"]),\n        close   : PropTypes.bool,\n        icon    : PropTypes.bool,\n        children: PropTypes.any\n    };\n\n    static defaultProps = {\n        type : \"info\",\n        close: true,\n        icon : true\n    };\n\n    render() {\n        return (\n            <div className=\"container-fluid\" style={{ width: \"100%\" }}>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <br/>\n                        <div className={ \"alert alert-\" + this.props.type }>\n                            {\n                                this.props.close ?\n                                <span\n                                    aria-hidden=\"true\"\n                                    data-dismiss=\"alert\"\n                                    className=\"close\"\n                                    style={{ lineHeight: \"1.2rem\" }}\n                                >&times;</span> :\n                                null\n                            }\n                            {\n                                this.props.icon ?\n                                <i className={ICONS[this.props.type]} style={{\n                                    marginRight: \"1ex\"\n                                }}/> :\n                                null\n                            }\n                            { this.props.children }\n                        </div>\n                        <br/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Alert/index.js","import React                from \"react\"\nimport PropTypes            from \"prop-types\"\nimport { connect }          from \"react-redux\"\nimport { showSelectedOnly } from \"../../redux/settings\"\nimport { setParam, fetch }  from \"../../redux/query\"\nimport { setAll, setSelectionCleared } from \"../../redux/selection\"\nimport \"./DialogFooter.less\"\n\nconst IS_POPUP  = window.opener && window.name;\nconst IS_FRAME  = parent !== self;\n\nclass SelectionUI extends React.Component {\n\n    static propTypes = {\n        settings        : PropTypes.object.isRequired,\n        selection       : PropTypes.object.isRequired,\n        onToggleSelectionVisibility: PropTypes.func.isRequired,\n        onResetSelection: PropTypes.func.isRequired,\n        canShowSelected : PropTypes.bool\n    };\n\n    render() {\n        let len = Object.keys(this.props.selection).filter(key => !!this.props.selection[key] && key !== \"selectionCleared\").length;\n        let viewClass = [\"btn\"];\n        let resetClass = [\"btn\"];\n\n        if (len === 0) {\n            viewClass.push(\"disabled\");\n            resetClass.push(\"disabled\");\n        }\n\n        if (this.props.settings.renderSelectedOnly) {\n            viewClass.push(\"active\");\n        }\n\n        const hasSelection = this.props.canShowSelected && len > 0\n        return (\n            <label disabled={ len === 0 }>\n                <span>\n                    { `${len} patient${len === 1 ? \"\" : \"s\"} selected${hasSelection ? ':' : ''}` }\n                </span>\n                { hasSelection ? (\n                    <div className=\"btn-group\">\n                        <div className={ viewClass.join(\" \") } onClick={\n                            () => {\n                                this.props.onToggleSelectionVisibility(\n                                    !this.props.settings.renderSelectedOnly\n                                );\n                            }\n                        }>View Selected</div>\n                        <div className={ resetClass.join(\" \") } onClick={\n                            () => { this.props.onResetSelection(); }\n                        }>Clear Selected</div>\n                    </div>\n                ) : null }\n            </label>\n        );\n    }\n}\n\nexport class DialogFooter extends React.Component\n{\n    static propTypes = {\n        selection       : PropTypes.object.isRequired,\n        settings        : PropTypes.object.isRequired,\n        showSelectedOnly: PropTypes.func.isRequired,\n        resetSelection  : PropTypes.func.isRequired,\n        setParam        : PropTypes.func.isRequired,\n        fetch           : PropTypes.func.isRequired,\n        canShowSelected : PropTypes.bool\n    };\n\n    /**\n     * Generates and returns the object that will be sent back to the client\n     * when the OK button is clicked\n     */\n    export() {\n        // debugger;\n        const selection = this.props.selection;\n\n        switch (this.props.settings.outputMode) {\n\n        case \"id-array\": // array of patient IDs\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\");\n\n        case \"transactions\": // array of JSON transactions objects for each patient\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\").map(\n                k => this.createPatientTransaction(selection[k])\n            );\n\n        case \"patients\": // array of patient JSON objects\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\").map(\n                k => selection[k]\n            );\n\n        case \"id-list\": // comma-separated list of patient IDs (default)\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\").join(\",\")\n        }\n    }\n\n    createPatientTransaction() {\n        throw new Error(\"No implemented\");\n    }\n\n    showSelectedOnly(bOn) {\n        if (bOn) {\n            const selection = this.props.selection;\n            this.props.setParam({\n                name : \"_id\",\n                value: Object.keys(selection).filter(k => !!selection[k]).join(\",\")\n            })\n        }\n        else {\n            this.props.setParam({\n                name : \"_id\",\n                value: undefined\n            })\n        }\n        this.props.showSelectedOnly(bOn)\n    }\n\n    renderDialogButtons() {\n        if (!IS_POPUP && !IS_FRAME) {\n            return null\n        }\n\n        const OWNER = window.opener || window.parent\n        let selectionCount = Object.keys(this.props.selection).filter(key => !!this.props.selection[key]).length;\n\n\n        return (\n            <div className=\"col-xs-6 text-right\">\n                <button className=\"btn btn-default\" onClick={ () => {\n                    OWNER.postMessage({ type: \"close\" }, \"*\")\n                }}>\n                    Cancel\n                </button>\n                <button className=\"btn btn-primary\" onClick={ () => {\n                    let confirmClose = true;\n                    if (selectionCount <= 0 && !this.props.selection.selectionCleared) {\n                        confirmClose = window.confirm(\"No patients have been selected. Choose 'Cancel' to return to making a selection or 'OK' to close without selecting\")\n                    }\n                    if (confirmClose) {\n                        OWNER.postMessage(\n                            {\n                                type: \"result\",\n                                data: this.export()\n                            },\n                            \"*\"\n                        );\n                    }\n                }}>\n                    OK\n                </button>\n            </div>\n        );\n    }\n\n    render() {\n        let selection = this.props.selection;\n        selection = Object.keys(selection).filter(k => !!selection[k])\n        return (\n            <div className=\"row dialog-buttons\">\n                <div className=\"col-xs-6 text-left\">\n                    <SelectionUI\n                        selection={ this.props.selection }\n                        settings={ this.props.settings }\n                        onToggleSelectionVisibility={ this.showSelectedOnly.bind(this) }\n                        onResetSelection={ this.props.resetSelection }\n                        canShowSelected={ this.props.canShowSelected }\n                    />\n                </div>\n                { this.renderDialogButtons() }\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({\n        selection: state.selection,\n        settings : state.settings,\n        query    : state.query\n    }),\n    dispatch => ({\n        showSelectedOnly: bValue => {\n            dispatch(showSelectedOnly(bValue))\n            dispatch(fetch())\n        },\n        resetSelection  : () => {\n            dispatch(setAll({}))\n            dispatch(showSelectedOnly(false))\n            dispatch(setParam({ name: \"_id\", value: undefined }))\n            dispatch(fetch())\n            dispatch(setSelectionCleared())\n        },\n        setParam: (name, value) => dispatch(setParam(name, value)),\n        fetch: () => dispatch(fetch())\n    })\n)(DialogFooter)\n\n\n\n// WEBPACK FOOTER //\n// ./components/DialogFooter/index.js","import React               from \"react\"\nimport PropTypes           from \"prop-types\"\nimport { getErrorMessage } from \"../../lib\"\nimport Alert               from \"../Alert\"\n\nexport default class ErrorMessage extends React.Component\n{\n    static propTypes = {\n        error: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n    };\n\n    static defaultProps = {\n        error: \"Unknown Error\"\n    };\n\n    render() {\n        return (\n            <Alert type=\"danger\">\n                { getErrorMessage(this.props.error) }\n            </Alert>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/ErrorMessage/index.js","import React from \"react\"\nimport \"./Loader.less\"\n\nexport default class Loader extends React.Component\n{\n    render() {\n        return (\n            <div className=\"loader\">\n                <div>\n                    <i className=\"fa fa-spinner spin\" /> Loading...\n                </div>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Loader/index.js","/* global jdenticon */\nimport React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport {\n    getPatientImageUri,\n    getPatientName\n} from \"../../lib\"\n\nimport \"./PatientImage.less\"\n\nfunction hash(input) {\n    let out = String(input).toLowerCase().trim().split(\"\")\n        .reduce((sum, c) => sum + c.charCodeAt(0).toString(16), \"\");\n    while (out.length < 11) {\n        out += out.length ? out : \"000000000000\"\n    }\n    return out;\n}\n\nexport default class PatientImage extends React.Component\n{\n    static propTypes = {\n        patient  : PropTypes.object.isRequired,\n        className: PropTypes.string,\n        style    : PropTypes.object,\n        base     : PropTypes.string\n    };\n\n    static defaultProps = {\n        base: \"\"\n    };\n\n    componentDidMount() {\n        this.renderCanvas()\n    }\n\n    componentDidUpdate() {\n        this.renderCanvas()\n    }\n\n    renderCanvas() {\n        let url = getPatientImageUri(this.props.patient, this.props.base)\n        if (!url) {\n            let hex = hash(getPatientName(this.props.patient));\n            jdenticon.update(\"#img-\" + this.props.patient.id, hex, 0.1)\n        }\n    }\n\n    render() {\n        let { className, style, patient, base, ...rest } = this.props;\n        let url = getPatientImageUri(patient, this.props.base);\n        className = \"patient-image-wrap \" + (className || \"\")\n\n        style = { ...(style || {}) }\n\n        if (url) {\n            style.backgroundImage = `url('${url}')`\n            style.backgroundColor = 'rgba(255, 255, 255, 0.6)'\n        }\n\n        return (\n            <div className={className} style={style} {...rest}>\n                {\n                    url ?\n                    null :\n                    <canvas\n                        width=\"480\"\n                        height=\"480\"\n                        style={{ width: \"100%\", height: \"100%\" }}\n                        id={\"img-\" + patient.id}\n                    />\n                }\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/PatientImage/index.js","\nexport const CODE_SYSTEMS = {\n    'LOINC'     : { url: 'http://loinc.org'                            },\n    'SNOMED-CT' : { url: 'http://snomed.info/sct'                      },\n    'RxNorm'    : { url: 'http://www.nlm.nih.gov/research/umls/rxnorm' },\n    'CVX'       : { url: 'http://hl7.org/fhir/sid/cvx'                 },\n    'NUBC'      : { url: 'http://www.nubc.org/patient-discharge'       },\n    'UMLS'      : { url: 'http://uts.nlm.nih.gov/metathesaurus'        }\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","import React         from \"react\"\nimport ReactDOM      from \"react-dom\"\nimport App           from \"./components/App\"\nimport { Provider }  from \"react-redux\"\nimport STORE         from \"./redux\"\nimport PatientDetail from \"./components/PatientDetail\"\nimport PatientList   from \"./components/PatientList\"\nimport { Router, Route, Switch } from \"react-router\"\nimport createHistory from \"history/createHashHistory\"\nimport jQuery    from \"jquery\"\n\nwindow.$ = window.jQuery = jQuery\n\nconst history = createHistory()\n\nReactDOM.render(\n    <Provider store={STORE}>\n        <Router history={history}>\n            <Switch>\n                <App>\n                    <Route path=\"/\"               component={PatientList} exact/>\n                    <Route path=\"/patient/:index\" component={PatientDetail}/>\n                </App>\n            </Switch>\n        </Router>\n    </Provider>,\n    document.getElementById(\"main\")\n)\n\n$(function () {\n    $(\"body\").tooltip({\n        selector : \".patient-detail-page [title]\"\n    })\n})\n\n\n// WEBPACK FOOTER //\n// ./index.js","import React  from \"react\"\nimport moment from \"moment\"\nimport PropTypes from \"prop-types\"\nimport \"./AgeSelector.less\"\n\nexport default class AgeSelector extends React.Component\n{\n    static propTypes = {\n        min: PropTypes.shape({\n            value: PropTypes.number,\n            units: PropTypes.oneOf([\"years\", \"months\", \"days\"])\n        }),\n        max: PropTypes.shape({\n            value: PropTypes.number,\n            units: PropTypes.oneOf([\"years\", \"months\", \"days\"])\n        }),\n        group: PropTypes.string,\n        onMinChange  : PropTypes.func,\n        onMaxChange  : PropTypes.func,\n        onGroupChange: PropTypes.func,\n        update       : PropTypes.func\n    };\n\n    static defaultProps = {\n        min: {\n            value: 0,\n            units: \"years\"\n        },\n        max: {\n            value: 100,\n            units: \"years\"\n        },\n        group: \"\",\n        update: () => alert(\"No update function provided!\")\n    };\n\n    constructor(...args) {\n        super(...args)\n        this.onChangeMinValue = this.onChangeMinValue.bind(this)\n        this.onChangeMinUnits = this.onChangeMinUnits.bind(this)\n        this.onChangeMaxValue = this.onChangeMaxValue.bind(this)\n        this.onChangeMaxUnits = this.onChangeMaxUnits.bind(this)\n        this.onGroupChange    = this.onGroupChange   .bind(this)\n        this.state = this._propsToState(this.props);\n    }\n\n    _propsToState(props) {\n        let state = {}\n        if (props.min && typeof props.min == \"object\") {\n            if (props.min.hasOwnProperty(\"value\")) {\n                state.minValue = isNaN(props.min.value) ? \"\" : props.min.value;\n            }\n            if (props.min.hasOwnProperty(\"units\")) {\n                state.minUnits = props.min.units;\n            }\n        }\n        if (props.max && typeof props.max == \"object\") {\n            if (props.max.hasOwnProperty(\"value\")) {\n                state.maxValue = isNaN(props.max.value) ? \"\" : props.max.value;\n            }\n            if (props.max.hasOwnProperty(\"units\")) {\n                state.maxUnits = props.max.units;\n            }\n        }\n\n        return state;\n    }\n\n    componentWillReceiveProps(newProps) {\n        let newState = this._propsToState(newProps);\n        if (Object.keys(newState).length) {\n            this.setState(newState);\n        }\n    }\n\n    // Event handlers ----------------------------------------------------------\n\n    /**\n     * When the numeric value of the min-age changes\n     * @param {Event} e\n     */\n    onChangeMinValue(e) {\n        if (this.props.onMinChange) {\n            let min = {\n                value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                units: this.props.min.units\n            }\n\n            if (this.canSet(min, this.props.max)) {\n                this.props.onMinChange(min)\n            }\n            else {\n                this.setState(this._propsToState({ min }));\n            }\n        }\n    }\n\n    /**\n     * When the units of the min-age change\n     * @param {Event} e\n     */\n    onChangeMinUnits(e) {\n        if (this.props.onMinChange) {\n            let min = {\n                value: this.props.min.value,\n                units: e.target.value\n            };\n            if (this.canSet(min, this.props.max)) {\n                this.props.onMinChange(min)\n            }\n            else {\n                this.setState(this._propsToState({ min }));\n            }\n        }\n    }\n\n    /**\n     * When the numeric value of the max-age changes\n     * @param {Event} e\n     */\n    onChangeMaxValue(e) {\n        if (this.props.onMaxChange) {\n            let max = {\n                value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                units: this.props.max.units\n            };\n            if (this.canSet(this.props.min, max)) {\n                this.props.onMaxChange(max)\n            }\n            else {\n                this.setState(this._propsToState({ max }));\n            }\n        }\n    }\n\n    /**\n     * When the units of the max-age change\n     * @param {Event} e\n     */\n    onChangeMaxUnits(e) {\n        if (this.props.onMaxChange) {\n            let max = {\n                value: this.props.max.value,\n                units: e.target.value\n            };\n            if (this.canSet(this.props.min, max)) {\n                this.props.onMaxChange(max)\n            }\n            else {\n                this.setState(this._propsToState({ max }));\n            }\n        }\n    }\n\n    /**\n     * When the selected age group changes\n     * @param {Event} e\n     */\n    onGroupChange(e) {\n        if (this.props.onGroupChange) {\n            this.props.onGroupChange(e.target.value)\n        }\n    }\n\n    // Validators and helper methods -------------------------------------------\n\n    /**\n     * Given two dates (as value and units) returns true if min is before max.\n     * This is used to validate inputs and prevent the user from entering\n     * invalid ranges\n     * @param {Object} min The min date as { value: number, units: string }\n     * @param {Object} max The max date as { value: number, units: string }\n     * @returns {Boolean}\n     */\n    canSet(min, max) {\n        let maxDuration = moment.duration(max.value, max.units);\n        let minDuration = moment.duration(min.value, min.units);\n        return minDuration < maxDuration;\n    }\n\n    // Rendering methods -------------------------------------------------------\n\n    render() {\n        let valid = this.canSet({\n            value: this.state.minValue,\n            units: this.state.minUnits\n        }, {\n            value: this.state.maxValue,\n            units: this.state.maxUnits\n        });\n        return (\n            <div className={ \"age-widget-wrap form-control input-sm\" + (this.props.group == \"**custom**\" ? \" custom\" : \"\")}>\n                <select\n                    onChange={ this.onGroupChange }\n                    value={ this.props.group || \"\" }\n                >\n                    <option value=\"\">Any Age</option>\n                    <option value=\"infant\">Infants (0 - 12 months, Alive only)</option>\n                    <option value=\"child\">Children (1 - 18 years, Alive only)</option>\n                    <option value=\"adult\">Adults (18 - 65 years, Alive only)</option>\n                    <option value=\"elderly\">Elderly (65+ years, Alive only)</option>\n                    <option value=\"**custom**\">\n                        {\n                            this.props.group == \"**custom**\" ?\n                            \"Custom Age, Alive only:\" :\n                            \"Custom Age, Alive only\"\n                        }\n                    </option>\n                </select>\n                {\n                    this.props.group == \"**custom**\" ?\n                    <div className={ \"age-widget\" + (valid ? \"\" : \" invalid\") }>\n                        <span>Min:</span>\n                        <input\n                            type=\"number\"\n                            value={ this.state.minValue }\n                            onChange={ this.onChangeMinValue }\n                            min={0}\n                            step={1}\n                        /><select\n                            value={ this.state.minUnits }\n                            onChange={ this.onChangeMinUnits }\n                        >\n                            <option value=\"years\">Years</option>\n                            <option value=\"months\">Months</option>\n                            <option value=\"days\">Days</option>\n                        </select>\n                    </div> : null\n                }\n                {\n                    this.props.group == \"**custom**\" ?\n                    <div className={ \"age-widget\" + (valid ? \"\" : \" invalid\") }>\n                        <span>Max:</span>\n                        <input\n                            type=\"number\"\n                            value={ this.state.maxValue }\n                            onChange={ this.onChangeMaxValue }\n                            min={0}\n                            step={1}\n                        /><select\n                            value={ this.state.maxUnits }\n                            onChange={ this.onChangeMaxUnits }\n                        >\n                            <option value=\"years\">Years</option>\n                            <option value=\"months\">Months</option>\n                            <option value=\"days\">Days</option>\n                        </select>\n                    </div> : null\n                }\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/AgeSelector/index.js","import React         from \"react\"\nimport PropTypes     from \"prop-types\";\nimport $             from \"jquery\"\nimport JSON5         from \"json5\"\nimport { connect }   from \"react-redux\"\nimport Loader        from \"../Loader\"\nimport ErrorMessage  from \"../ErrorMessage\"\nimport { fetch, setLimit } from \"../../redux/query\"\nimport { merge }     from \"../../redux/settings\"\nimport { parseQueryString } from \"../../lib\"\nimport                    \"./App.less\"\n\nconst OWNER = window.opener || (window.parent === self ? null : window.parent);\nconst DEFAULT_CONFIG = \"default\";\n\n\n\nexport class App extends React.Component\n{\n    static propTypes = {\n        children : PropTypes.any,\n        settings : PropTypes.object.isRequired,\n        dispatch : PropTypes.func.isRequired\n    };\n\n    constructor(...args) {\n        super(...args)\n        this.state = {\n            error: null\n        };\n    }\n\n    handleUiBlocking() {\n        let runningRequests = 0, hideDelay;\n\n        const handle = () => {\n            if (hideDelay) {\n                clearTimeout(hideDelay)\n            }\n            if (runningRequests > 0) {\n                $(\"#overlay\").show();\n            }\n            else {\n                hideDelay = setTimeout(() => {\n                    $(\"#overlay\").hide();\n                }, 200)\n            }\n        };\n\n        $(document).ajaxStart(() => {\n            runningRequests++;\n            handle();\n        });\n\n        $(document).ajaxComplete(() => {\n            runningRequests = Math.max(--runningRequests, 0);\n            handle();\n        })\n    }\n\n    componentDidMount() {\n\n        this.handleUiBlocking();\n\n        let { config, ...params } = parseQueryString(window.location.search);\n\n        let settings = {};\n        $.ajax({\n            url     : `./config/${config || DEFAULT_CONFIG}.json5`,\n            dataType: \"text\",\n            cache   : false\n        }).then(\n            json => {\n                json = JSON5.parse(json);\n                $.ajaxSetup({ timeout: json.timeout || 20000 });\n                settings = { ...json, ...params }\n            },\n            errorXHR => {\n                console.warn(\"Loading custom config: \" + errorXHR.statusText);\n            }\n        ).always(() => {\n            let settingReceived = false;\n\n            const onMessage = e => {\n                if (e.data.type == 'config' &&\n                    e.data.data &&\n                    typeof e.data.data == \"object\")\n                {\n                    settingReceived = true;\n                    this.props.dispatch(merge(e.data.data));\n                    this.props.dispatch(fetch());\n                }\n            };\n\n            this.props.dispatch(merge(settings));\n            this.props.dispatch(setLimit(settings.patientsPerPage));\n\n            if (OWNER) {\n\n                window.addEventListener(\"unload\", function() {\n                    OWNER.postMessage({ type: \"close\" }, \"*\")\n                });\n\n                window.addEventListener(\"message\", onMessage);\n\n                setTimeout(() => {\n                    window.removeEventListener(\"message\", onMessage);\n                    if (!settingReceived) {\n                        this.props.dispatch(fetch());\n                    }\n                }, 1000);\n\n                OWNER.postMessage({ type: \"ready\" }, \"*\");\n            }\n            else {\n                this.props.dispatch(fetch());\n            }\n        })\n    }\n\n    render() {\n        if (this.state.error) {\n            return <ErrorMessage error={this.state.error}/>\n        }\n        if (!this.props.settings || !this.props.settings.loaded) {\n            return <div className=\"app\"><Loader/></div>\n        }\n        return <div className=\"app\">{this.props.children}</div>\n    }\n}\n\nexport default connect(state => ({...state}))(App)\n\n\n\n// WEBPACK FOOTER //\n// ./components/App/index.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport Grid        from \"./Grid\"\nimport { getPath } from \"../../lib\"\nimport Period      from \"./Period\"\nimport moment      from \"moment\"\n\nexport default class CarePlan extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title=\"CarePlan\"\n                groupBy=\"Category\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"period.start\");\n                    let dB = getPath(b, \"period.start\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Category\",\n                        path: \"category.0.coding.0.display\",\n                        render: rec => (\n                            <b>\n                                { getPath(rec, \"category.0.coding.0.display\") }\n                            </b>\n                        )\n                    },\n                    {\n                        label: \"Reason\",\n                        render: rec => (rec.activity || []).map((a, i) => {\n                            let reason = getPath(a, \"detail.code.coding.0.display\") || \"\"\n                            return reason ? (\n                                <div key={i}>\n                                    { reason }\n                                    <span> - </span>\n                                    <span className=\"text-muted\">{\n                                        getPath(a, \"detail.status\") || \"no data\"\n                                    }</span>\n                                </div>\n                            ) : \"\"\n                        })\n                    },\n                    {\n                        label: \"Period\",\n                        render: o => Period(o.period)\n                    },\n                    {\n                        label: \"Status\",\n                        path : \"status\"\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/CarePlan.js","import React            from \"react\"\nimport PropTypes        from \"prop-types\"\nimport { CODE_SYSTEMS } from \"../../lib/constants\"\nimport Grid             from \"./Grid\"\nimport Date             from \"./Date\"\nimport { \n    getPath, \n    getCodeOrConcept, \n    highlightToggleButtonText,\n    codeIsNLPInsight, \n    getInsightSource, \n    InsightSource \n} from \"../../lib\"\nimport moment           from \"moment\"\nimport InsightsDetailButton from \"./InsightsDetailButton\"\n\nexport default class ConditionList extends React.Component\n{\n    static propTypes = {\n        settings: PropTypes.object.isRequired,\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    // https://reactjs.org/docs/handling-events.html\n    constructor(props) {\n        super(props);\n        this.state = { doHighlight: false }\n        this.toggleHighlight = this.toggleHighlight.bind(this);\n    }\n\n    toggleHighlight() {\n        this.setState(prevState => ({ \n            doHighlight: !prevState.doHighlight \n        }) );\n    }\n\n    render()\n    {\n        let recs   = this.props.resources || []\n        let length = recs.length;\n\n        return (\n            <Grid\n                rows={(recs || []).map(o => o.resource)}\n                title={`${length} Condition${length === 1 ? \"\" : \"s\"}`}\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"onsetDateTime\");\n                    let dB = getPath(b, \"onsetDateTime\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Condition\",\n                        render: o => {\n                            let name   = \"-\";\n                            let code   = \"-\";\n                            let system = \"\";\n\n                            let highlight = \"\";\n                            if ( this.state.doHighlight && codeIsNLPInsight(o.code) ) {\n                                highlight = \"bg-primary\";\n                            }\n\n                            if (o.code) {\n                                if (o.code.text) {\n                                    name = o.code.text;\n                                }\n                                if (Array.isArray(o.code.coding) && o.code.coding.length) {\n                                    let c = o.code.coding[0]\n\n                                    system = c.system\n                                    for (let key in CODE_SYSTEMS) {\n                                        if (CODE_SYSTEMS[key].url === c.system) {\n                                            system = `(${key})`;\n                                            break;\n                                        }\n                                    }\n\n                                    if (c.display) {\n                                        name = c.display\n                                    }\n                                    if (c.code) {\n                                        code = c.code\n                                    }\n                                }\n                            }\n                            return (\n                                <div>\n                                    <b>{ name }</b>\n                                    <small className={highlight+\" text-muted pull-right\"}>\n                                        { code } {system}\n                                    </small>\n                                </div>\n                            )\n                        }\n                    },\n                    {\n                        label: <div className=\"text-center\">Clinical Status</div>,\n                        render: o => <div className=\"text-center\">{ o.clinicalStatus ? getCodeOrConcept(o.clinicalStatus) : \"-\" }</div>\n                    },\n                    {\n                        label : <div className=\"text-center\">Verification Status</div>,\n                        render: o => <div className=\"text-center\">{ o.verificationStatus ? getCodeOrConcept(o.verificationStatus) : \"-\" }</div>\n                    },\n                    {\n                        label: <div className=\"text-center\">Onset Date</div>,\n                        render : o => {\n                            let onset = o.onsetDateTime || \"\";\n                            return (\n                                <div className=\"text-center\">\n                                    {\n                                        onset ?\n                                        <Date moment={o.onsetDateTime}/> :\n                                        \"-\"\n                                    }\n                                </div>\n                            );\n                        }\n                    },\n                    {\n                        label: <div className=\"text-center\">\n                            <button\n                                title={highlightToggleButtonText}\n                                onMouseUp={ this.toggleHighlight }\n                                className=\"text-center\"\n                            >\n                                <i className={\"fa fa-lightbulb-o fa-bold\"}/>\n                            </button>\n                        </div>,\n                        render: o => {\n                            if ( getInsightSource(o) != InsightSource.NONE ) {\n                                return ( <InsightsDetailButton resource={o} settings={this.props.settings}/> )\n                            } else {\n                                return ( <div/> )\n                            }\n                        }\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ConditionList.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport moment      from \"moment\"\nimport Grid        from \"./Grid\"\nimport { getPath } from \"../../lib\"\nimport Period      from \"./Period\"\n\nfunction getEncounterClass(encounter) {\n    return encounter.class && typeof encounter.class == \"object\" ?\n        getPath(encounter, \"class.type.0.text\") :\n        encounter.class;\n}\n\nfunction getEncounterLabel(encounter) {\n    let result = getPath(encounter, \"type.0.text\");\n    if (result) {\n        return result;\n    }\n    let _class = getEncounterClass(encounter);\n    if (_class) {\n        return _class + \" encounter\";\n    }\n    return \"\";\n}\n\nexport default class Encounter extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title={ `Encounter${this.props.resources.length === 1 ? \"\" : \"s\"}` }\n                groupBy=\"Type\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"period.start\");\n                    let dB = getPath(b, \"period.start\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Type\",\n                        path: rec => getEncounterLabel(rec),\n                        render: rec => {\n                            let result = getPath(rec, \"type.0.text\");\n                            if (result) {\n                                return <b>{ result }</b>;\n                            }\n                            let _class = getEncounterClass(rec);\n                            if (_class) {\n                                return (\n                                    <span className=\"text-muted\">{_class + \" encounter\"}</span>\n                                );\n                            }\n                            return <small className=\"text-muted\">N/A</small>;\n                        }\n                    },\n                    {\n                        label: \"Reason\",\n                        path : \"reason.0.coding.0.display\",\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Class\",\n                        render: rec => {\n                            let result = getEncounterClass(rec);\n                            return result ?\n                                <b>{ result }</b> :\n                                <small className=\"text-muted\">N/A</small>;\n                        }\n                    },\n                    {\n                        label: \"Status\",\n                        path : \"status\",\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Time\",\n                        path : \"period\",\n                        render: o => Period(o.period || {})\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Encounter.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport moment      from \"moment\"\nimport Grid        from \"./Grid\"\nimport Date        from \"./Date\"\nimport { \n    getPath, \n    codeIsNLPInsight, \n    highlightToggleButtonText,\n    getInsightSource, \n    InsightSource \n} from \"../../lib\"\nimport InsightsDetailButton from \"./InsightsDetailButton\"\n\nexport default class ImmunizationList extends React.Component\n{\n    static propTypes = {\n        settings: PropTypes.object.isRequired,\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    // https://reactjs.org/docs/handling-events.html\n    constructor(props) {\n        super(props);\n        this.state = { doHighlight: false }\n        this.toggleHighlight = this.toggleHighlight.bind(this);\n    }\n\n    toggleHighlight() {\n        this.setState(prevState => ({ \n            doHighlight: !prevState.doHighlight \n        }) );\n    }\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title=\"Immunizations\"\n                groupBy=\"Type\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"date\");\n                    let dB = getPath(b, \"date\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Type\",\n                        render: o => (\n                            <div className={codeIsNLPInsight(getPath(o, \"vaccineCode\")) ? \"bg-primary\" : \"\"}>\n                                { getPath(o, \"vaccineCode.coding.0.display\") }\n                            </div>\n                        )\n                    },\n                    {\n                        label: \"Status\",\n                        render: o => o.status || \"-\"\n                    },\n                    {\n                        label: \"Date\",\n                        render: o => (\n                            o.date ?\n                                <Date moment={o.date}/> :\n                                o.occurrenceDateTime ?\n                                    <Date moment={o.occurrenceDateTime}/> :\n                                    o.occurrenceString || \"-\"\n                        )\n                    },\n                    {\n                        label: <div className=\"text-center\">\n                            <button\n                                title={highlightToggleButtonText}\n                                onMouseUp={ this.toggleHighlight }\n                                className=\"text-center\"\n                            >\n                                <i className={\"fa fa-lightbulb-o fa-bold\"}/>\n                            </button>\n                        </div>,\n                        render: o => {\n                            if ( getInsightSource(o) != InsightSource.NONE ) {\n                                return ( <InsightsDetailButton resource={o} settings={this.props.settings}/> )\n                            } else {\n                                return ( <div/> )\n                            }\n                        }\n                    }\n                ]}\n            />\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ImmunizationList.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport moment      from \"moment\"\nimport { getPath } from \"../../lib\"\nimport Grid        from \"./Grid\"\nimport ValueRange  from \"./ValueRange\"\nimport Time        from \"./Time\"\nimport Period      from \"./Period\"\nimport Date        from \"./Date\"\n\nexport default class Observations extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    getObservationLabel(o) {\n        return (\n            getPath(o, \"code.coding.0.display\") ||\n            getPath(o, \"code.text\") ||\n            getPath(o, \"valueQuantity.code\")\n        );\n    }\n\n    renderObservation(o, includeLabel = false) {\n        if (Array.isArray(o.component)) {\n            return o.component.map((c, i) => {\n                let result = this.renderObservation(c, true);\n                return (\n                    <span key={i}>\n                        { i > 0 && <span>,&nbsp;</span> }\n                        {result}\n                    </span>\n                );\n            });\n        }\n\n        const returnResult = result => {\n            return (\n                <span>\n                    {includeLabel && <label className=\"text-muted\">{\n                        this.getObservationLabel(o)\n                        .replace(/^\\s*(Systolic|Diastolic)\\s+blood\\s+pressure\\s*$/gi, \"$1\")\n                    }:&nbsp;</label>}\n                    {result}\n                </span>\n            );\n        };\n\n        // valueBoolean\n        if (o.hasOwnProperty(\"valueBoolean\")) {\n            return returnResult(\n                !o.valueBoolean || o.valueBoolean == \"false\" ?\n                \"Negative\" :\n                \"Positive\"\n            );\n        }\n\n        // valueString\n        if (o.hasOwnProperty(\"valueString\")) {\n            return returnResult(String(o.valueString));\n        }\n\n        // valueRange\n        if (o.hasOwnProperty(\"valueRange\")) {\n            return returnResult(<ValueRange range={o.valueRange}/>)\n        }\n\n        // valueTime\n        if (o.hasOwnProperty(\"valueTime\")) {\n            return returnResult(<Time moment={o.valueTime}/>)\n        }\n\n        // valueDateTime\n        if (o.hasOwnProperty(\"valueDateTime\")) {\n            return returnResult(<Date moment={o.valueDateTime}/>)\n        }\n\n        // valuePeriod\n        if (o.hasOwnProperty(\"valuePeriod\")) {\n            return returnResult(Period(o.valuePeriod));\n        }\n\n        // valueCodeableConcept\n        if (o.hasOwnProperty(\"valueCodeableConcept\")) {\n            return returnResult(getPath(o, \"valueCodeableConcept.coding.0.display\"));\n        }\n\n        // valueQuantity\n        if (o.hasOwnProperty(\"valueQuantity\")) {\n            let value = getPath(o, \"valueQuantity.value\");\n            let units = getPath(o, \"valueQuantity.unit\");\n\n            if (!isNaN(parseFloat(value))) {\n                value = Math.round(value * 100) / 100;\n            }\n\n            return returnResult(\n                <span>{value} <span className=\"text-muted\">{units}</span></span>\n            );\n        }\n\n        /* TODO:\n        valueRatio      : Ratio\n        valueSampledData: SampledData\n        valueAttachment : Attachment\n        */\n\n        return returnResult(<span className=\"text-muted\">N/A</span>)\n    }\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title=\"Observations\"\n                groupBy=\"Name\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"effectiveDateTime\") || getPath(a, \"meta.lastUpdated\");\n                    let dB = getPath(b, \"effectiveDateTime\") || getPath(b, \"meta.lastUpdated\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label : \"Name\",\n                        path  : o => this.getObservationLabel(o),\n                        render: o => <b>{this.getObservationLabel(o)}</b>\n                    },\n                    {\n                        label : \"Value\",\n                        render: o => this.renderObservation(o)\n                    },\n                    {\n                        label: \"Date\",\n                        render: o => {\n                            let date = getPath(o, \"effectiveDateTime\") || getPath(o, \"meta.lastUpdated\");\n                            if (date) date = moment(date).format(\"MM/DD/YYYY\");\n                            return <div className=\"text-muted\">{ date || \"-\" }</div>\n                        }\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Observation.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport moment    from \"moment\"\nimport Grid      from \"./Grid\"\nimport Date      from \"./Date\"\nimport {\n    getPath,\n    getPatientName\n} from \"../../lib\"\n\nexport default class Person extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object),\n        title    : PropTypes.string\n    };\n\n    static defaultProps = {\n        title: \"Person\"\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title={ this.props.title }\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"birthDate\");\n                    let dB = getPath(b, \"birthDate\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Identifier\",\n                        render: rec => {\n                            let rows = [\n                                <tr key=\"id\">\n                                    <td className=\"label-cell\">ID</td>\n                                    <td>{rec.id}</td>\n                                </tr>\n                            ]\n\n                            if (Array.isArray(rec.identifier)) {\n                                rows = rows.concat(rec.identifier.map(o => {\n                                    let code = getPath(o, \"type.coding.0.display\") ||\n                                               getPath(o, \"type.text\") ||\n                                               getPath(o, \"type.coding.0.code\") ||\n                                               String(getPath(o, \"system\") || \"\").split(/\\b/).pop();\n                                    if (!code) return null;\n                                    return (\n                                        <tr key={code}>\n                                            <td className=\"label-cell\">{code}</td>\n                                            <td>{o.value}</td>\n                                        </tr>\n                                    )\n                                }).filter(Boolean))\n                            }\n\n                            return (\n                                <table>\n                                    <tbody>{ rows }</tbody>\n                                </table>\n                            );\n                        }\n                    },\n                    {\n                        label: \"Name\",\n                        render: getPatientName,\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Gender\",\n                        path: \"gender\",\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Birth Date\",\n                        path: \"birthDate\",\n                        defaultValue: \"N/A\",\n                        render: o => <Date moment={o.birthDate}/>\n                    }\n                ]}\n            />\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Person.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport Grid        from \"./Grid\"\nimport { \n    getPath, \n    getCodeOrConcept, \n    highlightToggleButtonText,\n    codeIsNLPInsight, \n    getInsightSource, \n    InsightSource \n} from \"../../lib\"\nimport Period      from \"./Period\"\nimport Date        from \"./Date\"\nimport moment      from \"moment\"\nimport InsightsDetailButton from \"./InsightsDetailButton\"\nimport { on } from \"events\"\n\nfunction renderCell(record, doHighlight, allOf, oneOf) {\n\n    const entries = [];\n\n    const visit = meta => {\n        let propValue = getPath(record, meta.path);\n        if (propValue !== undefined) {\n            let value = meta.render ? meta.render(record) : propValue;\n            let isNLP = doHighlight && Boolean(meta.nlpCodePath) && codeIsNLPInsight(getPath(record, meta.nlpCodePath));\n            let raw   = meta.raw ? meta.raw(record) : value;\n            let label = typeof meta.label == \"function\" ? meta.label(record) : meta.label;\n            let existing = entries.find(o => o.value === raw);\n            if (existing) {\n                existing.label += \", \" + label\n                if (isNLP) {\n                    existing.isNLP = true;\n                }\n            }\n            else {\n                entries.push({ label, value, isNLP });\n            }\n            return true;\n        }\n        return false;\n    };\n\n    allOf.forEach(visit);\n\n    if (!entries.length) {\n        oneOf.some(visit);\n    }\n\n    if (entries.length) {\n        return (\n            <table>\n                <tbody>\n                    {\n                        entries.map((o, i) => (\n                            <tr key={i} className={o.isNLP ? \"bg-primary\" : \"\"}>\n                                <td className=\"label-cell\" style={o.isNLP ? {color: \"white\"} : null}>{ o.label }</td>\n                                <td>{ o.value }</td>\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        );\n    }\n\n    return \"-\"\n}\n\nfunction getSortValue(rec) {\n    const paths = [\n        \"authoredOn\",\n        \"dateWritten\",\n        \"performedDateTime\",\n        \"recorded\",\n        \"performedPeriod.start\",\n        \"availableTime.0.availableStartTime\",\n        \"whenHandedOver\",\n        \"issued\",\n        \"effectiveDateTime\",\n        \"assertedDate\",\n        \"meta.lastUpdated\"\n    ];\n\n    for (let i = 0, l = paths.length; i < l; i++) {\n        let v = getPath(rec, paths[i]);\n        if (v !== undefined) {\n            return v\n        }\n    }\n\n    return 0;\n}\n\nfunction DataLink({settings, path, children}) {\n    let url = `${settings.server.url}/${path}`;\n    if (settings.fhirViewer.enabled) {\n        url = settings.fhirViewer.url +\n            (settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") +\n            settings.fhirViewer.param + \"=\" +\n            encodeURIComponent(url);\n    }\n    return <a onClick={ () => {\n        window.open(url, \"_blank\");\n        return false;\n    }}>{ children }</a>\n}\n\nDataLink.propTypes = {\n    settings: PropTypes.object.isRequired,\n    path    : PropTypes.string.isRequired,\n    children: PropTypes.any\n}\n\nexport default class ResourceList extends React.Component\n{\n    static propTypes = {\n        type     : PropTypes.string,\n        resources: PropTypes.arrayOf(PropTypes.object).isRequired,\n        settings : PropTypes.object.isRequired\n    };\n\n    // https://reactjs.org/docs/handling-events.html\n    constructor(props) {\n        super(props);\n        this.state = { doHighlight: false }\n        this.toggleHighlight = this.toggleHighlight.bind(this);\n    }\n\n    toggleHighlight() {\n        this.setState(prevState => ({ \n            doHighlight: !prevState.doHighlight \n        }) );\n    }\n\n    /**\n     * The idea is to have 3 columns by default:\n     * 1. Identifier - something like a name, type, id etc.\n     * 2. Details - the important part that will describe the resource\n     * 3. Timing - time period, time, age etc.\n     * @returns {Array} The generated schema\n     */\n    determineSchema(sampleResource) {\n        const out = [];\n\n        if (!sampleResource) {\n            return out;\n        }\n\n        // 1. Identifier -------------------------------------------------------\n        out.push({\n            label: \"Identifier\",\n            render: o => renderCell(o, this.state.doHighlight, [\n                {\n                    path: \"id\",\n                    label: \"ID\",\n                    ellipsis: 15\n                },\n                {\n                    path: \"name\",\n                    label: \"Name\"\n                },\n                {\n                    path: \"identifier.0.type.coding.0.code\",\n                    label: \"Identifiers\",\n                    render: rec => {\n                        if (Array.isArray(rec.identifier)) {\n                            return rec.identifier.map(id => {\n                                let code = getPath(id, \"type.coding.0.code\");\n                                if (!code) return null;\n                                return code + \": \" + id.value;\n                            }).filter(Boolean).join(\", \")\n                        }\n                        return \"-\"\n                    }\n                }\n            ])\n        });\n\n        // 2. Details ----------------------------------------------------------\n        out.push({\n            label: \"Details\",\n            render: o => renderCell(o, this.state.doHighlight, [\n                {\n                    path: \"description.text\",\n                    label: \"Description\"\n                },\n                {\n                    path: \"code.text\",\n                    label: \"Code\"\n                },\n                {\n                    path: \"code.coding.0.display\",\n                    nlpCodePath: \"code\",\n                    label: \"Display\"\n                },\n                {\n                    path: \"medicationCodeableConcept.coding.0.display\",\n                    nlpCodePath: \"medicationCodeableConcept\",\n                    label: \"Medication\"\n                },\n                {\n                    path: \"medicationCodeableConcept.coding.0.code\",\n                    nlpCodePath: \"medicationCodeableConcept\",\n                    label: rec => (getPath(rec, \"medicationCodeableConcept.coding.0.system\") || \"\").split(/\\b/).pop()\n                },\n                {\n                    path: \"code.coding.0.code\",\n                    nlpCodePath: \"code\",\n                    label: rec => ((getPath(rec, \"code.coding.0.system\") || \"\")\n                        .replace(/\\/$/, \"\").split(/\\//).pop() + \" code\")\n                },\n                {\n                    path: \"result.0.display\",\n                    label: \"Result\",\n                    render: rec => rec.result.map(r => r.display || 0).filter(Boolean).join(\", \")\n                },\n                {\n                    label: \"Status\",\n                    render: rec => getCodeOrConcept(rec.status)\n                },\n                {\n                    label: \"Clinical Status\",\n                    render: rec => getCodeOrConcept(rec.clinicalStatus)\n                },\n                {\n                    label: \"Verification Status\",\n                    render: rec => getCodeOrConcept(rec.verificationStatus)\n                },\n                {\n                    label: \"Value as String\",\n                    path: \"valueString\"\n                },\n                {\n                    label: \"Comment\",\n                    path: \"comment\"\n                },\n                {\n                    label: \"Extra Details\",\n                    path: \"extraDetails\"\n                },\n                {\n                    label: \"Type\",\n                    path: \"type\",\n                    render: rec => {\n                        if (Array.isArray(rec.type)) {\n                            return rec.type.map(t => {\n                                return t.text || getPath(t, \"coding.0.display\") || \"\";\n                            }).filter(Boolean).join(\", \")\n                        }\n                        return String(getPath(rec, \"type.coding.0.display\") || getPath(rec, \"type.text\") || rec.type);\n                    }\n                },\n                {\n                    label: \"Criticality\",\n                    path: \"criticality\"\n                },\n                {\n                    label: \"Category\",\n                    path: \"category\",\n                    render: rec => {\n                        function renderCategory(c) {\n                            if (!c) {\n                                return \"N/A\";\n                            }\n\n                            if (typeof c == \"string\") {\n                                return c;\n                            }\n\n                            if (Array.isArray(c)) {\n                                return c.map(renderCategory).join(\", \");\n                            }\n\n                            if (typeof c != \"object\") {\n                                return \"N/A\";\n                            }\n\n                            return c.text || c.display || c.code || renderCategory(c.coding);\n                        }\n\n                        return renderCategory(rec.category);\n                    }\n                },\n                {\n                    label: \"Quantity\",\n                    path: \"quantity.value\",\n                    render: rec => (\n                        <span>\n                            {rec.quantity.value}\n                            <span className=\"text-muted\"> {\n                                rec.quantity.unit || rec.quantity.units || \"\"\n                            }</span>\n                        </span>\n                    )\n                },\n                {\n                    label: \"Days Supply\",\n                    path: \"daysSupply.value\",\n                    render: rec => (\n                        <span>\n                            {rec.daysSupply.value}\n                            <span className=\"text-muted\">&nbsp;{\n                                rec.daysSupply.unit || rec.daysSupply.units || \"\"\n                            }</span>\n                        </span>\n                    )\n                },\n                {\n                    label: \"Medication\",\n                    path: \"medicationReference.reference\",\n                    render: rec => (\n                        <DataLink\n                            settings={this.props.settings}\n                            path={rec.medicationReference.reference}\n                        >{ rec.medicationReference.reference }</DataLink>\n                    )\n                }\n            ], [\n                {\n                    path: \"text.div\",\n                    label: \"Text\",\n                    render: rec => <span dangerouslySetInnerHTML={{ __html: rec.text.div }}/>\n                }\n            ])\n        });\n\n        // 3. Timings ----------------------------------------------------------\n        out.push({\n            label: \"Date\",\n            render: o => renderCell(o, [\n                {\n                    path: \"authoredOn\",\n                    label: \"Authored On\",\n                    render: rec => <Date moment={rec.authoredOn}/>\n                },\n                {\n                    path: \"dateWritten\",\n                    label: \"Date Written\",\n                    render: rec => <Date moment={rec.dateWritten}/>\n                },\n                {\n                    path: \"performedDateTime\",\n                    label: \"Performed At\",\n                    render: rec => <Date moment={rec.performedDateTime}/>\n                },\n                {\n                    path: \"recorded\",\n                    label: \"Recorded\",\n                    render: rec => <Date moment={rec.recorded}/>\n                },\n                {\n                    path: \"performedPeriod\",\n                    label: \"Performed\",\n                    render: rec => Period(rec.performedPeriod)\n                },\n                {\n                    path: \"availableTime\",\n                    label: \"Available Time\",\n                    render: rec => {\n                        if (Array.isArray(rec.availableTime)) {\n                            return rec.availableTime.map((t, i) => (\n                                <div key={i}>\n                                    { t.availableStartTime && (<span>\n                                        <label>from:&nbsp;</label>\n                                        <span>{ t.availableStartTime }&nbsp;</span>\n                                    </span>) }\n                                    { t.availableEndTime && (<span>\n                                        <label>to:&nbsp;</label>\n                                        <span>{ t.availableEndTime }</span>\n                                    </span>) }\n                                </div>\n                            ));\n                        }\n                    }\n                },\n                {\n                    path: \"whenHandedOver\",\n                    label: \"Handed Over\",\n                    render: rec => <Date moment={rec.whenHandedOver}/>\n                },\n                {\n                    path: \"issued\",\n                    label: \"Issued\",\n                    raw   : rec => moment(rec.issued).format(\"MM/DD/YYYY\"),\n                    render: rec =><Date moment={rec.issued}/>\n                },\n                {\n                    path: \"effectiveDateTime\",\n                    label: \"Effective\",\n                    raw   : rec => moment(rec.effectiveDateTime).format(\"MM/DD/YYYY\"),\n                    render: rec => <Date moment={rec.effectiveDateTime}/>\n                },\n                {\n                    path: \"assertedDate\",\n                    label: \"Asserted\",\n                    raw   : rec => rec.assertedDate,\n                    render: rec => <Date moment={rec.assertedDate}/>\n                }\n            ], [\n                {\n                    path: \"meta.lastUpdated\",\n                    label: \"Last Updated\",\n                    raw   : rec => rec.meta.lastUpdated,\n                    render: rec => <Date moment={rec.meta.lastUpdated}/>\n                }\n            ])\n        });\n\n        // 4. Insights ---------------------------------------------------------\n        out.push ({\n            label: <div className=\"text-center\">\n                <button\n                    title={highlightToggleButtonText}\n                    onMouseUp={ this.toggleHighlight }\n                    className=\"text-center\"\n                >\n                    <i className={\"fa fa-lightbulb-o fa-bold\"}/>\n                </button>\n            </div>,\n            render: o => {\n                if ( getInsightSource(o) != InsightSource.NONE ) {\n                    return ( <InsightsDetailButton resource={o} settings={this.props.settings}/> )\n                } else {\n                    return ( <div/> )\n                }\n            }\n        })\n\n        return out;\n    }\n\n    render()\n    {\n        let recs   = this.props.resources || []\n        let length = recs.length;\n        return (\n            <Grid\n                rows={recs.map(o => o.resource)}\n                title={`${length} resource${length === 1 ? \"\" : \"s\"} of type ${this.props.type}`}\n                cols={this.determineSchema(recs[0].resource)}\n                comparator={(a,b) => {\n                    let dA = getSortValue(a);\n                    let dB = getSortValue(b);\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n            />\n        )\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ResourceList.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport Moment    from \"moment\"\n\nexport default function Time({ moment, format=\"HH:mm\", ...rest }) {\n    return <span {...rest}>{ Moment(moment).format(format) }</span>;\n}\n\nTime.propTypes = {\n    format: PropTypes.string,\n    moment: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n        PropTypes.object // moment\n    ]).isRequired\n};\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Time.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\n\nexport default function ValueRange({ range }) {\n    let low = range.low;\n    let high = range.high;\n    return (\n        <span>\n            {\n                low !== undefined &&\n                <span>\n                    <span className=\"text-muted\">low: </span>\n                    <span>{ low }</span>\n                </span>\n            }\n            {\n                high !== undefined &&\n                <span>\n                    { low !== undefined && <span>&nbsp;</span> }\n                    <span className=\"text-muted\">high: </span>\n                    <span>{ high }</span>\n                </span>\n            }\n            {\n                high === undefined  && low === undefined &&\n                <small className=\"text-muted\">N/A</small>\n            }\n        </span>\n    );\n}\n\nValueRange.propTypes = {\n    range: PropTypes.object.isRequired\n};\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ValueRange.js","import React               from \"react\"\nimport PropTypes           from \"prop-types\"\nimport { goNext, goPrev }  from \"../../redux/query\"\nimport { getBundleURL }    from \"../../lib\"\nimport DialogFooter        from \"../DialogFooter\"\nimport                          \"./Footer.less\"\n\n\nexport default class Footer extends React.Component\n{\n    static propTypes = {\n        bundle   : PropTypes.object,\n        query    : PropTypes.object.isRequired,\n        dispatch : PropTypes.func.isRequired,\n        selection: PropTypes.object.isRequired,\n        canShowSelected : PropTypes.bool\n    };\n\n    render() {\n        let msg     = this.props.query.error ? \" Error! \" : \" Loading... \";\n        let bundle  = this.props.bundle;\n        let hasPrev = bundle && getBundleURL(bundle, \"previous\");\n        let hasNext = bundle && getBundleURL(bundle, \"next\");\n\n        if (bundle && !this.props.query.error) {\n            if (this.props.query.params._id) {\n                msg = \"Showing the selected patients only\"\n            }\n            else {\n                let len = bundle && bundle.entry ? bundle.entry.length : 0\n                if (len) {\n                    let startRec = +(this.props.query.offset || 0) + 1\n                    let endRec   = startRec + len - 1;\n\n                    msg = ` patient ${startRec} to ${ endRec } `\n\n                    if (\"total\" in bundle) {\n                        msg += ` of ${bundle.total} `\n                    }\n                }\n                else {\n                    msg = ` No Records! `\n                }\n            }\n        }\n\n        return (\n            <div className=\"app-footer\">\n                <div className=\"container-fluid\" style={{ width: \"100%\" }}>\n                    <div className=\"row\">\n                        <div className=\"col-xs-3 col-sm-4 text-right\">\n                            <a\n                                href=\"#prev\"\n                                onClick={ e => { e.preventDefault(); this.props.dispatch(goPrev()) }}\n                                disabled={ !hasPrev }\n                            >\n                                <i className=\"fa fa-arrow-left\"/> Prev\n                            </a>\n                        </div>\n                        <div className=\"col-xs-6 col-sm-4 text-center\">\n                            { msg }\n                        </div>\n                        <div className=\"col-xs-3 col-sm-4 text-left\">\n                            <a\n                                href=\"#next\"\n                                onClick={ e => { e.preventDefault(); this.props.dispatch(goNext()) }}\n                                disabled={!hasNext}\n                            >\n                                Next <i className=\"fa fa-arrow-right\"/>\n                            </a>\n                        </div>\n                    </div>\n                    <DialogFooter canShowSelected={this.props.canShowSelected}/>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Footer/index.js","\nimport React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport            \"./Header.less\"\nimport {\n    fetch,\n    setGender,\n    setAgeGroup,\n    setMinAge,\n    setMaxAge,\n    setConditions,\n    setTags,\n    setParam,\n    setQueryString,\n    setQueryType,\n    setSort\n} from \"../../redux/query\"\nimport store       from \"../../redux\"\nimport TagSelector from \"../TagSelector\"\nimport AgeSelector from \"../AgeSelector\"\nimport SortWidget  from \"../SortWidget\"\nimport {\n    parseQueryString,\n    setHashParam\n} from \"../../lib\"\n\nexport default class Header extends React.Component\n{\n    static propTypes = {\n        settings : PropTypes.object.isRequired,\n        query    : PropTypes.object.isRequired,\n        location : PropTypes.object.isRequired,\n        urlParams: PropTypes.object.isRequired\n    };\n\n    fetch(delay=500) {\n        if (this.props.settings.submitStrategy == \"automatic\") {\n            if (this.fetchDelay) {\n                clearTimeout(this.fetchDelay);\n            }\n            this.fetchDelay = setTimeout(() => {\n                store.dispatch(fetch())\n            }, delay)\n        }\n        // else {\n        //     store.dispatch(fetch())\n        // }\n    }\n\n    renderAdvancedTabContents() {\n        return (\n            <div className=\"form-group\">\n                <p className=\"text-warning\" style={{ padding: \"0 5px 5px\", margin: 0 }}>\n                    <i className=\"fa fa-info-circle\" /> In advanced mode, provide a\n                    query string to browse and select from a list of matching\n                    patients. <a target=\"_blank\" href=\"http://hl7.org/fhir/patient.html#search\">More Info...</a>\n                </p>\n                <form onSubmit={ e => {\n                    e.preventDefault()\n                    store.dispatch(fetch())\n                }}>\n                    <div className=\"input-group input-group-sm\">\n                        <span className=\"input-group-addon\">/Patient?</span>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Patient Search Query String\"\n                            name=\"query\"\n                            onChange={ e => store.dispatch(setQueryString(e.target.value)) }\n                            value={ this.props.query.queryString }\n                        />\n                        <span className=\"input-group-btn\">\n                            <button className=\"btn btn-warning\" type=\"submit\">Go</button>\n                        </span>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n\n    renderDemographicsTabContents() {\n        return (\n            <form onSubmit={ e => {\n                e.preventDefault()\n                store.dispatch(fetch())\n            }}>\n                <div className=\"row\">\n                    <div className={ \"**custom**\" === this.props.query.ageGroup ? \"col-sm-6\" : \"col-sm-12\" }>\n                        <div className=\"form-group\">\n                            {/*<label>Name:</label>*/}\n                            <div className=\"input-group\">\n                                <span className=\"input-group-addon\"><small>Name:</small></span>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control input-sm\"\n                                    placeholder=\"Search by name...\"\n                                    value={ this.props.query.params.name || \"\" }\n                                    onChange={e => {\n                                        store.dispatch(setParam({\n                                            name : \"name\",\n                                            value: e.target.value\n                                        }))\n                                        this.fetch()\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-6\">\n                        <div className=\"form-group\">\n                            {/*<label>Gender:</label>*/}\n                            <select\n                                className=\"form-control input-sm\"\n                                onChange={ e => {\n                                    store.dispatch(setGender(e.target.value))\n                                    this.fetch()\n                                }}\n                                value={ this.props.query.gender || \"\" }\n                            >\n                                <option value=\"male\">Males</option>\n                                <option value=\"female\">Females</option>\n                                <option value=\"\">Any Gender</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className={ \"**custom**\" === this.props.query.ageGroup ? \"col-sm-12\" : \"col-sm-6\" }>\n                        <div className=\"form-group\">\n                            {/*<label>Age:</label>*/}\n                            <AgeSelector\n                                min={ this.props.query.minAge || { value: 0  , units: \"years\" } }\n                                max={ this.props.query.maxAge || { value: 100, units: \"years\" } }\n                                onMinChange={ age => {\n                                    store.dispatch(setMinAge(age))\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    this.fetch()\n                                    //}\n                                }}\n                                onMaxChange={ age => {\n                                    store.dispatch(setMaxAge(age))\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    this.fetch()\n                                    //}\n                                }}\n                                onGroupChange={ group => {\n                                    store.dispatch(setAgeGroup(group))\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    this.fetch()\n                                    //}\n                                }}\n                                //update={ () => this.fetch() }\n                                group={ this.props.query.ageGroup }\n                            />\n                        </div>\n                    </div>\n                </div>\n            </form>\n        )\n    }\n\n    renderConditionsTabContents() {\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-12\">\n                    <div className=\"form-group\">\n                        <TagSelector\n                            tags={\n                                Object.keys(this.props.settings.server.conditions).map(key => {\n                                    let condition = this.props.settings.server.conditions[key];\n                                    return {\n                                        key,\n                                        label: condition.description,\n                                        data : condition\n                                    }\n                                })\n                            }\n                            onChange={\n                                selection => {\n                                    let conditions = {}\n                                    selection.forEach(tag => {\n                                        conditions[tag.key] = tag.data\n                                    })\n                                    store.dispatch(setConditions(conditions))\n                                    this.fetch()\n                                }\n                            }\n                            label=\"condition code\"\n                            selected={ Object.keys(this.props.query.conditions) }\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderTagsTabContents() {\n        let selected = this.props.query.tags || this.props.settings.server.tags.filter(\n            tag => !!tag.selected\n        ).map(tag => !!tag.key);\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-12\">\n                    <div className=\"form-group\">\n                        <TagSelector\n                            tags={ this.props.settings.server.tags }\n                            selected={ selected }\n                            onChange={\n                                sel => {\n                                    let tags = Object.keys(sel).map(k => sel[k].key)\n                                    store.dispatch(setTags(tags))\n                                    this.fetch()\n                                }\n                            }\n                            label=\"tag\"\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        let _query    = parseQueryString(this.props.location.search);\n        let _advanced = this.props.query.queryType == \"advanced\";\n        let conditionsCount   = Object.keys(this.props.query.conditions).length;\n        let demographicsCount = 0;\n        let tagsCount         = Object.keys(this.props.query.tags).length;\n\n        // Compute which the active tab should be\n        let tabs = [\"demographics\", \"conditions\"];\n        if (!this.props.settings.hideTagSelector) {\n            tabs.push(\"tags\");\n        }\n        let _tab = _query._tab || \"\";\n        if (tabs.indexOf(_tab) == -1) {\n            _tab = \"demographics\";\n        }\n\n        // Manually increment the value for the demographics badge depending on\n        // the state of the app\n\n        if (this.props.query.gender) {\n            demographicsCount += 1;\n        }\n\n        if (this.props.query.params.name) {\n            demographicsCount += 1;\n        }\n\n        if (this.props.query.maxAge !== null || this.props.query.minAge !== null) {\n            demographicsCount += 1;\n        }\n\n        return (\n            <div className=\"app-header\">\n                <div style={{ flexDirection: \"row\" }}>\n                    <label className=\"pull-right advanced-label text-warning\">\n                        Advanced <span className=\"hidden-xs\">Mode </span> <input\n                            type=\"checkbox\"\n                            checked={ _advanced }\n                            onChange={ e => {\n                                store.dispatch(setQueryType(e.target.checked ? \"advanced\" : \"basic\"))\n                            }}\n                        />\n                    </label>\n                {\n                    _advanced ?\n                    <ul className=\"nav nav-tabs\"/> :\n                    <ul className=\"nav nav-tabs\">\n                        <li className={ !_advanced && _tab == \"demographics\" ? \"active\" : null }>\n                            <a href=\"\" onClick={ e => {e.preventDefault(); setHashParam(\"_tab\", \"demographics\")}}>\n                                <b>Demographics</b>\n                                {\n                                    demographicsCount ?\n                                    <span className=\"hidden-xs\"> <small className=\"badge\">{ demographicsCount }</small></span> :\n                                    null\n                                }\n                            </a>\n                        </li>\n                        <li className={ !_advanced && _tab == \"conditions\" ? \"active\" : null }>\n                            <a href=\"\" onClick={ e => {e.preventDefault(); setHashParam(\"_tab\", \"conditions\")}}>\n                                <b>Conditions</b>\n                                {\n                                    conditionsCount ?\n                                    <span className=\"hidden-xs\"> <small className=\"badge\">{ conditionsCount }</small></span> :\n                                    null\n                                }\n                            </a>\n                        </li>\n                        {\n                            (this.props.settings.hideTagSelector ||\n                            this.props.query.params._id) ?\n                            null :\n                            <li className={ !_advanced && _tab == \"tags\" ? \"active\" : null }>\n                                <a href=\"\" onClick={ e => {e.preventDefault(); setHashParam(\"_tab\", \"tags\")}}>\n                                    <b>Tags</b>\n                                    {\n                                        tagsCount ?\n                                        <span className=\"hidden-xs\"> <small className=\"badge\">{ tagsCount }</small></span> :\n                                        null\n                                    }\n                                </a>\n                            </li>\n                        }\n                    </ul>\n                }\n                </div>\n                <div className=\"tab-content\">\n                    <div className={ \"tab-pane \" + (_advanced ? \"active\" : \"\") }>\n                        { this.renderAdvancedTabContents() }\n                    </div>\n                    <div className={ \"tab-pane \" + (!_advanced && _tab == \"demographics\" ? \"active\" : \"\") }>\n                        { this.renderDemographicsTabContents() }\n                    </div>\n                    <div className={ \"tab-pane \" + (!_advanced && _tab == \"conditions\" ? \"active\" : \"\") }>\n                        { this.renderConditionsTabContents() }\n                    </div>\n                    {\n                        (this.props.settings.hideTagSelector ||\n                            this.props.query.params._id) ?\n                        null :\n                        <div className={ \"tab-pane \" + (!_advanced && _tab == \"tags\" ? \"active\" : \"\") }>\n                            { this.renderTagsTabContents() }\n                        </div>\n                    }\n                    {\n                        !_advanced && this.props.settings.submitStrategy == \"manual\" ?\n                        <div className=\"text-right\" style={{ height: 0 }}>\n                            <button\n                                type=\"button\"\n                                onClick={ () => store.dispatch(fetch()) }\n                                className=\"btn btn-primary btn-submit\"\n                            >\n                                <i className=\"fa fa-search\"/> Search\n                            </button>\n                        </div> :\n                        null\n                    }\n                </div>\n                {\n                    _advanced ?\n                    null :\n                    <SortWidget\n                        sort={ this.props.query.sort }\n                        onChange={ sort => {\n                            store.dispatch(setSort(sort))\n                            store.dispatch(fetch())\n                        }}\n                    />\n                }\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Header/index.js","import React                from \"react\"\nimport PropTypes            from \"prop-types\"\nimport PatientImage         from \"../PatientImage\"\nimport Loader               from \"../Loader\"\nimport { connect }          from \"react-redux\"\nimport $                    from \"jquery\"\nimport { Link }             from \"react-router-dom\"\nimport DialogFooter         from \"../DialogFooter\"\nimport { toggle }           from \"../../redux/selection\"\nimport store                from \"../../redux\"\nimport { queryBuilder }     from \"../../redux/query\"\nimport Observations         from \"../Fhir/Observation\"\nimport ImmunizationList     from \"../Fhir/ImmunizationList\"\nimport ConditionList        from \"../Fhir/ConditionList\"\nimport Encounter            from \"../Fhir/Encounter\"\nimport CarePlan             from \"../Fhir/CarePlan\"\nimport Person               from \"../Fhir/Person\"\nimport ResourceList         from \"../Fhir/ResourceList\"\nimport {\n    getErrorMessage,\n    getPatientName,\n    getPatientPhone,\n    getPatientEmail,\n    getPatientHomeAddress,\n    getPatientAge,\n    getPath,\n    intVal,\n    getBundleURL,\n    parseQueryString,\n    getPatientMRN,\n    getAllPages\n} from \"../../lib\"\nimport \"./PatientDetail.less\"\n\n/**\n * Renders the detail page.\n */\nexport class PatientDetail extends React.Component\n{\n    static propTypes = {\n        match    : PropTypes.object,\n        settings : PropTypes.object,\n        selection: PropTypes.object,\n        query    : PropTypes.object\n    };\n\n    constructor(...args)\n    {\n        super(...args)\n        this.query = queryBuilder.clone();\n        this.state = {\n            loading       : false,\n            error         : null,\n            conditions    : [],\n            patient       : {},\n            index         : 0,\n            hasNext       : false,\n            groups        : {},\n            selectedSubCat: \"\",\n            bundle        : $.isEmptyObject(this.props.query.bundle) ?\n                null :\n                { ...this.props.query.bundle }\n        };\n    }\n\n    componentDidMount()\n    {\n        this.fetch(this.props.match.params.index);\n    }\n\n    componentWillReceiveProps(newProps)\n    {\n        if (newProps.match.params.index !== this.props.match.params.index) {\n            this.fetch(newProps.match.params.index);\n        }\n    }\n\n    fetch(index)\n    {\n        index = intVal(index, -1);\n        if (index < 0) {\n            return this.setState({ error: new Error(\"Invalid patient index\") });\n        }\n\n        this.setState({ loading: true, index }, () => {\n            this.fetchPatient(this.props.settings.server, index)\n            .then(\n                state => {\n                    // console.log(state);\n                    this.setState({\n                        ...state,\n                        error: null,\n                        loading: false\n                    })\n                }\n            )\n            .catch(error => {\n                this.setState({\n                    loading   : false,\n                    error\n                })\n            })\n        })\n    }\n\n    /**\n     * This page receives an \"index\" url parameter. It will repeat the same\n     * query from the search page but with limit=1 and offset=index so that the\n     * search returns only one page. The reason for this is that we also have\n     * these \"Prev Patient\" and \"Next Patient\" buttons that allow the user to\n     * walk through the result one patient at a time.\n     * @param {Object} server\n     * @param {Object} server.url\n     * @param {Object} server.type\n     * @param {Number} index\n     */\n    fetchPatient(server, index)\n    {\n        // =====================================================================\n        // Warning! The following are some ugly workarounds for the ugly API\n        // that does not support normal pagination!\n        // =====================================================================\n\n        return Promise.resolve({ ...this.state })\n\n        // Run the main query to fetch the first page\n        .then(state => {\n            this.query.cacheId = null;\n            this.query.offset  = null;\n            return this.query.fetch(server).then(\n                bundle => {\n                    state.bundle = bundle;\n                    return state;\n                }\n            );\n        })\n\n        // Try to find the patient by index\n        .then(state => {\n            index = intVal(index, -1);\n            if (index < 0) {\n                return Promise.reject(\"Invalid patient index\");\n            }\n\n            state.patient = getPath(state, `bundle.entry.${index}.resource`);\n            state.nextURL = getBundleURL(state.bundle, \"next\");\n            state.hasNext = !!state.nextURL || (state.patient ? index < state.bundle.entry.length - 1 : false);\n            return Promise.resolve(state);\n        })\n\n        // if no patient - jump to it's index\n        .then(state => {\n            if (!state.patient) {\n                let params   = parseQueryString(state.nextURL);\n                this.query.setOffset(params._getpages, index);\n                return this.query.fetch(server).then(\n                    bundle => {\n                        state.bundle  = bundle;\n                        state.patient = getPath(state, `bundle.entry.0.resource`);\n                        state.hasNext = state.patient ?\n                            this.query.limit && this.query.limit > 1 ?\n                                state.bundle.entry.length > 1 :\n                                getBundleURL(state.bundle, \"next\") :\n                            false;\n                        return state;\n                    }\n                )\n            }\n            return state;\n        })\n\n        .then(state => new Promise(resolve => {\n            this.setState(state, () => resolve(state))\n        }))\n\n        // Find $everything\n        .then(state => {\n            return getAllPages({ url: `${server.url}/Patient/${state.patient.id}/$everything?_count=500` })\n            .then(data => {\n                let groups = {};\n                data.forEach(entry => {\n                    let resourceType = getPath(entry, \"resource.resourceType\") || \"Other\";\n                    let type = resourceType;\n\n                    if (type == \"Observation\") {\n                        let subCat = String(\n                            getPath(entry, \"resource.category.0.text\") ||\n                            getPath(entry, \"resource.category.coding.0.code\") ||\n                            getPath(entry, \"resource.category.0.coding.0.code\") ||\n                            \"Other\"\n                        ).toLowerCase();\n\n                        subCat = subCat.split(/\\-+/).map(token => {\n                            return token.charAt(0).toUpperCase() + token.substr(1)\n                        }).join(\" \");\n                        type += \" - \" + subCat;\n                    }\n\n                    if (!Array.isArray(groups[type])) {\n                        groups[type] = []\n                    }\n                    groups[type].push(entry)\n                })\n                state.groups = groups\n                return state\n            })\n        })\n\n        // Feed the results to the app\n        .then(\n            state => Promise.resolve(state),\n            error => Promise.reject(new Error(getErrorMessage(error)))\n        )\n    }\n\n    // Rendering methods -------------------------------------------------------\n\n    renderPatient()\n    {\n        if (this.state.error) {\n            return this.state.error + \"\"\n        }\n\n        let idLower = (this.state.patient.id || \"\").toLowerCase();\n        let key = idLower && Object.keys(this.props.selection).find(k => k.toLowerCase() == idLower);\n        let selected = key && this.props.selection[key] !== false;\n        return (\n            <div className=\"panel panel-default patient col-xs-12\">\n                <div className=\"row\">\n                    { this.state.loading ? <Loader/> : null }\n                    <div className=\"col-xs-2 col-sm-2 col-md-1\">\n                        <div className=\"embed-responsive\">\n                            <PatientImage\n                                patient={ this.state.patient }\n                                className=\"embed-responsive-item\"\n                                base={ this.props.settings.server.url }\n                            />\n                        </div>\n                    </div>\n                    <div className=\"col-xs-10 col-md-11\">\n                        <div className=\"patient-row\">\n                            <div className=\"col-xs-7 patient-name\">\n                                <h3 className=\"pull-left text-primary\">\n                                    { getPatientName(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                                </h3>\n                                {\n                                    selected ?\n                                    <i className=\"label label-success pull-left\">Selected</i> :\n                                    null\n                                }\n                            </div>\n                            <div className=\"col-xs-5 text-right\" style={{ paddingRight: 0 }}>\n                                <button\n                                    type=\"button\"\n                                    className={`btn btn-sm btn-${selected ? \"danger\" : \"primary\"}`}\n                                    onClick={() => store.dispatch(toggle({ id: this.state.patient.id })) }\n                                >\n                                    {\n                                        selected ? \"Unselect\" : \"Select\"\n                                    }\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-default btn-sm\"\n                                    onClick={() => this.fetch(this.props.match.params.index)}\n                                >\n                                    <i className=\"fa fa-refresh\"/> Reload\n                                </button>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Gender:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                { this.state.patient.gender || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">DOB:</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                { this.state.patient.birthDate || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Age:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                { getPatientAge(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Email</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                { getPatientEmail(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Phone:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                { getPatientPhone(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Address:</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                { getPatientHomeAddress(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">ID:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                { this.state.patient.id || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">MRN:</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                { getPatientMRN(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\") }\n                            </div>\n                            {\n                                this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ?\n                                (\n                                    <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">\n                                        <span className=\"deceased-label\">Deceased:</span>\n                                    </div>\n                                ) :\n                                null\n                            }\n                            {\n                                this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ?\n                                (\n                                    <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                        {\n                                            this.state.patient.deceasedDateTime ?\n                                            <span>{ this.state.patient.deceasedDateTime }</span> :\n                                            <span>{ this.state.patient.deceasedBoolean ? \"Yes\" : \"No\" }</span>\n                                        }\n                                    </div>\n                                ) :\n                                null\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderResources(type) {\n        let items = this.state.groups[type] || [];\n        if (!items.length) {\n            return (\n                <p className=\"text-center text-muted\">\n                    No items of type \"{type}\" found\n                </p>\n            )\n        }\n\n        if (type.indexOf(\"Observation\") === 0) {\n            return <Observations resources={items}/>;\n        }\n\n        switch (type) {\n        case \"Immunization\":\n            return <ImmunizationList resources={items} settings={this.props.settings}/>;\n        case \"Condition\":\n            return <ConditionList resources={items} settings={this.props.settings}/>\n        case \"Encounter\":\n            return <Encounter resources={items}/>;\n        case \"CarePlan\":\n            return <CarePlan resources={items}/>;\n        case \"Patient\":\n        case \"Practitioner\":\n        case \"RelatedPerson\":\n            return <Person resources={items} title={type} />;\n        default:\n            return <ResourceList resources={items} type={type} settings={this.props.settings}/>;\n        }\n    }\n\n    render()\n    {\n        let groups = Object.keys(this.state.groups).sort()\n        let selectedSubCat = this.state.selectedSubCat\n        if (!selectedSubCat || !this.state.groups[selectedSubCat]) {\n            selectedSubCat = Object.keys(this.state.groups)[0] || \"\"\n        }\n\n        return (\n            <div className=\"page patient-detail-page\">\n                <nav className=\"navbar bg-primary navbar-fixed-top\">\n                    <div className=\"container-fluid\">\n                        <div className=\"row navigator\">\n                            <div className=\"col-xs-4 col-sm-4 col-md-3 col-lg-2\">\n                                <Link\n                                    to={ `/patient/${this.state.index - 1}` }\n                                    className=\"btn btn-primary btn-block\"\n                                    disabled={ this.state.index < 1 }\n                                >\n                                    <i className=\"fa fa-chevron-left\"/>\n                                    <b>Prev<span className=\"hidden-xs\">ious Patient</span></b>\n                                </Link>\n                            </div>\n                            <div className=\"col-xs-4 col-sm-4 col-md-6 col-lg-8 text-center\">\n                                <Link className=\"btn btn-block text-center\" to=\"/\">\n                                    <span className=\"hidden-xs\">Browse Patients</span>\n                                    <span className=\"visible-xs\">Browse</span>\n                                </Link>\n                            </div>\n                            <div className=\"col-xs-4 col-sm-4 col-md-3 col-lg-2 text-right\">\n                                <Link\n                                    to={ `/patient/${this.state.index + 1}` }\n                                    className=\"btn btn-primary btn-block\"\n                                    disabled={ !this.state.hasNext }\n                                >\n                                    <b>Next<span className=\"hidden-xs\"> Patient</span></b>\n                                    <i className=\"fa fa-chevron-right\"/>\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                </nav>\n                <div className=\"container\">\n\n                    { this.renderPatient() }\n\n                    {\n                        groups.length ?\n                        <div className=\"row patient-details\">\n                            <br/>\n                            <div className=\"col-xs-12 col-sm-3\">\n                                <ul className=\"list-group\">\n                                {\n                                    groups.map((k, i) => (\n                                        <a\n                                            href=\"#\"\n                                            key={i}\n                                            className={ \"list-group-item\" + (k === selectedSubCat ? \" active\" : \"\") }\n                                            onClick={e => {\n                                                e.preventDefault()\n                                                this.setState({\n                                                    selectedSubCat: k\n                                                })\n                                            }}\n                                        >\n                                            <b className=\"badge pull-right\">{this.state.groups[k].length}</b>\n                                            <b>{k}</b>\n                                        </a>\n                                    ))\n                                }\n                                </ul>\n                            </div>\n                            <div className=\"col-xs-12 col-sm-9\">\n                                { this.renderResources(selectedSubCat) }\n                            </div>\n                        </div> :\n                        this.state.loading ?\n                            null:\n                            <div className=\"row\">\n                                <div className=\"col-xs-12 text-muted text-center\">\n                                    No additional details for this patient\n                                </div>\n                            </div>\n                    }\n                </div>\n                {\n                    window.opener || (window.parent && window.parent !== window) ?\n                    <nav className=\"navbar navbar-default navbar-fixed-bottom\">\n                        <div className=\"container-fluid\" style={{ width: \"100%\" }}>\n                            <div className=\"row\">\n                                <div className=\"col-xs-12\" style={{ paddingTop: 8 }}>\n                                    <DialogFooter/>\n                                </div>\n                            </div>\n                        </div>\n                    </nav> :\n                    null\n                }\n            </div>\n        )\n    }\n}\n\nexport default connect(state => state)(PatientDetail)\n\n\n\n// WEBPACK FOOTER //\n// ./components/PatientDetail/index.js","import React                from \"react\"\nimport PropTypes            from \"prop-types\"\nimport PatientListItem      from \"../PatientListItem\"\nimport { toggle, setAll }   from \"../../redux/selection\"\nimport { showSelectedOnly } from \"../../redux/settings\"\nimport { setParam, fetch }  from \"../../redux/query\"\nimport store                from \"../../redux\"\nimport { connect }          from \"react-redux\"\nimport Footer               from \"../Footer\"\nimport Header               from \"../Header\"\nimport ErrorMessage         from \"../ErrorMessage\"\nimport Alert                from \"../Alert\"\nimport                           \"./PatientList.less\"\n\n\nexport class PatientList extends React.Component\n{\n    static propTypes = {\n        query    : PropTypes.object,\n        selection: PropTypes.object,\n        location : PropTypes.object,\n        settings : PropTypes.object,\n        urlParams: PropTypes.object,\n        dispatch : PropTypes.func\n    };\n\n    render() {\n        return (\n            <div className=\"page\">\n                <Header\n                    query={this.props.query}\n                    settings={this.props.settings}\n                    location={this.props.location}\n                    urlParams={this.props.urlParams}\n                />\n                <div className=\"patient-search-results\">\n                    { this.renderContents() }\n                </div>\n                <Footer\n                    query={ this.props.query }\n                    bundle={ this.props.query.bundle }\n                    dispatch={ this.props.dispatch }\n                    selection={ this.props.selection }\n                    canShowSelected\n                />\n            </div>\n        )\n    }\n\n    renderContents() {\n        if (this.props.query.error) {\n            return <ErrorMessage error={this.props.query.error}/>\n        }\n\n        if (!this.props.query.bundle || this.props.query.loading) {\n            return (\n                <div className=\"patient-search-loading\">\n                    <i className=\"fa fa-spinner spin\" /> Loading. Please wait...\n                </div>\n            )\n        }\n\n        if (!this.props.query.bundle.entry || !this.props.query.bundle.entry.length) {\n            return (\n                <Alert>\n                    No patients found to match this search criteria\n                </Alert>\n            )\n        }\n\n        return this.renderPatientItems()\n    }\n\n    renderPatientItems() {\n\n        const isSelected = (item) => {\n            let idLower = (item.resource.id || \"\").toLowerCase();\n            let key = Object.keys(this.props.selection).find(k => k.toLowerCase() == idLower);\n            return key && this.props.selection[key] !== false;\n        }\n\n        let offset = this.props.query.offset || 0\n        let items = this.props.query.bundle.entry || [];\n        if (this.props.settings.renderSelectedOnly) {\n            items = items.filter(isSelected);\n        }\n        return items.map((o, i) => (\n            <PatientListItem\n                { ...o.resource }\n                patient={ o.resource }\n                key={ o.resource.id }\n                index={ offset + i }\n                selected={ isSelected(o) }\n                onSelectionChange={ patient => {\n                    if (this.props.settings.renderSelectedOnly &&\n                        Object.keys(this.props.selection).filter(k => !!this.props.selection[k]).length === 1)\n                    {\n                        store.dispatch(setAll({}))\n                        store.dispatch(showSelectedOnly(false))\n                        store.dispatch(setParam({ name: \"_id\", value: undefined }))\n                        store.dispatch(fetch())\n                    }\n                    else {\n                        store.dispatch(toggle(patient))\n                    }\n                }}\n                query={ this.props.query }\n                settings={ this.props.settings }\n            />\n        ))\n    }\n}\n\nexport default connect(state => state)(PatientList);\n\n\n\n// WEBPACK FOOTER //\n// ./components/PatientList/index.js","import React        from \"react\"\nimport PropTypes    from \"prop-types\"\nimport { Link }     from \"react-router-dom\"\nimport PatientImage from \"../PatientImage\"\nimport moment       from \"moment\"\nimport {\n    getPatientName,\n    getPatientAge,\n    renderSearchHighlight,\n    getPatientMRN\n} from \"../../lib\"\n\n\nexport default class PatientListItem extends React.Component\n{\n    /**\n     * This component expects a Fhir Bundle\n     */\n    static propTypes = {\n        patient          : PropTypes.object,\n        query            : PropTypes.object,\n        settings         : PropTypes.object,\n        selected         : PropTypes.bool,\n        onSelectionChange: PropTypes.func,\n        index            : PropTypes.number\n    };\n\n    static defaultProps = {\n        onSelectionChange: () => 1\n    };\n\n    render() {\n        let age = getPatientAge(this.props.patient)\n        let name = getPatientName(this.props)\n        if (this.props.query.params.name) {\n            name = renderSearchHighlight(name, this.props.query.params.name)\n        }\n\n        return (\n            <Link\n                to={ \"/patient/\" + this.props.index }\n                className={ \"patient\" + ( this.props.selected ? \" selected\" : \"\") }\n            >\n                <div\n                    className=\"patient-select-zone\"\n                    onClick={ e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        this.props.onSelectionChange(this.props.patient)\n                    }}\n                >\n                    <i className={\n                        this.props.selected ?\n                        \"fa fa-check-square-o\" :\n                        \"fa fa-square-o\"\n                    }/>\n                </div>\n                <PatientImage patient={ this.props.patient } base={ this.props.settings.server.url }/>\n                <div className=\"patient-info\">\n                    <b>{ name } {\n                        this.props.patient.deceasedBoolean || this.props.patient.deceasedDateTime ?\n                        <span className=\"deceased-label\">Deceased</span> :\n                        null\n                    }</b>\n                    <small><b>{age}</b> old { this.renderGender() }</small>\n                    <footer className=\"small\">\n                        <span>\n                            DOB: { this.props.patient.birthDate || \"Unknown\" }\n                            {\n                                this.props.patient.deceasedDateTime ?\n                                ' / DOD: ' + moment(this.props.patient.deceasedDateTime).format(\"YYYY-MM-DD\") :\n                                null\n                            }\n                        </span>\n                        <span>ID: { this.props.patient.id || \"Unknown\" }</span>\n                        <span>MRN: { getPatientMRN(this.props.patient) || \"Unknown\" }</span>\n                    </footer>\n                </div>\n                <i className=\"fa fa-angle-right\"/>\n            </Link>\n        )\n    }\n\n    renderGender() {\n        let gender = this.props.patient.gender\n        if (!gender) {\n            return null\n        }\n\n        return (\n            <span className={ gender }>{ gender }</span>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/PatientListItem/index.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./SortWidget.less\"\n\n\nexport default class SortWidget extends React.Component\n{\n    static propTypes = {\n        /**\n         * Fhir sort string like \"status,-date,category\"\n         */\n        sort: PropTypes.string,\n\n        options: PropTypes.arrayOf(PropTypes.shape({\n            name : PropTypes.string,\n            value: PropTypes.string\n        })),\n\n        onChange: PropTypes.func\n    };\n\n    static defaultProps = {\n        sort: \"name,-birthdate\",\n        options: [\n            {\n                label: <span><span className=\"hidden-xs\">Patient </span>ID</span>,\n                name : \"Patient ID\",\n                value: \"_id\"\n            },\n            {\n                name : \"Name\",\n                value: \"given\"\n            },\n            {\n                name : \"Gender\",\n                value: \"gender\"\n            },\n            {\n                name : \"DOB\",\n                value: \"birthdate\"\n            }\n        ]\n    };\n\n    change(name, value) {\n        // console.log(name, value)\n        if (typeof this.props.onChange == \"function\") {\n            let sort = this.parseSort(this.props.sort)\n            if (!value) {\n                if (sort.hasOwnProperty(name)) {\n                    delete sort[name];\n                }\n            }\n            else {\n                sort[name] = value\n            }\n            // console.log(sort, this.compileSort(sort))\n            this.props.onChange(this.compileSort(sort))\n        }\n    }\n\n    parseSort(input) {\n        let sort = {};\n        String(input || \"\").split(\",\").filter(Boolean).forEach(s => {\n            let name = s.replace(/^\\-/, \"\");\n            sort[name] = s.indexOf(\"-\") === 0 ? \"desc\" : \"asc\";\n        })\n        return sort\n    }\n\n    compileSort(sort) {\n        return Object.keys(sort).map(k => sort[k] == \"desc\" ? `-${k}` : k).join(\",\")\n    }\n\n    render() {\n        let sort = this.parseSort(this.props.sort)\n\n        return (\n            <div className=\"sort-widget small\">\n                <span className=\"pull-left\">Sort<span className=\"hidden-xs\"> by</span>:</span>\n                <ul className=\"nav nav-pills\">\n                {\n                    this.props.options.map((o, i) => (\n                        <li\n                            key={ i }\n                            role=\"presentation\"\n                            className={ o.value in sort ? \"active\" : null }\n                        >\n                            <a href=\"#\" onClick={ e => {\n                                e.preventDefault()\n                                let _sort = this.parseSort(this.props.sort)\n                                switch (_sort[o.value]) {\n                                case \"asc\":\n                                    return this.change(o.value, \"desc\")\n                                case \"desc\":\n                                    return this.change(o.value, \"\")\n                                default:\n                                    return this.change(o.value, \"asc\")\n                                }\n                            }}>\n                                { o.label || o.name }\n                                {\n                                    sort[o.value] == \"asc\" ?\n                                    <span className=\"sort\"><span className=\"hidden-xs\"> Asc</span> <i className=\"fa fa-sort-amount-asc\"/></span> :\n                                        sort[o.value] == \"desc\" ?\n                                        <span className=\"sort\"><span className=\"hidden-xs\"> Desc</span> <i className=\"fa fa-sort-amount-desc\"/></span> :\n                                        null\n                                }\n                            </a>\n                        </li>\n                    ))\n                }\n                </ul>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/SortWidget/index.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport $ from \"jquery\"\nimport { renderSearchHighlight } from \"../../lib\"\nimport \"./TagSelector.less\"\n\nexport default class TagSelector extends React.Component\n{\n    static propTypes = {\n        tags    : PropTypes.arrayOf(PropTypes.object),\n        selected: PropTypes.arrayOf(PropTypes.string),\n        onChange: PropTypes.func,\n        search  : PropTypes.string,\n        label   : PropTypes.string\n    };\n\n    static defaultProps = {\n        onChange: () => 1,\n        tags    : [],\n        selected: [],\n        search  : \"\"\n    }\n\n    constructor(...args) {\n        super(...args)\n\n        this.state = {\n            // the selected items as a map of unique keys and tag objects\n            selected: [],\n\n            // is the menu currently visible?\n            open: false,\n\n            // the index of the currently selected option (-1 means no\n            // selection).\n            selectedIndex: -1,\n\n            // The search therm (the value of the input field)\n            search : \"\"\n        };\n\n        this.stateFromProps(this.state, this.props)\n\n        // bind the event handlers to preserve the \"this\" context\n        this.addTag       = this.addTag.bind(this)\n        this.removeTag    = this.removeTag.bind(this)\n        this.onFocus      = this.onFocus.bind(this)\n        this.onBlur       = this.onBlur.bind(this)\n        this.onKeyDown    = this.onKeyDown.bind(this)\n        this.onInput      = this.onInput.bind(this)\n    }\n\n    stateFromProps(state, nextProps) {\n        let hasChanged = false\n        if (nextProps.search) {\n            state.search = nextProps.search;\n            hasChanged = true;\n        }\n\n        if (nextProps.selected) {\n            state.selected = [ ...nextProps.selected.map(\n                t => this.props.tags.find(tag => tag.key === t) || {\n                    key: t,\n                    label: t,\n                    custom: true,\n                    data : {\n                        description: t,\n                        codes: {\n                            \"\": [t]\n                        }\n                    }\n                }\n            ) ]\n            hasChanged = true\n        }\n\n        return hasChanged;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let nextState = {}\n        if (this.stateFromProps(nextState, nextProps)) {\n            this.setState(nextState);\n        }\n    }\n\n    /**\n     * Updates the scroll position of the menu if it is opened and if some of\n     * it's options is selected so that the selected option is always in view.\n     */\n    componentDidUpdate() {\n        let menu = this.refs.menu;\n        if (menu) {\n            let menuHeight    = menu.clientHeight;\n            let menuScrollTop = menu.scrollTop;\n            let paddingTop    = parseInt($(menu).css(\"paddingTop\"), 10);\n            let paddingBottom = parseInt($(menu).css(\"paddingBottom\"), 10);\n            let selected      = $(\".selected\", this.refs.menu);\n\n            if (selected.length) {\n                let selectedTop    = selected[0].offsetTop;\n                let selectedHeight = selected[0].offsetHeight;\n                if (selectedTop < menuScrollTop) {\n                    requestAnimationFrame(() => this.refs.menu.scrollTop = selectedTop - paddingTop)\n                }\n                else if (selectedTop + selectedHeight - menuScrollTop > menuHeight) {\n                    requestAnimationFrame(() => this.refs.menu.scrollTop = selectedTop + selectedHeight +\n                        paddingBottom - menuHeight);\n                }\n            }\n        }\n    }\n\n\n\n    // Event handlers ----------------------------------------------------------\n\n    onFocus() {\n        this.setState({ open: true })\n    }\n\n    onBlur() {\n        this.setState({ open: false })\n    }\n\n    onInput(e) {\n        let listed = this.filterTags(e.target.value);\n        this.setState({\n            search: e.target.value,\n            open: true,\n            selectedIndex: listed.length && this.state.selectedIndex == -1 ?\n                0 :\n                this.state.selectedIndex\n        })\n    }\n\n    /**\n     * This will handle special keys like Enter, Escape and arrows for scrolling\n     */\n    onKeyDown(e) {\n        let listed = this.filterTags(this.state.search);\n        switch (e.keyCode) {\n\n        case 27: // Esc\n            this.setState({ open: false })\n            break;\n\n        case 13: { // Enter\n            // make sure we don't submit the form (if in any)\n            e.preventDefault();\n\n            if (listed.length < 2) {\n                this.setState({ open: false })\n            }\n\n            let index = this.state.selectedIndex;\n            if (index === listed.length - 1) {\n                this.setState({ selectedIndex: index - 1 }, () => {\n                    this.addTag(listed[index])\n                })\n            }\n            else {\n                this.addTag(listed[index])\n            }\n\n            break;\n        }\n\n        case 40: { // Down arrow\n            e.preventDefault();\n            let maxIndex = listed.length - 1\n            this.setState({\n                open         : true,\n                selectedIndex: Math.min(this.state.selectedIndex + 1, maxIndex)\n            });\n            break;\n        }\n\n        case 38: // Up arrow\n            e.preventDefault();\n            if (this.state.selectedIndex > 0) {\n                this.setState({\n                    selectedIndex: this.state.selectedIndex - 1\n                });\n            }\n            else if (this.state.open) {\n                this.setState({\n                    open: false,\n                    selectedIndex: -1\n                })\n            }\n            break;\n        }\n    }\n\n    /**\n     * Happens when the user clicks on an option (or hits the enter key on\n     * selected option)\n     * @param {*} tag\n     * @returns {void}\n     */\n    addTag(tag) {\n\n        if (!tag || !tag.key) {\n            return;\n        }\n\n        // this.shouldn't happen but just in case, check if somebody is trying\n        // to select something that is already selected\n        if (this.state.selected.find(t => t.key === tag.key)) {\n            return;\n        }\n\n        this.setState({\n            ...this.state,\n            selected     : [ ...this.state.selected, tag ],\n            search       : \"\",\n            open         : false,\n            selectedIndex: -1\n        }, () => this.props.onChange(this.state.selected))\n    }\n\n    /**\n     * Happens when the user clicks a close button on a selected tag\n     * @param {*} key\n     */\n    removeTag(key) {\n        if (!key) return;\n        let idx = this.state.selected.findIndex(t => t.key === key);\n        if (idx > -1) {\n            this.state.selected.splice(idx, 1);\n            this.setState({}, () => this.props.onChange(this.state.selected));\n        }\n    }\n\n    // Private helper methods --------------------------------------------------\n\n    filterTags(search) {\n        let tags = this.props.tags.filter(t => {\n\n            // skip the already selected options\n            if (this.state.selected.find(tag => t.key === tag.key)) {\n                return false\n            }\n\n            // search for matches\n            if (search) {\n\n                // first search by name\n                let index = t.label.toLowerCase().indexOf(search.toLowerCase())\n                if (index > -1) {\n                    return true\n                }\n\n                // then search by code\n                if (t.data && t.data.codes && typeof t.data.codes == \"object\") {\n                    for (let system in t.data.codes) {\n                        return t.data.codes[system].some(c => (\n                            c.toLowerCase().indexOf(search.toLowerCase()) > -1\n                        ))\n                    }\n                }\n\n                return false\n            }\n            return true;\n        }).sort((a, b) => {\n            if (a.label > b.label) return 1\n            if (a.label < b.label) return -1\n            return 0\n        }).map(t => ({ ...t }))\n\n        if (this.state.search) {\n            tags.unshift({\n                key   : this.state.search,\n                label : this.state.search,\n                custom: true,\n                data : {\n                    description: this.state.search,\n                    codes: {\n                        \"\": [this.state.search]\n                    }\n                }\n            })\n        }\n\n        return tags\n    }\n\n    // Rendering methods -------------------------------------------------------\n\n    renderTagCode(tag) {\n        if (!tag || !tag.data || !tag.data.codes) {\n            return null;\n        }\n\n        let code = \"\", codes = tag.data.codes;\n        if (codes[\"SNOMED-CT\"]) {\n            code = codes[\"SNOMED-CT\"].join(\"|\")\n        }\n        else {\n            for (let system in codes) {\n                code = `${codes[system].join(\",\")} (${system})`\n                break;\n            }\n        }\n\n        if (this.state.search) {\n            code = renderSearchHighlight(code, this.state.search)\n        }\n\n        return code ?\n            <small key={tag.key} className=\"text-muted code\">{code}:</small> :\n            null;\n    }\n\n    renderTag(tag, index) {\n        return (\n            <div\n                className={\n                    \"menu-item\" +\n                    (this.state.selectedIndex === index ? \" selected\" : \"\") +\n                     (tag.custom ? \" custom text-primary\" : \"\")\n                }\n                key={tag.key}\n                onMouseDown={ e => { e.preventDefault(); this.addTag(tag) }}\n                title={tag.label}\n            >\n                {\n                    tag.custom ?\n                    <span>\n                    Search for <b className=\"tag custom\">\n                        { this.state.search }\n                    </b>{ this.props.label ? \" \" + this.props.label : \"\"}</span> :\n                    null\n                }\n                { tag.custom ? null : this.renderTagCode(tag) }\n                { tag.custom ? null : renderSearchHighlight(tag.label, this.state.search) }\n            </div>\n        )\n    }\n\n    render() {\n        let menuItems = this.filterTags(this.state.search).map(this.renderTag, this)\n        let emptyMenu = menuItems.length === 0\n        let tags = this.state.selected.map(tag => (\n            <div className={\"tag\" + (tag.custom ? \" custom\" : \"\") } key={ tag.key }>\n                { tag.label }\n                <i\n                    className=\"tag-remove fa fa-times-circle\"\n                    title=\"Remove\"\n                    onMouseDown={\n                        e => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            this.removeTag(tag.key)\n                        }\n                    }\n                />\n            </div>\n        ))\n\n        let placeholder = \"Type to search\"\n        if (this.props.label) {\n            placeholder += ` for ${this.props.label}s`\n        }\n        placeholder += ' ...'\n\n        return (\n            <div className={ \"tag-selector\" + (this.state.open ? \" open\" : \"\") }>\n                { tags.length ? <div className=\"tags\">{tags}</div> : null }\n                <input\n                    className=\"input form-control input-sm\"\n                    placeholder={placeholder}\n                    onFocus={ this.onFocus }\n                    onClick={ this.onFocus }\n                    onBlur={ this.onBlur }\n                    onKeyDown={ this.onKeyDown }\n                    onInput={ this.onInput }\n                    onChange={ ()=>1 }\n                    value={ this.state.search }\n                />\n                <i className=\"fa fa-caret-down\"/>\n                {\n                    emptyMenu && !this.state.search ?\n                    null :\n                    <div className=\"menu dropdown-menu\" ref=\"menu\">\n                        { menuItems }\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/TagSelector/index.js","export default {\n    server: {\n        type: \"STU-3\", // \"DSTU-2\" or \"STU-3\" or \"R4\"\n\n        url: \"https://r3.smarthealthit.org\",\n\n        conditions: {},\n\n        tags: []\n    },\n\n    hideTagSelector: false,\n\n    patientsPerPage: 25,\n\n    // AJAX requests timeout\n    timeout: 20000,\n\n    // Only the selected patients are rendered. Should be false or the\n    // preselected patient IDs should be passed to the window. Otherwise\n    // It will result in rendering no patients at all.\n    renderSelectedOnly: false,\n\n    // If enabled is true (then url and param MUST be set) then clicking on the\n    // patient-related resources in detail view will open their source in that\n    // external viewer. Otherwise they will just be opened in new browser tab.\n    fhirViewer: {\n        enabled: true,\n        url    : \"http://docs.smarthealthit.org/fhir-viewer/index.html\",\n        param  : \"url\"\n    },\n\n    // What to send when the OK dialog button is clicked. Possible values:\n    // \"id-list\"  - comma-separated list of patient IDs (default)\n    // \"id-array\" - array of patient IDs\n    // \"patients\" - array of patient JSON objects\n    outputMode: \"id-list\",\n\n    // \"automatic\" -> onChange plus defer in some cases\n    // \"manual\" -> render a submit button\n    submitStrategy: \"manual\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config.default.js","import moment from \"moment\"\nimport { CODE_SYSTEMS } from \"./constants\"\nimport { parseQueryString, request } from \".\"\nimport { intVal, getPath } from \".\"\n\n/**\n * This is just a helper class that is used as a query builder. It has some\n * dedicated setter methods for various query parameters and knows how to\n * compile those into a query string that can be passed to the Patient endpoint\n * of a fhir api server.\n */\nexport default class PatientSearch\n{\n    /**\n     * The constructor just creates an empty instance. Use the setter methods\n     * to set query params and then call compile to build the query string.\n     */\n    constructor(options = {}) {\n\n        this.__cache__ = {};\n\n        this.__scheduled__ = {};\n\n        /**\n         * The list of conditions that should be included in the query.\n         * @type {Object} A map of unique keys and condition objects\n         * @private\n         */\n        this.conditions = { ...(options.conditions || {}) };\n\n        /**\n         * The desired minimal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.minAge = null;\n\n        /**\n         * The desired maximal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.maxAge = null;\n\n        /**\n         * The patient gender to search for (male|female)\n         * @type {String}\n         * @private\n         */\n        this.gender = options.gender || null;\n\n        /**\n         * How many patients to fetch per page. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.limit = options.limit || null;\n\n        /**\n         * How many patients to skip. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.offset = null;\n\n        /**\n         * A collection of additional parameters\n         * @type {Object}\n         * @private\n         */\n        this.params = {};\n\n        /**\n         * This is like a flag that toggle the instance to different modes\n         * (currently only advanced and default are supported)\n         * @type {String} \"advanced\" or \"default\"\n         * @private\n         */\n        this.queryType = options.queryType || \"default\";\n\n        /**\n         * The query string to use if in advanced mode\n         * @type {String}\n         * @private\n         */\n        this.queryString = options.queryString || \"\";\n\n        /**\n         * The sort parameters list\n         * @type {String}\n         * @private\n         */\n        this.sort = options.sort || \"\";\n\n        /**\n         * All the tags that the patients should be filtered by\n         * @type {Array<String>}\n         * @private\n         */\n        this.tags = String(options.tags || \"\").split(/\\s*,\\s*/).filter(Boolean);\n    }\n\n    /**\n     * Schedule a prop change to be made before the next compile\n     * @param {Object} props\n     */\n    schedule(props) {\n        this.__scheduled__ = { ...this.__scheduled__, ...props };\n    }\n\n    hasParam(name) {\n        return this.params.hasOwnProperty(name);\n    }\n\n    /**\n     * Sets a param by name. Note that this is a lower level interface. It does\n     * not know anything about the parameter thus it will not handle UI\n     * dependencies (eg. it won't reset the offset for you)\n     * @param {Name} name The name of the parameter to set\n     * @param {*} value The value to set. Use undefined to remove a parameter\n     * @returns {PatientSearch} Returns the instance\n     */\n    setParam(name, value) {\n        let has = this.hasParam(name)\n        if (value === undefined) {\n            if (has) {\n                delete this.params[name]\n            }\n        }\n        else {\n            this.params[name] = value\n        }\n        this.offset  = null;\n        this.cacheId = null;\n        return this\n    }\n\n    /**\n     * Sets the query type. In advanced mode a query string is provided and\n     * parsed and all the other parameters are ignored. In default mode the\n     * query string is ignored and only the other params are used.\n     * @param {String} type \"advanced\" or anything else for \"default\"\n     * @returns {PatientSearch} Returns the instance\n     */\n    setQueryType(type) {\n        this.queryType = type == \"advanced\" ? \"advanced\" : \"default\"\n        return this\n    }\n\n    /**\n     * Sets the query string to be used while in advanced mode. Note that this\n     * will not be used if not in advanced mode but the query string will still\n     * be persisted so that if the user switches the UI to advanced the last\n     * query can be displayed...\n     * @param {String} query The query string to use if in advanced mode\n     * @returns {PatientSearch} Returns the instance\n     */\n    setQueryString(query) {\n        this.queryString = String(query || \"\")\n        return this\n    }\n\n    /**\n     * Adds a condition to the list of patient conditions\n     * @param {String} key Unique string identifier for that condition\n     * @param {Object} condition The condition to add\n     * @returns {PatientSearch} Returns the instance\n     */\n    addCondition(key, condition) {\n        this.conditions[key] = condition;\n        this.__cache__.patientIDs = null;\n        return this;\n    }\n\n    /**\n     * Removes the condition identified by it's key. If that condition is not\n     * currently included it does nothing\n     * @param {*} key Unique string identifier for that condition\n     * @returns {PatientSearch} Returns the instance\n     */\n    removeCondition(key) {\n        if (this.conditions.hasOwnProperty(key)) {\n            delete this.conditions[key];\n            this.__cache__.patientIDs = null;\n        }\n        return this;\n    }\n\n    /**\n     * Replaces the entire set of conditions at once\n     * @param {Object} conditions The new conditions to set\n     * @returns {PatientSearch} Returns the instance\n     */\n    setConditions(conditions) {\n        this.conditions = { ...conditions };\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        this.__cache__.patientIDs = null;\n        return this;\n    }\n\n    addTag(tag) {\n        if (this.tags.findIndex(tag) == -1) {\n            this.tags.push(tag);\n        }\n        return this;\n    }\n\n    removeTag(tag) {\n        let index = this.tags.findIndex(tag);\n        if (index > -1) {\n            this.tags.splice(index, 1);\n        }\n        return this;\n    }\n\n    setTags(tags) {\n        this.tags = [ ...tags ]\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        return this;\n    }\n\n    /**\n     * Sets the desired min age af the patients. This can also be set to null\n     * (or other falsy value) to exclude the minAge restrictions from the query.\n     * @param {object} age The age\n     * @param {number} age.value The age as number of units\n     * @param {string} age.units The units for the value (years|months|days)\n     * @returns {PatientSearch} Returns the instance\n     */\n    setMinAge(age) {\n        this.minAge  = age;\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        return this;\n    }\n\n    /**\n     * Sets the desired max age af the patients. This can also be set to null\n     * (or other falsy value) to exclude the maxAge restrictions from the query.\n     * @param {object} age The age\n     * @param {number} age.value The age as number of units\n     * @param {string} age.units The units for the value (years|months|days)\n     * @returns {PatientSearch} Returns the instance\n     */\n    setMaxAge(age) {\n        this.maxAge  = age;\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        return this;\n    }\n\n    /**\n     * Sets the min and max ages depending on the specified age group keyword\n     * @param {*} group Can be one of infant, child, adult, elderly.\n     *                  Anything else will clear the age constraints!\n     * @returns {PatientSearch} Returns the instance\n     */\n    setAgeGroup(group) {\n        this.ageGroup = group;\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n\n        switch (group) {\n\n        // infant - 0 to 12 months\n        case \"infant\":\n            this.setMinAge(null);\n            this.setMaxAge({ value: 1, units: \"years\" });\n            break;\n\n        // child - 1 to 18 years\n        case \"child\":\n            this.setMinAge({ value: 1 , units: \"years\" });\n            this.setMaxAge({ value: 18, units: \"years\" });\n            break;\n\n        // adult - 18 to 65 years\n        case \"adult\":\n            this.setMinAge({ value: 18, units: \"years\" });\n            this.setMaxAge({ value: 65, units: \"years\" });\n            break;\n\n        // Elderly - 65+\n        case \"elderly\":\n            this.setMinAge({ value: 65, units: \"years\" });\n            this.setMaxAge(null);\n            break;\n\n        // Anything else clears the birthdate param\n        default:\n            this.setMinAge(null);\n            this.setMaxAge(null);\n            // this.ageGroup = null;\n            break;\n        }\n        return this;\n    }\n\n    /**\n     * Sets the gender to search for. Can be \"male\" or \"female\". Any falsy value\n     * will clear the gender param\n     * @param {String} gender \"male\" or \"female\"\n     * @returns {PatientSearch} Returns the instance\n     */\n    setGender(gender) {\n        if (gender !== this.gender) {\n            this.gender  = gender;\n            this.schedule({\n                offset : null,\n                cacheId: null\n            });\n        }\n        return this;\n    }\n\n    /**\n     * Sets how many patients will be fetched per page\n     * @param {number|string} limit The number of records to fetch\n     * @returns {PatientSearch} Returns the instance\n     */\n    setLimit(limit) {\n        this.limit = intVal(limit)\n        if (this.limit < 1) {\n            this.limit = null;\n        }\n        return this;\n    }\n\n    /**\n     * Sets how many patients will be skipped\n     * @param {string} cacheId The id generated by the server (_getpages)\n     * @param {number|string} offset The number of records to skip\n     * @returns {PatientSearch} Returns the instance\n     */\n    setOffset(cacheId, offset) {\n        this.offset = intVal(offset)\n        this.cacheId = cacheId\n        if (this.offset < 1) {\n            this.offset = null;\n            this.cacheId = null;\n        }\n        return this;\n    }\n\n    /**\n     * Sets the sorting to use\n     * @param {string} sort A fhir sort string like \"status,-date,category\"\n     * @returns {PatientSearch} Returns the instance\n     */\n    setSort(sort) {\n        this.sort = sort;\n        this.offset = null;\n        this.cacheId = null;\n        return this\n    }\n\n    /**\n     * Returns another PatientSearch instance with the exact same state as this.\n     * @returns {PatientSearch} Returns the new copy\n     */\n    clone() {\n        let inst = new PatientSearch();\n\n        inst.conditions = { ...this.conditions };\n        inst.params = { ...this.params };\n        inst.tags = [ ...this.tags ];\n\n        inst.setSort(this.sort)\n            .setAgeGroup(this.ageGroup)\n            .setMinAge(this.minAge)\n            .setMaxAge(this.maxAge)\n            .setGender(this.gender)\n            .setLimit(this.limit)\n            .setOffset(this.cacheId, this.offset)\n            .setQueryType(this.queryType)\n            .setQueryString(this.queryString);\n\n        return inst;\n    }\n\n    /**\n     * Clear all params. If you call compile after clear only the \"_format=json\"\n     * part should be returned\n     * @returns {PatientSearch} Returns the instance\n     */\n    reset() {\n        this.conditions   = {};\n        this.minAge       = null;\n        this.maxAge       = null;\n        this.gender       = null;\n        this.limit        = null;\n        this.offset       = null;\n        this.cacheId      = null;\n        this.ageGroup     = null;\n        this.params       = {};\n        this.queryString  = \"\";\n        this.queryType    = \"default\"\n        this.sort         = \"\";\n        this.tags         = [];\n        return this;\n    }\n\n    /**\n     * Returns an object representing the current state of the instance.\n     * The object contains COPIES of the current param values.\n     * @returns {Object}\n     */\n    getState() {\n        return {\n            conditions  : this.conditions,\n            minAge      : this.minAge,\n            maxAge      : this.maxAge,\n            gender      : this.gender,\n            limit       : this.limit,\n            offset      : this.offset,\n            cacheId     : this.cacheId,\n            ageGroup    : this.ageGroup,\n            params      : { ...this.params },\n            queryString : this.queryString,\n            queryType   : this.queryType,\n            sort        : this.sort,\n            tags        : [ ...this.tags ]\n        };\n    }\n\n    /**\n     * Compiles and returns the query string that can be send to the Patient\n     * endpoint.\n     * @return {String} The compiled query string (without the \"?\" in front)\n     */\n    compile(encode=true) {\n        let params = [];\n\n        [\n            // conditions\n            \"minAge\",\n            \"maxAge\",\n            \"gender\",\n            \"limit\",\n            \"offset\",\n            // \"params\",\n            \"queryType\",\n            \"queryString\",\n            \"sort\"//,\n            // tags\n        ].forEach(prop => {\n            if (this.__scheduled__.hasOwnProperty(prop)) {\n                this[prop] = this.__scheduled__[prop];\n                delete this.__scheduled__[prop];\n            }\n        })\n\n        // Tags ----------------------------------------------------------------\n        if (this.tags.length && !this.params._id) {\n            params.push({ name: \"_tag\", value: this.tags.join(\",\") });\n        }\n\n        // Advanced query ------------------------------------------------------\n        if (this.queryType == \"advanced\") {\n            let str = this.queryString.trim()\n            if (str) {\n                let _query = parseQueryString(str);\n                for (let name in _query) {\n                    params.push({ name, value: _query[name] });\n                }\n            }\n        }\n\n        // Default query -------------------------------------------------------\n        else {\n\n            // Custom params ---------------------------------------------------\n            Object.keys(this.params).forEach(k => {\n                if (String(this.params[k]).trim()) {\n                    params.push({\n                        name : k,\n                        value: this.params[k]\n                    });\n                }\n            });\n\n            // sort ------------------------------------------------------------\n            if (this.sort) {\n                String(this.sort).split(\",\").forEach(token => {\n                    if (token.indexOf(\"-\") === 0) {\n                        params.push({\n                            name : \"_sort:desc\",\n                            value: token.substring(1)\n                        })\n                    }\n                    else {\n                        params.push({\n                            name : \"_sort:asc\",\n                            value: token\n                        })\n                    }\n                })\n                // params.push({\n                //     name : \"_sort\",\n                //     value: this.sort\n                // })\n            }\n\n            if (!this.params._id) {\n\n                // Min age -----------------------------------------------------\n                if (this.minAge) {\n                    let d = moment().subtract(\n                        this.minAge.value,\n                        this.minAge.units\n                    );\n                    params.push({\n                        name : \"birthdate\",\n                        value: \"le\" + d.format('YYYY-MM-DD')\n                    });\n                }\n\n                // Max age -----------------------------------------------------\n                if (this.maxAge) {\n                    let d = moment().subtract(\n                        this.maxAge.value,\n                        this.maxAge.units\n                    );\n                    params.push({\n                        name : \"birthdate\",\n                        value: \"ge\" + d.format('YYYY-MM-DD')\n                    });\n                }\n\n                // exclude deceased patients if age is specified ---------------\n                if (this.maxAge || this.minAge) {\n                    let existing = params.find(p => p.name === \"deceased\");\n                    if (existing) {\n                        existing.value = false;\n                    }\n                    else {\n                        params.push({\n                            name : \"deceased\",\n                            value: false\n                        });\n                    }\n                }\n\n                // Gender ------------------------------------------------------\n                if (this.gender) {\n                    params.push({\n                        name : \"gender\",\n                        value: this.gender\n                    });\n                }\n            }\n        }\n\n        // limit ---------------------------------------------------------------\n        if (this.limit) {\n            params.push({\n                name : \"_count\",\n                value: this.limit\n            });\n        }\n\n        // offset --------------------------------------------------------------\n        if (this.offset && this.cacheId) {\n            params.push({\n                name: \"_getpages\",\n                value: this.cacheId\n            }, {\n                name : \"_getpagesoffset\",\n                value: this.offset\n            });\n        }\n\n        // Compile and return --------------------------------------------------\n        return params.map(p => (\n            encode ?\n                encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value) :\n                p.name + \"=\" + p.value\n        )).join(\"&\");\n    }\n\n    /**\n     * Checks if there are any conditions chosen at the moment\n     * @returns {Boolean}\n     */\n    hasConditions() {\n        for (let key in this.conditions) {\n            if (this.conditions.hasOwnProperty(key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Compiles the current conditions into URL-encoded parameter list\n     * @returns {String}\n     */\n    compileConditions() {\n        // let params = [];\n\n        // for (let key in this.conditions) {\n        //     let condition = this.conditions[key]\n\n        //     // system\n        //     let value = [];\n        //     for (let system in condition.codes) {\n        //         let systemUrl = (CODE_SYSTEMS[system] || {}).url;\n\n        //         // system.code[n] - OR\n        //         condition.codes[system].forEach(c => {\n        //             value.push( systemUrl ? systemUrl + \"|\" + c : c );\n        //         })\n        //     }\n\n        //     if (value.length) {\n        //         params.push({\n        //             name : \"code\",\n        //             value: value.join(\",\")\n        //         })\n        //     }\n        // }\n\n        // return params.map(p => (\n        //     encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value)\n        // )).join(\"&\");\n        let out = []\n        for (let key in this.conditions) {\n            let condition = this.conditions[key]\n\n            // system\n            let value = [];\n            for (let system in condition.codes) {\n                let systemUrl = (CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                // system.code[n] - OR\n                condition.codes[system].forEach(c => {\n                    value.push(systemUrl + \"|\" + c);\n                })\n            }\n\n            if (value.length) {\n                out.push(value.join(\",\"));\n            }\n        }\n        return out.length ? \"code=\" + encodeURIComponent(out.join(\",\")) : \"\";\n    }\n\n    getConditionKeys() {\n        let out = []\n        for (let key in this.conditions) {\n            let condition = this.conditions[key]\n\n            // system\n            let value = [];\n            for (let system in condition.codes) {\n                let systemUrl = (CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                // system.code[n] - OR\n                condition.codes[system].forEach(c => {\n                    value.push(systemUrl + \"|\" + c);\n                })\n            }\n\n            if (value.length) {\n                out.push(value.join(\",\"));\n            }\n        }\n        return out;\n    }\n\n    /**\n     * Returns a promise resolved with a list of patient IDs that have the\n     * specified condition(s)\n     * @param {String} baseURL\n     * @returns {Promise<String[]>}\n     */\n    getPatientIDs(server) {\n\n        if (this.__cache__.patientIDs) {\n            return Promise.resolve(this.__cache__.patientIDs);\n        }\n\n        let conditions = this.compileConditions();\n\n        if (!conditions) {\n            return Promise.resolve([]);\n        }\n\n        /**\n         * The keys (eg: \"http://snomed.info/sct|44054006\") that were set by the\n         * user.\n         * @type {Array<String>}\n         * @private\n         */\n        let conditionKeys = this.getConditionKeys();\n\n        /**\n         * Map of patient IDs as keys and array of condition keys as values.\n         * @private\n         */\n        let patientIDs = {};\n\n        /**\n         * Handles the JSON response (single page) of the conditions query.\n         * Collects the patient IDs and their condition codes into the\n         * patientIDs local variable. When all the pages are fetched, cleans up\n         * the IDs to only contain those that have all the conditions specified\n         * by the user.\n         * @param {Object} response The JSON Conditions bundle response\n         * @returns {Promise<any>} Array of patient ID strings (can be empty)\n         */\n        const handleConditionsResponse = response => {\n\n            // Collect the data\n            if (response.entry) {\n                response.entry.forEach(condition => {\n                    let patientID = server.type == \"DSTU-2\" ?\n                        condition.resource.patient.reference.split(\"/\").pop():\n                        condition.resource.subject.reference.split(\"/\").pop();\n                    if (!patientIDs[patientID]) {\n                        patientIDs[patientID] = [];\n                    }\n                    patientIDs[patientID].push(\n                        (getPath(condition, \"resource.code.coding.0.system\") || \"http://snomed.info/sct\")\n                        + \"|\" + getPath(condition, \"resource.code.coding.0.code\")\n                    );\n                });\n\n                let nextLink = (response.link || []).find(l => l.relation == \"next\");\n                if (nextLink) {\n                    return request({ url: nextLink.url }).then(handleConditionsResponse);\n                }\n            }\n            // console.log(conditionKeys, patientIDs)\n            // Clean up and only leave patients having all the conditions\n            patientIDs = Object.keys(patientIDs).filter(key => {\n                return conditionKeys.every(\n                    conditionKey => patientIDs[key].indexOf(conditionKey) > -1\n                );\n            });\n            // console.log(patientIDs)\n\n            // finally return a promise resolved with the compiled ID array\n            return Promise.resolve(patientIDs);\n        }\n\n        // The conditions to search for\n        let params = [conditions];\n\n        // only need the patient - skip the rest to reduce the response\n        params.push(\n            server.type == \"DSTU-2\" ?\n                \"_elements=patient,code\" :\n                \"_elements=subject,code\"\n        );\n\n        // Set bigger limit here to reduce the chance of having to\n        // make other queries to fetch subsequent pages\n        params.push(\"_count=500\");\n\n        // Tags (not currently available in STU2)\n        if (this.tags.length) {\n            params.push( \"_tag=\" + encodeURIComponent(this.tags.join(\",\")) );\n        }\n\n        return request({\n            url: `${server.url}/Condition?${params.join(\"&\")}`\n        })\n        .then(handleConditionsResponse)\n        .then(ids => {\n            this.__cache__.patientIDs = ids;\n            return ids;\n        });\n    }\n\n    /**\n     * Fetches the patients matching the user-defined conditions. The actual\n     * strategy may vary but regardless of the implementation, a promise is\n     * returned that should eventually be resolved with the result bundle.\n     * @param {String} baseURL\n     * @returns {Promise<Bundle>}\n     */\n    fetch(server) {\n\n        let data = this.compile()\n\n        // STU2 does not work with the deceased param\n        if (server.type == \"DSTU-2\") {\n            data = data.replace(/\\bdeceased=(true|false)\\b/gi, \"\");\n        }\n\n        // prepare the base options for the patient ajax request\n        let options = {\n            url: this.offset && this.cacheId ? server.url : `${server.url}/Patient/_search`,\n            method: this.offset && this.cacheId ? \"GET\" : \"POST\",\n            processData: false,\n            data,\n            headers: {\n                accept: \"application/fhir+json\",\n                \"content-type\": \"application/x-www-form-urlencoded\"\n            }\n        };\n\n        return this.getPatientIDs(server)\n        .then(ids => {\n            if (ids.length) {\n                // if IDs were found - add them to the patient query\n                options.data = [\n                    options.data,\n                    \"_id=\" + encodeURIComponent(ids.join(\",\"))\n                ].filter(Boolean).join(\"&\");\n            }\n            else {\n                // If conditions were specified but no patients were found to\n                // have those conditions, then we should exit early.\n                if (this.hasConditions()) {\n                    return Promise.reject(\n                        \"No patients found with the specified conditions!\"\n                    );\n                }\n            }\n            return options;\n        })\n        .then(request);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/PatientSearch.js","import { parseQueryString } from \"../lib\"\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nconst INITIAL_STATE = parseQueryString(\n    location.hash.replace(/^.*\\?/, \"\")\n)\n\n\n// Export the reducer as default\nexport default function() {\n    return { ...INITIAL_STATE }\n}\n\n\n// WEBPACK FOOTER //\n// ./redux/urlParams.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".age-widget-wrap {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  white-space: nowrap;\\n  padding: 0;\\n  position: relative;\\n  font-size: 12px;\\n}\\n.age-widget-wrap > * {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  margin: 0;\\n  height: 100%;\\n  font-size: 13px;\\n}\\n.age-widget-wrap select {\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  height: 100%;\\n}\\n.age-widget-wrap.custom > select {\\n  flex-grow: 0;\\n  min-width: 0;\\n  flex-basis: 180px;\\n}\\n.age-widget-wrap input {\\n  height: 100%;\\n  border: 1px solid transparent;\\n}\\n.age-widget {\\n  display: flex;\\n  flex-basis: 30%;\\n  min-width: 0;\\n  overflow: hidden;\\n  align-items: center;\\n  box-shadow: 2px 1px 2px -2px #BBB inset;\\n}\\n.age-widget:last-of-type {\\n  border-radius: 0 3px 3px 0;\\n}\\n.age-widget span {\\n  display: flex;\\n  white-space: nowrap;\\n  flex-basis: 7ex;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n  margin: 0 1ex 0 0;\\n  flex-direction: column;\\n  align-content: flex-end;\\n  background: rgba(0, 0, 0, 0.06);\\n  box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  line-height: 2.1em;\\n  padding: 0 1ex;\\n  text-align: right;\\n  height: 100%;\\n  font-weight: 500;\\n}\\n.age-widget input {\\n  flex-shrink: 1;\\n  flex-grow: 2;\\n  flex-basis: 30px;\\n  display: flex;\\n  margin: 0;\\n  background: transparent;\\n  min-width: 32px;\\n  border-right: 1px dotted rgba(0, 0, 0, 0.2);\\n}\\n.age-widget select {\\n  display: flex;\\n  flex-shrink: 1;\\n  flex-grow: 1;\\n  flex-basis: 6em;\\n  min-width: 6em;\\n}\\n.age-widget:hover {\\n  box-shadow: 0 0 0 1px #369;\\n  background: #ebf0f5;\\n}\\n.age-widget.invalid {\\n  background: rgba(255, 0, 0, 0.1);\\n  background: rgba(255, 0, 0, 0.03) repeating-linear-gradient(-45deg, rgba(255, 50, 0, 0), rgba(255, 50, 0, 0) 2.5px, rgba(255, 0, 0, 0.2) 3px, rgba(255, 50, 0, 0) 3.5px);\\n  background-size: 40px 40px;\\n}\\n@media (max-width: 600px) {\\n  .age-widget-wrap.custom {\\n    flex-wrap: wrap;\\n    white-space: normal;\\n    height: auto;\\n  }\\n  .age-widget-wrap.custom > select {\\n    flex-basis: 600px;\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    width: 100%;\\n    line-height: 2.1em;\\n    height: 2.1em;\\n  }\\n  .age-widget-wrap.custom .age-widget {\\n    flex-basis: 50%;\\n    flex-grow: 1;\\n    min-width: none;\\n    box-shadow: 0px 3px 0px -2px #DDD inset;\\n  }\\n  .age-widget-wrap.custom .age-widget:hover {\\n    box-shadow: 0 0 0 1px #369;\\n    background: #ebf0f5;\\n  }\\n  .age-widget-wrap.custom .age-widget:last-of-type {\\n    border-radius: 0 0 3px 0;\\n  }\\n  .age-widget-wrap.custom .age-widget ~ .age-widget span {\\n    box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 0 0 rgba(0, 0, 0, 0.1) inset, 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/AgeSelector/AgeSelector.less\n// module id = 242\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  box-sizing: border-box;\\n}\\nhtml {\\n  height: 100%;\\n  display: block;\\n}\\nbody {\\n  background: linear-gradient(#F6F6F6, #FFF);\\n  color: #444;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  height: 100%;\\n  font-family: \\\"Helvetica Neue\\\", Arial, sans-serif;\\n  font-size: 14px;\\n  line-height: normal;\\n}\\na {\\n  text-decoration: none;\\n  color: #369;\\n}\\na:disabled,\\na[disabled] {\\n  pointer-events: none;\\n  opacity: 0.4 !important;\\n}\\nhr {\\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\\n}\\n*:focus {\\n  outline: none !important;\\n}\\n.tab-content {\\n  background: linear-gradient(#FFF, transparent);\\n  border: 1px solid #DDD;\\n  border-top: 0;\\n  padding: 15px 15px 0;\\n  border-radius: 0 0 5px 5px;\\n}\\n#overlay {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(150, 150, 150, 0.1);\\n  z-index: 1000000000;\\n}\\n#main {\\n  height: 100%;\\n}\\n.app {\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n  height: 100%;\\n}\\n.page {\\n  display: flex;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n.page {\\n  display: flex;\\n}\\n.patient-search-loading {\\n  display: flex;\\n  flex-grow: 1;\\n  align-content: center;\\n  align-items: center;\\n  align-self: center;\\n}\\n.patient-search-loading .fa {\\n  margin: 1ex;\\n}\\n.spin {\\n  animation: spin 2s linear infinite;\\n}\\n@keyframes spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(359deg);\\n  }\\n}\\n.page {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n.pre {\\n  white-space: pre;\\n  font-family: monospace;\\n  font-size: 12px;\\n  display: block;\\n}\\n.search-match {\\n  background: #FFCF39;\\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.8) inset, 0 0 1px rgba(0, 0, 0, 0.99) !important;\\n  border-radius: 2px;\\n  text-shadow: 0 0 1px #FFF !important;\\n  color: #000 !important;\\n}\\n.small.pull-left,\\n.small.pull-right,\\nsmall.pull-left,\\nsmall.pull-right {\\n  margin-top: 0.5ex;\\n}\\nlabel[disabled] {\\n  color: rgba(0, 0, 0, 0.4);\\n  cursor: not-allowed;\\n  user-select: none;\\n}\\n.deceased-label {\\n  vertical-align: baseline;\\n  color: #e45f00;\\n  font-size: 11px;\\n  padding: 0px 4px 1px;\\n  border-radius: 3px;\\n  border: 1px solid #ff6a00;\\n  box-shadow: 0 1px 4px 0px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(255, 255, 255, 0.31) inset;\\n}\\nselect,\\nselect.form-control {\\n  padding: 0 10px;\\n  line-height: 30px;\\n  font: inherit;\\n  background-color: transparent;\\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAxMDAwIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTSA5Ni4wMCw5Ni4wMGwtOTYuMDAsOTYuMDBsIDI1Ni4wMCwyNTYuMDBsIDI1Ni4wMC0yNTYuMDBsLTk2LjAwLTk2LjAwTCAyNTYuMDAsMjU2LjAwTCA5Ni4wMCw5Ni4wMHoiID48L3BhdGg+PC9zdmc+');\\n  background-position: 100% 50%;\\n  background-repeat: no-repeat;\\n  background-size: 15px;\\n  position: relative;\\n  padding-right: 20px;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  -ms-appearance: none;\\n}\\nselect::-ms-expand,\\nselect.form-control::-ms-expand {\\n  display: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/App/App.less\n// module id = 243\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dialog-buttons button {\\n  min-width: 10em;\\n  margin: 0 0 0 1em;\\n}\\n.dialog-buttons label {\\n  margin: 2px 0;\\n  display: flex;\\n  align-items: center;\\n  min-height: 30px;\\n}\\n.dialog-buttons .btn-group {\\n  display: inline-flex;\\n  flex: 0 1 18em;\\n  line-height: 1;\\n  flex-direction: row;\\n  box-shadow: 0 1px 1px #FFF;\\n  margin: 0 6px;\\n}\\n.dialog-buttons .btn-group > .btn {\\n  display: flex;\\n  flex: 1 1 120px;\\n  align-items: center;\\n  align-content: center;\\n  align-self: center;\\n  flex-direction: column;\\n  min-width: 4em;\\n  margin: 0;\\n  border: 1px solid #BBB;\\n  padding: 4px 2ex;\\n  background: linear-gradient(#F9F9F9, #E9E9E9);\\n  font-weight: normal;\\n  color: #666;\\n  text-shadow: 0 1px 0 #FFF;\\n  box-shadow: 0 1px 1px #FFF inset;\\n  overflow: hidden;\\n}\\n.dialog-buttons .btn-group > .btn:hover {\\n  background: linear-gradient(#FFF, #EEE);\\n}\\n.dialog-buttons .btn-group > .btn:active,\\n.dialog-buttons .btn-group > .btn.active {\\n  background: linear-gradient(#CCC, #DDD);\\n  box-shadow: 0 1px 1px #BBB inset;\\n  border-color: #999 #AAA #BBB;\\n}\\n.dialog-buttons .btn-group > .btn + .btn {\\n  margin-left: -1px;\\n}\\n.dialog-buttons .btn-group > .btn:first-child {\\n  border-radius: 4px 0 0 4px;\\n}\\n.dialog-buttons .btn-group > .btn:last-child {\\n  border-radius: 0 4px 4px 0;\\n}\\n.dialog-buttons :disabled .btn-group,\\n.dialog-buttons [disabled] .btn-group,\\n.dialog-buttons .disabled .btn-group {\\n  opacity: 0.5;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/DialogFooter/DialogFooter.less\n// module id = 244\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".app-footer {\\n  position: relative;\\n  z-index: 3;\\n  display: flex;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  justify-content: center;\\n  align-items: center;\\n  box-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.25);\\n  text-shadow: 0 1px 0 #FFF;\\n  background: #F0F0F0;\\n  white-space: nowrap;\\n}\\n.app-footer .row {\\n  padding: 4px 0;\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset;\\n}\\n.app-footer .row + .row {\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset, 0 1px 0 0 rgba(255, 255, 255, 0.9) inset;\\n}\\n.app-footer .row:first-child .col-xs-6 {\\n  padding: 6px 0px;\\n}\\n.app-footer a {\\n  display: block;\\n  padding: 5px 0px;\\n  text-align: center;\\n  border-radius: 4px;\\n  border: 1px solid transparent;\\n}\\n.app-footer a:hover {\\n  background: rgba(51, 122, 183, 0.15);\\n  border: 1px solid rgba(51, 122, 183, 0.29);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/Footer/Footer.less\n// module id = 245\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".app-header {\\n  color: #1f3d5c;\\n  padding: 5px 0 0;\\n  background: linear-gradient(#DFDFDF, #EEE 5px, #e2e2e2);\\n  position: relative;\\n  z-index: 3;\\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.5);\\n  text-shadow: 0 1px 0 #FFF;\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: column;\\n}\\n.app-header .nav.nav-tabs {\\n  padding-left: 5px;\\n}\\n.app-header .nav.nav-tabs a {\\n  padding: 5px 10px;\\n}\\n.app-header .tab-content {\\n  background: linear-gradient(#FFF, #F6F6F6);\\n  border: 0;\\n  border-bottom: 1px solid #BBB;\\n  padding: 5px 5px 0;\\n  border-radius: 0;\\n  font-size: small;\\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.1);\\n}\\n.app-header .badge {\\n  text-shadow: 0 0 1px #FFF;\\n  background: rgba(0, 0, 0, 0.08);\\n  color: #444;\\n  font-weight: 400;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.2) inset;\\n}\\n.app-header .advanced-label {\\n  margin: 7px 6px 0 0;\\n}\\n.app-header .advanced-label input[type=\\\"checkbox\\\"] {\\n  margin: 0;\\n  vertical-align: middle;\\n}\\n.app-header .form-group {\\n  margin-bottom: 5px;\\n}\\n.app-header label,\\n.app-header .alert {\\n  margin-bottom: 3px;\\n}\\n.app-header .alert {\\n  padding: 5px 10px;\\n}\\n.app-header .btn-submit {\\n  margin: 4px 5px 0 auto;\\n  padding: 3px 8px;\\n  box-shadow: -13px 3px 0px -6px #e3e3e3, 13px 3px 0px -6px #e3e3e3, 0px 1px 0px 2px #e3e3e3, 0 2px 0 2px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.4), 0px 1px 1px -1px #FFF inset, 0px -17px 0px -5px rgba(0, 0, 0, 0.05) inset;\\n  border-radius: 30px;\\n  text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.25), 0 0 1px rgba(0, 0, 0, 0.5);\\n  border-color: rgba(0, 0, 0, 0.5);\\n  position: relative;\\n  z-index: 100000000;\\n  min-width: 10%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/Header/Header.less\n// module id = 246\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".loader {\\n  background: rgba(255, 255, 255, 0.5);\\n  text-align: center;\\n  position: absolute;\\n  z-index: 2;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  border-radius: inherit;\\n}\\n.loader div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  font-size: 18px;\\n  transform: translate(-50%, -50%);\\n  background: #FFF;\\n  border-radius: 5px;\\n  padding: 1ex 2em;\\n  box-shadow: 0 0 1px 0px rgba(0, 0, 0, 0.5), 0 0 15px 1px rgba(0, 0, 0, 0.15);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/Loader/Loader.less\n// module id = 247\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".patient-detail-page {\\n  overflow: auto;\\n  padding: 65px 0 50px;\\n  display: block;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-detail-page > .container {\\n  width: 100%;\\n}\\n.patient-detail-page .navigator {\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a {\\n  white-space: nowrap;\\n  padding: 8px 15px;\\n  margin: 5px 0;\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-detail-page .navigator .fa {\\n  margin: 0 5px;\\n}\\n.patient-detail-page .embed-responsive {\\n  padding-bottom: 100%;\\n}\\n.patient-detail-page .page-header {\\n  margin: 0;\\n  padding-bottom: 1.5ex;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient {\\n  background: transparent;\\n  padding: 0;\\n  border: 0;\\n  box-shadow: none;\\n  position: relative;\\n}\\n.patient-detail-page .patient .text-left {\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient-row {\\n  background: rgba(0, 0, 0, 0.05);\\n  border-radius: 3px;\\n  margin-bottom: 5px;\\n  padding: 5px;\\n}\\n.patient-detail-page .patient-row:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.patient-detail-page .patient-row ~ .row > div {\\n  padding: 3px 5px;\\n}\\n.patient-detail-page .patient-row h3 {\\n  margin: 0;\\n  line-height: 1.45em;\\n}\\n.patient-detail-page .patient-row .label {\\n  margin: 8px 0 0 12px;\\n  font-size: 13px;\\n}\\n.patient-detail-page .patient-row .btn {\\n  min-width: 7em;\\n  margin: 2px;\\n}\\n.patient-detail-page .patient-image-wrap {\\n  margin-right: 1ex;\\n}\\n.patient-detail-page .patient-name {\\n  font-size: 24px;\\n}\\n.patient-detail-page td,\\n.patient-detail-page th {\\n  font-size: 13px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .text-muted,\\n.patient-detail-page th .text-muted {\\n  font-weight: 400;\\n}\\n.patient-detail-page td b,\\n.patient-detail-page th b {\\n  font-weight: 500;\\n}\\n.patient-detail-page td label,\\n.patient-detail-page th label {\\n  margin-bottom: 0;\\n}\\n.patient-detail-page td td,\\n.patient-detail-page th td {\\n  vertical-align: top;\\n  font-size: 12px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .label-cell,\\n.patient-detail-page th .label-cell {\\n  color: #888;\\n  white-space: nowrap;\\n  text-align: right;\\n  font-weight: 400;\\n  padding-right: 1ex;\\n}\\n.patient-detail-page td .label-cell:after,\\n.patient-detail-page th .label-cell:after {\\n  content: \\\": \\\";\\n}\\n.patient-detail-page td {\\n  font-weight: 500;\\n}\\n.patient-detail-page th {\\n  font-weight: 700;\\n}\\n.patient-detail-page thead th .glyphicon,\\n.patient-detail-page thead th .fa {\\n  text-shadow: 0 1px 2px #FFF, 0 0 0px #214b6f;\\n  color: rgba(51, 122, 183, 0.3);\\n}\\n.patient-detail-page .patient-details {\\n  white-space: normal;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .badge {\\n  opacity: 0.75;\\n  margin: 0 0 0 2px;\\n}\\n.patient-detail-page .patient-details table a {\\n  white-space: normal;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .panel-heading {\\n  text-shadow: 0 1px 0 #FFF;\\n}\\n.patient-detail-page .list-group-item {\\n  padding-top: 7px;\\n  padding-bottom: 7px;\\n}\\n.patient-detail-page .group-header {\\n  cursor: pointer;\\n  background: linear-gradient(90deg, #ebf2f8, #f5f8fb);\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-header .glyphicon-triangle-bottom {\\n  position: relative;\\n  top: 2px;\\n}\\n.patient-detail-page .group-header ~ tr > td:first-child {\\n  text-indent: 17px;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child {\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child:before {\\n  content: \\\"\\\\E250\\\";\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  font-family: 'Glyphicons Halflings';\\n  font-style: normal;\\n  font-weight: 400;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  margin-right: 3px;\\n  opacity: 0.3;\\n}\\n.patient-detail-page .table-responsive {\\n  border: none !important;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientDetail/PatientDetail.less\n// module id = 248\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".patient-image-wrap {\\n  height: 80px;\\n  width: 80px;\\n  background: #F6F6F6;\\n  border-radius: 3px;\\n  text-align: center;\\n  position: relative;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.5) inset, 0 0 1px 1px #FFF;\\n  background-size: cover;\\n  background-position: center;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientImage/PatientImage.less\n// module id = 249\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".patient-search-results {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  background: #FFF;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-search-results .male {\\n  color: #369;\\n}\\n.patient-search-results .female {\\n  color: #936;\\n}\\n.patient-search-results .patient {\\n  position: relative;\\n  padding: 1ex;\\n  cursor: pointer;\\n  flex-flow: 0;\\n  flex-shrink: 0;\\n  align-items: center;\\n  display: flex;\\n  transition: background 0.1s;\\n  color: #444;\\n  text-decoration: none;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.85) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n}\\n.patient-search-results .patient:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-search-results .patient .patient-select-zone {\\n  display: inline-block;\\n  vertical-align: middle;\\n  height: 54px;\\n  line-height: 54px;\\n  width: 30px;\\n  border-radius: 3px;\\n  text-align: center;\\n  color: #369;\\n  min-width: 30px;\\n}\\n.patient-search-results .patient .patient-select-zone:hover {\\n  background: rgba(51, 102, 153, 0.1);\\n}\\n.patient-search-results .patient .fa-angle-right {\\n  opacity: 0.5;\\n  font-size: 20px;\\n  display: flex;\\n  flex-basis: 1em;\\n}\\n.patient-search-results .patient .patient-image-wrap {\\n  height: 54px;\\n  width: 54px;\\n  margin: 0 1ex;\\n}\\n.patient-search-results .patient .patient-info {\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info > b {\\n  font-size: 16px;\\n  line-height: 1;\\n  display: block;\\n  margin-bottom: 2px;\\n}\\n.patient-search-results .patient .patient-info small {\\n  opacity: 0.7;\\n  display: block;\\n}\\n.patient-search-results .patient .patient-info footer {\\n  opacity: 0.7;\\n  display: flex;\\n  flex-direction: row;\\n  margin-top: 5px;\\n}\\n.patient-search-results .patient .patient-info footer > span {\\n  display: flex;\\n  flex-basis: 14em;\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info footer > span + span {\\n  margin-left: 2em;\\n}\\n.patient-search-results .patient.selected {\\n  background: #369;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.05) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n  text-shadow: 0 0 1px #000;\\n}\\n.patient-search-results .patient.selected,\\n.patient-search-results .patient.selected * {\\n  color: #FFF;\\n}\\n.patient-search-results .patient.selected .patient-image-wrap {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 0 0.5px rgba(255, 255, 255, 0.5) inset;\\n}\\n.patient-search-results .patient.selected .patient-select-zone:hover {\\n  background: rgba(255, 255, 255, 0.07);\\n}\\n.patient-search-results .patient.selected:hover {\\n  background: #2f5e8e;\\n}\\n@media (max-width: 480px) {\\n  .patient-search-results .patient .patient-info footer span + span {\\n    display: none;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientList/PatientList.less\n// module id = 250\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sort-widget {\\n  padding: 0 5px;\\n  float: left;\\n  width: 100%;\\n}\\n.sort-widget > span {\\n  padding: 6px 1ex 0 0;\\n  font-weight: bold;\\n}\\n.sort-widget .nav.nav-pills li {\\n  margin: 3px 3px 3px 0;\\n}\\n.sort-widget .nav.nav-pills li a {\\n  padding: 4px 8px;\\n}\\n.sort-widget .nav.nav-pills li a .sort {\\n  opacity: 0.6;\\n}\\n.sort-widget .nav.nav-pills li.active a,\\n.sort-widget .nav.nav-pills li:hover a,\\n.sort-widget .nav.nav-pills li:active a,\\n.sort-widget .nav.nav-pills li a:focus {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2) inset;\\n}\\n.sort-widget .nav.nav-pills li.active a {\\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/SortWidget/SortWidget.less\n// module id = 251\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tag-selector {\\n  position: relative;\\n  display: block;\\n  width: 100%;\\n  color: #000;\\n  min-width: 200px;\\n  font-size: small;\\n}\\n.tag-selector .tags {\\n  margin-bottom: 4px;\\n}\\n.tag-selector input {\\n  padding-right: 24px;\\n}\\n.tag-selector .tag {\\n  margin: 1px 6px 1px 0px;\\n  padding: 3px 26px 3px 6px;\\n  background: #DC9;\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5) inset;\\n  border-radius: 3px;\\n  color: #520;\\n  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);\\n  display: inline-block;\\n  position: relative;\\n  font-weight: 500;\\n  line-height: 1.2;\\n  font-size: 12px;\\n  cursor: default;\\n}\\n.tag-selector .tag:last-of-type {\\n  margin-right: 0;\\n}\\n.tag-selector .tag .tag-remove {\\n  position: absolute;\\n  top: 4px;\\n  right: 5px;\\n  color: rgba(0, 0, 0, 0.4);\\n  text-shadow: none;\\n  opacity: 0.6;\\n}\\n.tag-selector .tag:hover {\\n  background-color: #d7c286;\\n}\\n.tag-selector .tag:hover .tag-remove {\\n  opacity: 0.5;\\n}\\n.tag-selector .tag:hover .tag-remove:hover {\\n  opacity: 1;\\n  color: #900;\\n}\\n.tag-selector .tag.custom {\\n  background: #adc2d6;\\n  color: #19334d;\\n}\\n.tag-selector .tag.custom:hover {\\n  background-color: #9cb5ce;\\n}\\n.tag-selector .menu {\\n  padding: 4px;\\n  top: 100%;\\n  width: 100%;\\n  text-align: left;\\n  max-height: 50vh;\\n  overflow: auto;\\n  z-index: 10000000000;\\n}\\n.tag-selector .menu-item {\\n  padding: 5px 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  cursor: default;\\n}\\n.tag-selector .menu-item small {\\n  line-height: 1.4;\\n  font-weight: 400;\\n}\\n.tag-selector .menu-item .code {\\n  width: 110px;\\n  display: inline-block;\\n  text-align: right;\\n  padding-right: 1ex;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  float: left;\\n  margin: 1px 0 -1px;\\n}\\n.tag-selector .menu-item:hover {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n.tag-selector .menu-item.selected {\\n  color: #FFF;\\n  background: #369;\\n  text-shadow: 0 0 1px #000000;\\n}\\n.tag-selector .menu-item.selected small {\\n  color: rgba(255, 255, 255, 0.6);\\n  text-shadow: none;\\n}\\n.tag-selector .menu-item.selected .tag.custom {\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5);\\n}\\n.tag-selector .menu-item.custom {\\n  font-weight: bold;\\n  cursor: pointer;\\n  padding: 3px 10px;\\n}\\n.tag-selector .menu-item.custom + .menu-item {\\n  position: relative;\\n  overflow: visible;\\n  margin-top: 9px;\\n}\\n.tag-selector .menu-item.custom + .menu-item:before {\\n  content: \\\"\\\";\\n  display: block;\\n  height: 1px;\\n  background: #CCC;\\n  position: absolute;\\n  top: -5px;\\n  left: 0;\\n  right: 0;\\n}\\n.tag-selector .menu-item.custom .tag {\\n  margin: 0 1px;\\n  padding: 3px 6px;\\n  line-height: 1;\\n}\\n.tag-selector.open {\\n  outline: none;\\n}\\n.tag-selector .fa.fa-caret-down {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/TagSelector/TagSelector.less\n// module id = 252\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/events/events.js\n// module id = 253\n// module chunks = 0","/*!\n * for-in <https://github.com/jonschlinkert/for-in>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function forIn(obj, fn, thisArg) {\n  for (var key in obj) {\n    if (fn.call(thisArg, obj[key], key, obj) === false) {\n      break;\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/for-in/index.js\n// module id = 254\n// module chunks = 0","\"use strict\";function _interopDefault(t){return t&&\"object\"==typeof t&&\"default\"in t?t.default:t}Object.defineProperty(exports,\"__esModule\",{value:!0});var resolvePathname=_interopDefault(require(\"resolve-pathname\")),valueEqual=_interopDefault(require(\"value-equal\"));require(\"tiny-warning\");var invariant=_interopDefault(require(\"tiny-invariant\"));function _extends(){return(_extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}).apply(this,arguments)}function addLeadingSlash(t){return\"/\"===t.charAt(0)?t:\"/\"+t}function stripLeadingSlash(t){return\"/\"===t.charAt(0)?t.substr(1):t}function hasBasename(t,n){return 0===t.toLowerCase().indexOf(n.toLowerCase())&&-1!==\"/?#\".indexOf(t.charAt(n.length))}function stripBasename(t,n){return hasBasename(t,n)?t.substr(n.length):t}function stripTrailingSlash(t){return\"/\"===t.charAt(t.length-1)?t.slice(0,-1):t}function parsePath(t){var n=t||\"/\",e=\"\",a=\"\",r=n.indexOf(\"#\");-1!==r&&(a=n.substr(r),n=n.substr(0,r));var o=n.indexOf(\"?\");return-1!==o&&(e=n.substr(o),n=n.substr(0,o)),{pathname:n,search:\"?\"===e?\"\":e,hash:\"#\"===a?\"\":a}}function createPath(t){var n=t.pathname,e=t.search,a=t.hash,r=n||\"/\";return e&&\"?\"!==e&&(r+=\"?\"===e.charAt(0)?e:\"?\"+e),a&&\"#\"!==a&&(r+=\"#\"===a.charAt(0)?a:\"#\"+a),r}function createLocation(t,n,e,a){var r;\"string\"==typeof t?(r=parsePath(t)).state=n:(void 0===(r=_extends({},t)).pathname&&(r.pathname=\"\"),r.search?\"?\"!==r.search.charAt(0)&&(r.search=\"?\"+r.search):r.search=\"\",r.hash?\"#\"!==r.hash.charAt(0)&&(r.hash=\"#\"+r.hash):r.hash=\"\",void 0!==n&&void 0===r.state&&(r.state=n));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname \"'+r.pathname+'\" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(r.key=e),a?r.pathname?\"/\"!==r.pathname.charAt(0)&&(r.pathname=resolvePathname(r.pathname,a.pathname)):r.pathname=a.pathname:r.pathname||(r.pathname=\"/\"),r}function locationsAreEqual(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&valueEqual(t.state,n.state)}function createTransitionManager(){var o=null;var a=[];return{setPrompt:function(t){return o=t,function(){o===t&&(o=null)}},confirmTransitionTo:function(t,n,e,a){if(null!=o){var r=\"function\"==typeof o?o(t,n):o;\"string\"==typeof r?\"function\"==typeof e?e(r,a):a(!0):a(!1!==r)}else a(!0)},appendListener:function(t){var n=!0;function e(){n&&t.apply(void 0,arguments)}return a.push(e),function(){n=!1,a=a.filter(function(t){return t!==e})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];a.forEach(function(t){return t.apply(void 0,n)})}}}var canUseDOM=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);function getConfirmation(t,n){n(window.confirm(t))}function supportsHistory(){var t=window.navigator.userAgent;return(-1===t.indexOf(\"Android 2.\")&&-1===t.indexOf(\"Android 4.0\")||-1===t.indexOf(\"Mobile Safari\")||-1!==t.indexOf(\"Chrome\")||-1!==t.indexOf(\"Windows Phone\"))&&(window.history&&\"pushState\"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf(\"Trident\")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf(\"Firefox\")}function isExtraneousPopstateEvent(t){return void 0===t.state&&-1===navigator.userAgent.indexOf(\"CriOS\")}var PopStateEvent=\"popstate\",HashChangeEvent=\"hashchange\";function getHistoryState(){try{return window.history.state||{}}catch(t){return{}}}function createBrowserHistory(t){void 0===t&&(t={}),canUseDOM||invariant(!1);var s=window.history,c=supportsHistory(),n=!supportsPopStateOnHashChange(),e=t,a=e.forceRefresh,h=void 0!==a&&a,r=e.getUserConfirmation,u=void 0===r?getConfirmation:r,o=e.keyLength,i=void 0===o?6:o,f=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):\"\";function l(t){var n=t||{},e=n.key,a=n.state,r=window.location,o=r.pathname+r.search+r.hash;return f&&(o=stripBasename(o,f)),createLocation(o,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(t){_extends(T,t),T.length=s.length,v.notifyListeners(T.location,T.action)}function g(t){isExtraneousPopstateEvent(t)||w(l(t.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(n){if(m)m=!1,p();else{v.confirmTransitionTo(n,\"POP\",u,function(t){t?p({action:\"POP\",location:n}):function(t){var n=T.location,e=H.indexOf(n.key);-1===e&&(e=0);var a=H.indexOf(t.key);-1===a&&(a=0);var r=e-a;r&&(m=!0,L(r))}(n)})}}var y=l(getHistoryState()),H=[y.key];function x(t){return f+createPath(t)}function L(t){s.go(t)}var O=0;function E(t){1===(O+=t)&&1===t?(window.addEventListener(PopStateEvent,g),n&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),n&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:s.length,action:\"POP\",location:y,createHref:x,push:function(t,n){var i=createLocation(t,n,d(),T.location);v.confirmTransitionTo(i,\"PUSH\",u,function(t){if(t){var n=x(i),e=i.key,a=i.state;if(c)if(s.pushState({key:e,state:a},null,n),h)window.location.href=n;else{var r=H.indexOf(T.location.key),o=H.slice(0,r+1);o.push(i.key),H=o,p({action:\"PUSH\",location:i})}else window.location.href=n}})},replace:function(t,n){var o=\"REPLACE\",i=createLocation(t,n,d(),T.location);v.confirmTransitionTo(i,o,u,function(t){if(t){var n=x(i),e=i.key,a=i.state;if(c)if(s.replaceState({key:e,state:a},null,n),h)window.location.replace(n);else{var r=H.indexOf(T.location.key);-1!==r&&(H[r]=i.key),p({action:o,location:i})}else window.location.replace(n)}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var n=v.setPrompt(t);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),n()}},listen:function(t){var n=v.appendListener(t);return E(1),function(){E(-1),n()}}};return T}var HashChangeEvent$1=\"hashchange\",HashPathCoders={hashbang:{encodePath:function(t){return\"!\"===t.charAt(0)?t:\"!/\"+stripLeadingSlash(t)},decodePath:function(t){return\"!\"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(t){var n=t.indexOf(\"#\");return-1===n?t:t.slice(0,n)}function getHashPath(){var t=window.location.href,n=t.indexOf(\"#\");return-1===n?\"\":t.substring(n+1)}function pushHashPath(t){window.location.hash=t}function replaceHashPath(t){window.location.replace(stripHash(window.location.href)+\"#\"+t)}function createHashHistory(t){void 0===t&&(t={}),canUseDOM||invariant(!1);var n=window.history,e=(supportsGoWithoutReloadUsingHash(),t),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,r=e.hashType,o=void 0===r?\"slash\":r,s=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):\"\",c=HashPathCoders[o],h=c.encodePath,u=c.decodePath;function f(){var t=u(getHashPath());return s&&(t=stripBasename(t,s)),createLocation(t)}var l=createTransitionManager();function d(t){_extends(E,t),E.length=n.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var t=getHashPath(),n=h(t);if(t!==n)replaceHashPath(n);else{var e=f(),a=E.location;if(!v&&function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash}(a,e))return;if(p===createPath(e))return;p=null,function(n){if(v)v=!1,d();else{l.confirmTransitionTo(n,\"POP\",i,function(t){t?d({action:\"POP\",location:n}):function(t){var n=E.location,e=y.lastIndexOf(createPath(n));-1===e&&(e=0);var a=y.lastIndexOf(createPath(t));-1===a&&(a=0);var r=e-a;r&&(v=!0,H(r))}(n)})}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(t){n.go(t)}var x=0;function L(t){1===(x+=t)&&1===t?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:n.length,action:\"POP\",location:w,createHref:function(t){var n=document.querySelector(\"base\"),e=\"\";return n&&n.getAttribute(\"href\")&&(e=stripHash(window.location.href)),e+\"#\"+h(s+createPath(t))},push:function(t,n){var o=createLocation(t,void 0,void 0,E.location);l.confirmTransitionTo(o,\"PUSH\",i,function(t){if(t){var n=createPath(o),e=h(s+n);if(getHashPath()!==e){p=n,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),r=y.slice(0,a+1);r.push(n),y=r,d({action:\"PUSH\",location:o})}else d()}})},replace:function(t,n){var r=\"REPLACE\",o=createLocation(t,void 0,void 0,E.location);l.confirmTransitionTo(o,r,i,function(t){if(t){var n=createPath(o),e=h(s+n);getHashPath()!==e&&(p=n,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=n),d({action:r,location:o})}})},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(t){void 0===t&&(t=!1);var n=l.setPrompt(t);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),n()}},listen:function(t){var n=l.appendListener(t);return L(1),function(){L(-1),n()}}};return E}function clamp(t,n,e){return Math.min(Math.max(t,n),e)}function createMemoryHistory(t){void 0===t&&(t={});var n=t,r=n.getUserConfirmation,e=n.initialEntries,a=void 0===e?[\"/\"]:e,o=n.initialIndex,i=void 0===o?0:o,s=n.keyLength,c=void 0===s?6:s,h=createTransitionManager();function u(t){_extends(g,t),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,c)}var l=clamp(i,0,a.length-1),d=a.map(function(t){return createLocation(t,void 0,\"string\"==typeof t?f():t.key||f())}),v=createPath;function p(t){var n=clamp(g.index+t,0,g.entries.length-1),e=g.entries[n];h.confirmTransitionTo(e,\"POP\",r,function(t){t?u({action:\"POP\",location:e,index:n}):u()})}var g={length:d.length,action:\"POP\",location:d[l],index:l,entries:d,createHref:v,push:function(t,n){var a=createLocation(t,n,f(),g.location);h.confirmTransitionTo(a,\"PUSH\",r,function(t){if(t){var n=g.index+1,e=g.entries.slice(0);e.length>n?e.splice(n,e.length-n,a):e.push(a),u({action:\"PUSH\",location:a,index:n,entries:e})}})},replace:function(t,n){var e=\"REPLACE\",a=createLocation(t,n,f(),g.location);h.confirmTransitionTo(a,e,r,function(t){t&&(g.entries[g.index]=a,u({action:e,location:a}))})},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(t){var n=g.index+t;return 0<=n&&n<g.entries.length},block:function(t){return void 0===t&&(t=!1),h.setPrompt(t)},listen:function(t){return h.appendListener(t)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/history/cjs/history.min.js\n// module id = 255\n// module chunks = 0","'use strict';\nrequire('./warnAboutDeprecatedCJSRequire.js')('createHashHistory');\nmodule.exports = require('./index.js').createHashHistory;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/history/createHashHistory.js\n// module id = 256\n// module chunks = 0","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/history.min.js');\n} else {\n  module.exports = require('./cjs/history.js');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/history/index.js\n// module id = 257\n// module chunks = 0","'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(format, subs) {\n    var index = 0;\n    var message =\n      'Warning: ' +\n      (subs.length > 0\n        ? format.replace(/%s/g, function() {\n            return subs[index++];\n          })\n        : format);\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging history ---\n      // This error was thrown as a convenience so that you can use the\n      // stack trace to find the callsite that triggered this warning.\n      throw new Error(message);\n    } catch (e) {}\n  };\n}\n\nmodule.exports = function(member) {\n  printWarning(\n    'Please use `require(\"history\").%s` instead of `require(\"history/%s\")`. ' +\n      'Support for the latter will be removed in the next major release.',\n    [member, member]\n  );\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/history/warnAboutDeprecatedCJSRequire.js\n// module id = 258\n// module chunks = 0","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isPlainObject = require('is-plain-object');\n\nmodule.exports = function isExtendable(val) {\n  return isPlainObject(val) || typeof val === 'function' || Array.isArray(val);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/is-extendable/index.js\n// module id = 260\n// module chunks = 0","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/is-plain-object/index.js\n// module id = 261\n// module chunks = 0","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/isobject/index.js\n// module id = 263\n// module chunks = 0","// json5.js\n// Modern JSON. See README.md for details.\n//\n// This file is based directly off of Douglas Crockford's json_parse.js:\n// https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js\n\nvar JSON5 = (typeof exports === 'object' ? exports : {});\n\nJSON5.parse = (function () {\n    \"use strict\";\n\n// This is a function that can parse a JSON5 text, producing a JavaScript\n// data structure. It is a simple, recursive descent parser. It does not use\n// eval or regular expressions, so it can be used as a model for implementing\n// a JSON5 parser in other languages.\n\n// We are defining the function inside of another function to avoid creating\n// global variables.\n\n    var at,           // The index of the current character\n        lineNumber,   // The current line number\n        columnNumber, // The current column number\n        ch,           // The current character\n        escapee = {\n            \"'\":  \"'\",\n            '\"':  '\"',\n            '\\\\': '\\\\',\n            '/':  '/',\n            '\\n': '',       // Replace escaped newlines in strings w/ empty string\n            b:    '\\b',\n            f:    '\\f',\n            n:    '\\n',\n            r:    '\\r',\n            t:    '\\t'\n        },\n        ws = [\n            ' ',\n            '\\t',\n            '\\r',\n            '\\n',\n            '\\v',\n            '\\f',\n            '\\xA0',\n            '\\uFEFF'\n        ],\n        text,\n\n        renderChar = function (chr) {\n            return chr === '' ? 'EOF' : \"'\" + chr + \"'\";\n        },\n\n        error = function (m) {\n\n// Call error when something is wrong.\n\n            var error = new SyntaxError();\n            // beginning of message suffix to agree with that provided by Gecko - see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\n            error.message = m + \" at line \" + lineNumber + \" column \" + columnNumber + \" of the JSON5 data. Still to read: \" + JSON.stringify(text.substring(at - 1, at + 19));\n            error.at = at;\n            // These two property names have been chosen to agree with the ones in Gecko, the only popular\n            // environment which seems to supply this info on JSON.parse\n            error.lineNumber = lineNumber;\n            error.columnNumber = columnNumber;\n            throw error;\n        },\n\n        next = function (c) {\n\n// If a c parameter is provided, verify that it matches the current character.\n\n            if (c && c !== ch) {\n                error(\"Expected \" + renderChar(c) + \" instead of \" + renderChar(ch));\n            }\n\n// Get the next character. When there are no more characters,\n// return the empty string.\n\n            ch = text.charAt(at);\n            at++;\n            columnNumber++;\n            if (ch === '\\n' || ch === '\\r' && peek() !== '\\n') {\n                lineNumber++;\n                columnNumber = 0;\n            }\n            return ch;\n        },\n\n        peek = function () {\n\n// Get the next character without consuming it or\n// assigning it to the ch varaible.\n\n            return text.charAt(at);\n        },\n\n        identifier = function () {\n\n// Parse an identifier. Normally, reserved words are disallowed here, but we\n// only use this for unquoted object keys, where reserved words are allowed,\n// so we don't check for those here. References:\n// - http://es5.github.com/#x7.6\n// - https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Variables\n// - http://docstore.mik.ua/orelly/webprog/jscript/ch02_07.htm\n// TODO Identifiers can have Unicode \"letters\" in them; add support for those.\n\n            var key = ch;\n\n            // Identifiers must start with a letter, _ or $.\n            if ((ch !== '_' && ch !== '$') &&\n                    (ch < 'a' || ch > 'z') &&\n                    (ch < 'A' || ch > 'Z')) {\n                error(\"Bad identifier as unquoted key\");\n            }\n\n            // Subsequent characters can contain digits.\n            while (next() && (\n                    ch === '_' || ch === '$' ||\n                    (ch >= 'a' && ch <= 'z') ||\n                    (ch >= 'A' && ch <= 'Z') ||\n                    (ch >= '0' && ch <= '9'))) {\n                key += ch;\n            }\n\n            return key;\n        },\n\n        number = function () {\n\n// Parse a number value.\n\n            var number,\n                sign = '',\n                string = '',\n                base = 10;\n\n            if (ch === '-' || ch === '+') {\n                sign = ch;\n                next(ch);\n            }\n\n            // support for Infinity (could tweak to allow other words):\n            if (ch === 'I') {\n                number = word();\n                if (typeof number !== 'number' || isNaN(number)) {\n                    error('Unexpected word for number');\n                }\n                return (sign === '-') ? -number : number;\n            }\n\n            // support for NaN\n            if (ch === 'N' ) {\n              number = word();\n              if (!isNaN(number)) {\n                error('expected word to be NaN');\n              }\n              // ignore sign as -NaN also is NaN\n              return number;\n            }\n\n            if (ch === '0') {\n                string += ch;\n                next();\n                if (ch === 'x' || ch === 'X') {\n                    string += ch;\n                    next();\n                    base = 16;\n                } else if (ch >= '0' && ch <= '9') {\n                    error('Octal literal');\n                }\n            }\n\n            switch (base) {\n            case 10:\n                while (ch >= '0' && ch <= '9' ) {\n                    string += ch;\n                    next();\n                }\n                if (ch === '.') {\n                    string += '.';\n                    while (next() && ch >= '0' && ch <= '9') {\n                        string += ch;\n                    }\n                }\n                if (ch === 'e' || ch === 'E') {\n                    string += ch;\n                    next();\n                    if (ch === '-' || ch === '+') {\n                        string += ch;\n                        next();\n                    }\n                    while (ch >= '0' && ch <= '9') {\n                        string += ch;\n                        next();\n                    }\n                }\n                break;\n            case 16:\n                while (ch >= '0' && ch <= '9' || ch >= 'A' && ch <= 'F' || ch >= 'a' && ch <= 'f') {\n                    string += ch;\n                    next();\n                }\n                break;\n            }\n\n            if(sign === '-') {\n                number = -string;\n            } else {\n                number = +string;\n            }\n\n            if (!isFinite(number)) {\n                error(\"Bad number\");\n            } else {\n                return number;\n            }\n        },\n\n        string = function () {\n\n// Parse a string value.\n\n            var hex,\n                i,\n                string = '',\n                delim,      // double quote or single quote\n                uffff;\n\n// When parsing for string values, we must look for ' or \" and \\ characters.\n\n            if (ch === '\"' || ch === \"'\") {\n                delim = ch;\n                while (next()) {\n                    if (ch === delim) {\n                        next();\n                        return string;\n                    } else if (ch === '\\\\') {\n                        next();\n                        if (ch === 'u') {\n                            uffff = 0;\n                            for (i = 0; i < 4; i += 1) {\n                                hex = parseInt(next(), 16);\n                                if (!isFinite(hex)) {\n                                    break;\n                                }\n                                uffff = uffff * 16 + hex;\n                            }\n                            string += String.fromCharCode(uffff);\n                        } else if (ch === '\\r') {\n                            if (peek() === '\\n') {\n                                next();\n                            }\n                        } else if (typeof escapee[ch] === 'string') {\n                            string += escapee[ch];\n                        } else {\n                            break;\n                        }\n                    } else if (ch === '\\n') {\n                        // unescaped newlines are invalid; see:\n                        // https://github.com/aseemk/json5/issues/24\n                        // TODO this feels special-cased; are there other\n                        // invalid unescaped chars?\n                        break;\n                    } else {\n                        string += ch;\n                    }\n                }\n            }\n            error(\"Bad string\");\n        },\n\n        inlineComment = function () {\n\n// Skip an inline comment, assuming this is one. The current character should\n// be the second / character in the // pair that begins this inline comment.\n// To finish the inline comment, we look for a newline or the end of the text.\n\n            if (ch !== '/') {\n                error(\"Not an inline comment\");\n            }\n\n            do {\n                next();\n                if (ch === '\\n' || ch === '\\r') {\n                    next();\n                    return;\n                }\n            } while (ch);\n        },\n\n        blockComment = function () {\n\n// Skip a block comment, assuming this is one. The current character should be\n// the * character in the /* pair that begins this block comment.\n// To finish the block comment, we look for an ending */ pair of characters,\n// but we also watch for the end of text before the comment is terminated.\n\n            if (ch !== '*') {\n                error(\"Not a block comment\");\n            }\n\n            do {\n                next();\n                while (ch === '*') {\n                    next('*');\n                    if (ch === '/') {\n                        next('/');\n                        return;\n                    }\n                }\n            } while (ch);\n\n            error(\"Unterminated block comment\");\n        },\n\n        comment = function () {\n\n// Skip a comment, whether inline or block-level, assuming this is one.\n// Comments always begin with a / character.\n\n            if (ch !== '/') {\n                error(\"Not a comment\");\n            }\n\n            next('/');\n\n            if (ch === '/') {\n                inlineComment();\n            } else if (ch === '*') {\n                blockComment();\n            } else {\n                error(\"Unrecognized comment\");\n            }\n        },\n\n        white = function () {\n\n// Skip whitespace and comments.\n// Note that we're detecting comments by only a single / character.\n// This works since regular expressions are not valid JSON(5), but this will\n// break if there are other valid values that begin with a / character!\n\n            while (ch) {\n                if (ch === '/') {\n                    comment();\n                } else if (ws.indexOf(ch) >= 0) {\n                    next();\n                } else {\n                    return;\n                }\n            }\n        },\n\n        word = function () {\n\n// true, false, or null.\n\n            switch (ch) {\n            case 't':\n                next('t');\n                next('r');\n                next('u');\n                next('e');\n                return true;\n            case 'f':\n                next('f');\n                next('a');\n                next('l');\n                next('s');\n                next('e');\n                return false;\n            case 'n':\n                next('n');\n                next('u');\n                next('l');\n                next('l');\n                return null;\n            case 'I':\n                next('I');\n                next('n');\n                next('f');\n                next('i');\n                next('n');\n                next('i');\n                next('t');\n                next('y');\n                return Infinity;\n            case 'N':\n              next( 'N' );\n              next( 'a' );\n              next( 'N' );\n              return NaN;\n            }\n            error(\"Unexpected \" + renderChar(ch));\n        },\n\n        value,  // Place holder for the value function.\n\n        array = function () {\n\n// Parse an array value.\n\n            var array = [];\n\n            if (ch === '[') {\n                next('[');\n                white();\n                while (ch) {\n                    if (ch === ']') {\n                        next(']');\n                        return array;   // Potentially empty array\n                    }\n                    // ES5 allows omitting elements in arrays, e.g. [,] and\n                    // [,null]. We don't allow this in JSON5.\n                    if (ch === ',') {\n                        error(\"Missing array element\");\n                    } else {\n                        array.push(value());\n                    }\n                    white();\n                    // If there's no comma after this value, this needs to\n                    // be the end of the array.\n                    if (ch !== ',') {\n                        next(']');\n                        return array;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad array\");\n        },\n\n        object = function () {\n\n// Parse an object value.\n\n            var key,\n                object = {};\n\n            if (ch === '{') {\n                next('{');\n                white();\n                while (ch) {\n                    if (ch === '}') {\n                        next('}');\n                        return object;   // Potentially empty object\n                    }\n\n                    // Keys can be unquoted. If they are, they need to be\n                    // valid JS identifiers.\n                    if (ch === '\"' || ch === \"'\") {\n                        key = string();\n                    } else {\n                        key = identifier();\n                    }\n\n                    white();\n                    next(':');\n                    object[key] = value();\n                    white();\n                    // If there's no comma after this pair, this needs to be\n                    // the end of the object.\n                    if (ch !== ',') {\n                        next('}');\n                        return object;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad object\");\n        };\n\n    value = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n        white();\n        switch (ch) {\n        case '{':\n            return object();\n        case '[':\n            return array();\n        case '\"':\n        case \"'\":\n            return string();\n        case '-':\n        case '+':\n        case '.':\n            return number();\n        default:\n            return ch >= '0' && ch <= '9' ? number() : word();\n        }\n    };\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\n    return function (source, reviver) {\n        var result;\n\n        text = String(source);\n        at = 0;\n        lineNumber = 1;\n        columnNumber = 1;\n        ch = ' ';\n        result = value();\n        white();\n        if (ch) {\n            error(\"Syntax error\");\n        }\n\n// If there is a reviver function, we recursively walk the new structure,\n// passing each name/value pair to the reviver function for possible\n// transformation, starting with a temporary root object that holds the result\n// in an empty key. If there is not a reviver function, we simply return the\n// result.\n\n        return typeof reviver === 'function' ? (function walk(holder, key) {\n            var k, v, value = holder[key];\n            if (value && typeof value === 'object') {\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = walk(value, k);\n                        if (v !== undefined) {\n                            value[k] = v;\n                        } else {\n                            delete value[k];\n                        }\n                    }\n                }\n            }\n            return reviver.call(holder, key, value);\n        }({'': result}, '')) : result;\n    };\n}());\n\n// JSON5 stringify will not quote keys where appropriate\nJSON5.stringify = function (obj, replacer, space) {\n    if (replacer && (typeof(replacer) !== \"function\" && !isArray(replacer))) {\n        throw new Error('Replacer must be a function or an array');\n    }\n    var getReplacedValueOrUndefined = function(holder, key, isTopLevel) {\n        var value = holder[key];\n\n        // Replace the value with its toJSON value first, if possible\n        if (value && value.toJSON && typeof value.toJSON === \"function\") {\n            value = value.toJSON();\n        }\n\n        // If the user-supplied replacer if a function, call it. If it's an array, check objects' string keys for\n        // presence in the array (removing the key/value pair from the resulting JSON if the key is missing).\n        if (typeof(replacer) === \"function\") {\n            return replacer.call(holder, key, value);\n        } else if(replacer) {\n            if (isTopLevel || isArray(holder) || replacer.indexOf(key) >= 0) {\n                return value;\n            } else {\n                return undefined;\n            }\n        } else {\n            return value;\n        }\n    };\n\n    function isWordChar(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            (c >= '0' && c <= '9') ||\n            c === '_' || c === '$';\n    }\n\n    function isWordStart(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            c === '_' || c === '$';\n    }\n\n    function isWord(key) {\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (!isWordStart(key[0])) {\n            return false;\n        }\n        var i = 1, length = key.length;\n        while (i < length) {\n            if (!isWordChar(key[i])) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    }\n\n    // export for use in tests\n    JSON5.isWord = isWord;\n\n    // polyfills\n    function isArray(obj) {\n        if (Array.isArray) {\n            return Array.isArray(obj);\n        } else {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        }\n    }\n\n    function isDate(obj) {\n        return Object.prototype.toString.call(obj) === '[object Date]';\n    }\n\n    var objStack = [];\n    function checkForCircular(obj) {\n        for (var i = 0; i < objStack.length; i++) {\n            if (objStack[i] === obj) {\n                throw new TypeError(\"Converting circular structure to JSON\");\n            }\n        }\n    }\n\n    function makeIndent(str, num, noNewLine) {\n        if (!str) {\n            return \"\";\n        }\n        // indentation no more than 10 chars\n        if (str.length > 10) {\n            str = str.substring(0, 10);\n        }\n\n        var indent = noNewLine ? \"\" : \"\\n\";\n        for (var i = 0; i < num; i++) {\n            indent += str;\n        }\n\n        return indent;\n    }\n\n    var indentStr;\n    if (space) {\n        if (typeof space === \"string\") {\n            indentStr = space;\n        } else if (typeof space === \"number\" && space >= 0) {\n            indentStr = makeIndent(\" \", space, true);\n        } else {\n            // ignore space parameter\n        }\n    }\n\n    // Copied from Crokford's implementation of JSON\n    // See https://github.com/douglascrockford/JSON-js/blob/e39db4b7e6249f04a195e7dd0840e610cc9e941e/json2.js#L195\n    // Begin\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        meta = { // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    };\n    function escapeString(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string' ?\n                c :\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n    // End\n\n    function internalStringify(holder, key, isTopLevel) {\n        var buffer, res;\n\n        // Replace the value, if necessary\n        var obj_part = getReplacedValueOrUndefined(holder, key, isTopLevel);\n\n        if (obj_part && !isDate(obj_part)) {\n            // unbox objects\n            // don't unbox dates, since will turn it into number\n            obj_part = obj_part.valueOf();\n        }\n        switch(typeof obj_part) {\n            case \"boolean\":\n                return obj_part.toString();\n\n            case \"number\":\n                if (isNaN(obj_part) || !isFinite(obj_part)) {\n                    return \"null\";\n                }\n                return obj_part.toString();\n\n            case \"string\":\n                return escapeString(obj_part.toString());\n\n            case \"object\":\n                if (obj_part === null) {\n                    return \"null\";\n                } else if (isArray(obj_part)) {\n                    checkForCircular(obj_part);\n                    buffer = \"[\";\n                    objStack.push(obj_part);\n\n                    for (var i = 0; i < obj_part.length; i++) {\n                        res = internalStringify(obj_part, i, false);\n                        buffer += makeIndent(indentStr, objStack.length);\n                        if (res === null || typeof res === \"undefined\") {\n                            buffer += \"null\";\n                        } else {\n                            buffer += res;\n                        }\n                        if (i < obj_part.length-1) {\n                            buffer += \",\";\n                        } else if (indentStr) {\n                            buffer += \"\\n\";\n                        }\n                    }\n                    objStack.pop();\n                    if (obj_part.length) {\n                        buffer += makeIndent(indentStr, objStack.length, true)\n                    }\n                    buffer += \"]\";\n                } else {\n                    checkForCircular(obj_part);\n                    buffer = \"{\";\n                    var nonEmpty = false;\n                    objStack.push(obj_part);\n                    for (var prop in obj_part) {\n                        if (obj_part.hasOwnProperty(prop)) {\n                            var value = internalStringify(obj_part, prop, false);\n                            isTopLevel = false;\n                            if (typeof value !== \"undefined\" && value !== null) {\n                                buffer += makeIndent(indentStr, objStack.length);\n                                nonEmpty = true;\n                                key = isWord(prop) ? prop : escapeString(prop);\n                                buffer += key + \":\" + (indentStr ? ' ' : '') + value + \",\";\n                            }\n                        }\n                    }\n                    objStack.pop();\n                    if (nonEmpty) {\n                        buffer = buffer.substring(0, buffer.length-1) + makeIndent(indentStr, objStack.length) + \"}\";\n                    } else {\n                        buffer = '{}';\n                    }\n                }\n                return buffer;\n            default:\n                // functions and undefined should be ignored\n                return undefined;\n        }\n    }\n\n    // special case...when undefined is used inside of\n    // a compound object/array, return null.\n    // but when top-level, return undefined\n    var topLevelHolder = {\"\":obj};\n    if (obj === undefined) {\n        return getReplacedValueOrUndefined(topLevelHolder, '', true);\n    }\n    return internalStringify(topLevelHolder, '', true);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/json5/lib/json5.js\n// module id = 264\n// module chunks = 0","'use strict';\n\nvar isExtendable = require('is-extendable');\nvar forIn = require('for-in');\n\nfunction mixinDeep(target, objects) {\n  var len = arguments.length, i = 0;\n  while (++i < len) {\n    var obj = arguments[i];\n    if (isObject(obj)) {\n      forIn(obj, copy, target);\n    }\n  }\n  return target;\n}\n\n/**\n * Copy properties from the source object to the\n * target object.\n *\n * @param  {*} `val`\n * @param  {String} `key`\n */\n\nfunction copy(val, key) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  var obj = this[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    this[key] = val;\n  }\n}\n\n/**\n * Returns true if `val` is an object or function.\n *\n * @param  {any} val\n * @return {Boolean}\n */\n\nfunction isObject(val) {\n  return isExtendable(val) && !Array.isArray(val);\n}\n\n/**\n * Returns true if `key` is a valid key to use when extending objects.\n *\n * @param  {String} `key`\n * @return {Boolean}\n */\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\n/**\n * Expose `mixinDeep`\n */\n\nmodule.exports = mixinDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/mixin-deep/index.js\n// module id = 274\n// module chunks = 0","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler(event);\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup(event) {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(function () {\n      return onOpen(event);\n    }, 0);\n  };\n\n  var closePopup = function closePopup(event) {\n    var _focusedElBeforeOpen$;\n\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) (_focusedElBeforeOpen$ = focusedElBeforeOpen.current) === null || _focusedElBeforeOpen$ === void 0 ? void 0 : _focusedElBeforeOpen$.focus();\n    setTimeout(function () {\n      return onClose(event);\n    }, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup(event);else closePopup(event);\n  };\n\n  var onMouseEnter = function onMouseEnter(event) {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(function () {\n      return openPopup(event);\n    }, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave(event) {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(function () {\n      return closePopup(event);\n    }, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/reactjs-popup/dist/reactjs-popup.esm.js\n// module id = 305\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/style-loader/fixUrls.js\n// module id = 326\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/AgeSelector/AgeSelector.less\n// module id = 327\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/App/App.less\n// module id = 328\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/DialogFooter/DialogFooter.less\n// module id = 329\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Footer/Footer.less\n// module id = 330\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Header/Header.less\n// module id = 331\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Loader/Loader.less\n// module id = 332\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientDetail/PatientDetail.less\n// module id = 333\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientImage/PatientImage.less\n// module id = 334\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientList/PatientList.less\n// module id = 335\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SortWidget/SortWidget.less\n// module id = 336\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/TagSelector/TagSelector.less\n// module id = 337\n// module chunks = 0"],"sourceRoot":""}